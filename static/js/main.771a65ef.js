/*! For license information please see main.771a65ef.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var r=n(9754),i=n(7067),a=n(8585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},6525:function(e,t,n){var r=n(8331);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,n){var r=n(9713);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,i=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),i=n(3884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8331:function(e,t,n){var r=n(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),a=n(379),o=n(8206);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},371:function(e,t,n){var r=n(6525).default,i=n(9754).default,a=n(1109).default,o=n(319).default,s=n(2205).default,u=n(9842).default,c=n(4575).default,l=n(3913).default,f=n(3038).default;e.exports=function(){"use strict";var e="transitionend",t=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t},n=function(e){var n=t(e);return n&&document.querySelector(n)?n:null},h=function(e){var n=t(e);return n?document.querySelector(n):null},d=function(t){t.dispatchEvent(new Event(e))},p=function(e){return!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType)},v=function(e){return p(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null},m=function(e,t,n){Object.keys(n).forEach((function(r){var i,a=n[r],o=t[r],s=o&&p(o)?"element":null==(i=o)?"".concat(i):{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(a).test(s))throw new TypeError("".concat(e.toUpperCase(),': Option "').concat(r,'" provided type "').concat(s,'" but expected type "').concat(a,'".'))}))},y=function(e){return!(!p(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility")},g=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))},k=function e(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},b=function(){},w=function(e){e.offsetHeight},_=function(){var e=window.jQuery;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},x=[],E=function(){return"rtl"===document.documentElement.dir},I=function(e){var t;t=function(){var t=_();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}},"loading"===document.readyState?(x.length||document.addEventListener("DOMContentLoaded",(function(){x.forEach((function(e){return e()}))})),x.push(t)):t()},S=function(e){"function"==typeof e&&e()},T=function(t,n){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])S(t);else{var r=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(n)+5,i=!1,a=function r(a){a.target===n&&(i=!0,n.removeEventListener(e,r),S(t))};n.addEventListener(e,a),setTimeout((function(){i||d(n)}),r)}},C=function(e,t,n,r){var i=e.indexOf(t);if(-1===i)return e[!n&&r?e.length-1:0];var a=e.length;return i+=n?1:-1,r&&(i=(i+a)%a),e[Math.max(0,Math.min(i,a-1))]},N=/[^.]*(?=\..*)\.|.*/,A=/\..*/,O=/::\d+$/,D={},P=1,R={mouseenter:"mouseover",mouseleave:"mouseout"},L=/^(mouseenter|mouseleave)/i,M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function F(e,t){return t&&"".concat(t,"::").concat(P++)||e.uidEvent||P++}function j(e){var t=F(e);return e.uidEvent=t,D[t]=D[t]||{},D[t]}function U(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(e),i=0,a=r.length;i<a;i++){var o=e[r[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function V(e,t,n){var r="string"==typeof t,i=r?n:t,a=q(e);return M.has(a)||(a=e),[r,i,a]}function B(e,t,n,r,i){if("string"==typeof t&&e){if(n||(n=r,r=null),L.test(t)){var a=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};r?r=a(r):n=a(n)}var o=V(t,n,r),s=f(o,3),u=s[0],c=s[1],l=s[2],h=j(e),d=h[l]||(h[l]={}),p=U(d,c,u?n:null);if(p)p.oneOff=p.oneOff&&i;else{var v=F(c,t.replace(N,"")),m=u?function(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode)for(var s=a.length;s--;)if(a[s]===o)return i.delegateTarget=o,r.oneOff&&H.off(e,i.type,t,n),n.apply(o,[i]);return null}}(e,n,r):function(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&H.off(e,r.type,t),t.apply(e,[r])}}(e,n);m.delegationSelector=u?n:null,m.originalHandler=c,m.oneOff=i,m.uidEvent=v,d[v]=m,e.addEventListener(l,m,u)}}}function z(e,t,n,r,i){var a=U(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function q(e){return e=e.replace(A,""),R[e]||e}var H={on:function(e,t,n,r){B(e,t,n,r,!1)},one:function(e,t,n,r){B(e,t,n,r,!0)},off:function(e,t,n,r){if("string"==typeof t&&e){var i=V(t,n,r),a=f(i,3),o=a[0],s=a[1],u=a[2],c=u!==t,l=j(e),h=t.startsWith(".");if(void 0===s){h&&Object.keys(l).forEach((function(n){!function(e,t,n,r){var i=t[n]||{};Object.keys(i).forEach((function(a){if(a.includes(r)){var o=i[a];z(e,t,n,o.originalHandler,o.delegationSelector)}}))}(e,l,n,t.slice(1))}));var d=l[u]||{};Object.keys(d).forEach((function(n){var r=n.replace(O,"");if(!c||t.includes(r)){var i=d[n];z(e,l,u,i.originalHandler,i.delegationSelector)}}))}else{if(!l||!l[u])return;z(e,l,u,s,o?n:null)}}},trigger:function(e,t,n){if("string"!=typeof t||!e)return null;var r,i=_(),a=q(t),o=t!==a,s=M.has(a),u=!0,c=!0,l=!1,f=null;return o&&i&&(r=i.Event(t,n),i(e).trigger(r),u=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented()),s?(f=document.createEvent("HTMLEvents")).initEvent(a,u,!0):f=new CustomEvent(t,{bubbles:u,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((function(e){Object.defineProperty(f,e,{get:function(){return n[e]}})})),l&&f.preventDefault(),c&&e.dispatchEvent(f),f.defaultPrevented&&void 0!==r&&r.preventDefault(),f}},K=new Map,W={set:function(e,t,n){K.has(e)||K.set(e,new Map);var r=K.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:function(e,t){return K.has(e)&&K.get(e).get(t)||null},remove:function(e,t){if(K.has(e)){var n=K.get(e);n.delete(t),0===n.size&&K.delete(e)}}},G=function(){function e(t){c(this,e),(t=v(t))&&(this._element=t,W.set(this._element,this.constructor.DATA_KEY,this))}return l(e,[{key:"dispose",value:function(){var e=this;W.remove(this._element,this.constructor.DATA_KEY),H.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((function(t){e[t]=null}))}},{key:"_queueCallback",value:function(e,t){T(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}}],[{key:"getInstance",value:function(e){return W.get(v(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),e}(),Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;H.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!g(this)){var i=h(this)||this.closest(".".concat(r));e.getOrCreateInstance(i)[t]()}}))},$=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"close",value:function(){var e=this;if(!H.trigger(this._element,"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback((function(){return e._destroyElement()}),this._element,t)}}},{key:"_destroyElement",value:function(){this._element.remove(),H.trigger(this._element,"closed.bs.alert"),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(G);Q($,"close"),I($);var X='[data-bs-toggle="button"]',Y=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(G);function J(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function Z(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}H.on(document,"click.bs.button.data-api",X,(function(e){e.preventDefault();var t=e.target.closest(X);Y.getOrCreateInstance(t).toggle()})),I(Y);var ee={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat(Z(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat(Z(t)))},getDataAttributes:function(e){if(!e)return{};var t={};return Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")})).forEach((function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=J(e.dataset[n])})),t},getDataAttribute:function(e,t){return J(e.getAttribute("data-bs-".concat(Z(t))))},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}}},te={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,o(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,o(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){for(var n=[],r=e.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(", ");return this.find(t,e).filter((function(e){return!g(e)&&y(e)}))}},ne="carousel",re={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ie={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ae="next",oe="prev",se="left",ue="right",ce={ArrowLeft:ue,ArrowRight:se},le="slid.bs.carousel",fe="active",he=".active.carousel-item",de=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(r),i._indicatorsElement=te.findOne(".carousel-indicators",i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}return l(n,[{key:"next",value:function(){this._slide(ae)}},{key:"nextWhenVisible",value:function(){!document.hidden&&y(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(oe)}},{key:"pause",value:function(e){e||(this._isPaused=!0),te.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(d(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(e){var t=this;this._activeElement=te.findOne(he,this._element);var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)H.one(this._element,le,(function(){return t.to(e)}));else{if(n===e)return this.pause(),void this.cycle();var r=e>n?ae:oe;this._slide(r,this._items[e])}}},{key:"_getConfig",value:function(e){return e=a(a(a({},re),ee.getDataAttributes(this._element)),"object"==typeof e?e:{}),m(ne,e,ie),e}},{key:"_handleSwipe",value:function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?ue:se)}}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&H.on(this._element,"keydown.bs.carousel",(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(H.on(this._element,"mouseenter.bs.carousel",(function(t){return e.pause(t)})),H.on(this._element,"mouseleave.bs.carousel",(function(t){return e.cycle(t)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e=this,t=function(t){return e._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType)},n=function(n){t(n)?e.touchStartX=n.clientX:e._pointerEvent||(e.touchStartX=n.touches[0].clientX)},r=function(t){e.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-e.touchStartX},i=function(n){t(n)&&(e.touchDeltaX=n.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};te.find(".carousel-item img",this._element).forEach((function(e){H.on(e,"dragstart.bs.carousel",(function(e){return e.preventDefault()}))})),this._pointerEvent?(H.on(this._element,"pointerdown.bs.carousel",(function(e){return n(e)})),H.on(this._element,"pointerup.bs.carousel",(function(e){return i(e)})),this._element.classList.add("pointer-event")):(H.on(this._element,"touchstart.bs.carousel",(function(e){return n(e)})),H.on(this._element,"touchmove.bs.carousel",(function(e){return r(e)})),H.on(this._element,"touchend.bs.carousel",(function(e){return i(e)})))}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=ce[e.key];t&&(e.preventDefault(),this._slide(t))}}},{key:"_getItemIndex",value:function(e){return this._items=e&&e.parentNode?te.find(".carousel-item",e.parentNode):[],this._items.indexOf(e)}},{key:"_getItemByOrder",value:function(e,t){var n=e===ae;return C(this._items,t,n,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(e,t){var n=this._getItemIndex(e),r=this._getItemIndex(te.findOne(he,this._element));return H.trigger(this._element,"slide.bs.carousel",{relatedTarget:e,direction:t,from:r,to:n})}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=te.findOne(".active",this._indicatorsElement);t.classList.remove(fe),t.removeAttribute("aria-current");for(var n=te.find("[data-bs-target]",this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[r].classList.add(fe),n[r].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var e=this._activeElement||te.findOne(he,this._element);if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}}},{key:"_slide",value:function(e,t){var n=this,r=this._directionToOrder(e),i=te.findOne(he,this._element),a=this._getItemIndex(i),o=t||this._getItemByOrder(r,i),s=this._getItemIndex(o),u=Boolean(this._interval),c=r===ae,l=c?"carousel-item-start":"carousel-item-end",f=c?"carousel-item-next":"carousel-item-prev",h=this._orderToDirection(r);if(o&&o.classList.contains(fe))this._isSliding=!1;else if(!this._isSliding&&!this._triggerSlideEvent(o,h).defaultPrevented&&i&&o){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;var d=function(){H.trigger(n._element,le,{relatedTarget:o,direction:h,from:a,to:s})};if(this._element.classList.contains("slide")){o.classList.add(f),w(o),i.classList.add(l),o.classList.add(l);var p=function(){o.classList.remove(l,f),o.classList.add(fe),i.classList.remove(fe,f,l),n._isSliding=!1,setTimeout(d,0)};this._queueCallback(p,i,!0)}else i.classList.remove(fe),o.classList.add(fe),this._isSliding=!1,d();u&&this.cycle()}}},{key:"_directionToOrder",value:function(e){return[ue,se].includes(e)?E()?e===se?oe:ae:e===se?ae:oe:e}},{key:"_orderToDirection",value:function(e){return[ae,oe].includes(e)?E()?e===oe?se:ue:e===oe?ue:se:e}}],[{key:"Default",get:function(){return re}},{key:"NAME",get:function(){return ne}},{key:"carouselInterface",value:function(e,t){var r=n.getOrCreateInstance(e,t),i=r._config;"object"==typeof t&&(i=a(a({},i),t));var o="string"==typeof t?t:i.slide;if("number"==typeof t)r.to(t);else if("string"==typeof o){if(void 0===r[o])throw new TypeError('No method named "'.concat(o,'"'));r[o]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}},{key:"jQueryInterface",value:function(e){return this.each((function(){n.carouselInterface(this,e)}))}},{key:"dataApiClickHandler",value:function(e){var t=h(this);if(t&&t.classList.contains("carousel")){var r=a(a({},ee.getDataAttributes(t)),ee.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),n.carouselInterface(t,r),i&&n.getInstance(t).to(i),e.preventDefault()}}}]),n}(G);H.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",de.dataApiClickHandler),H.on(window,"load.bs.carousel.data-api",(function(){for(var e=te.find('[data-bs-ride="carousel"]'),t=0,n=e.length;t<n;t++)de.carouselInterface(e[t],de.getInstance(e[t]))})),I(de);var pe="collapse",ve={toggle:!0,parent:null},me={toggle:"boolean",parent:"(null|element)"},ye="show",ge="collapse",ke="collapsing",be="collapsed",we=":scope .collapse .collapse",_e='[data-bs-toggle="collapse"]',xe=function(e){s(r,e);var t=u(r);function r(e,i){var a;c(this,r),(a=t.call(this,e))._isTransitioning=!1,a._config=a._getConfig(i),a._triggerArray=[];for(var o=te.find(_e),s=0,u=o.length;s<u;s++){var l=o[s],f=n(l),h=te.find(f).filter((function(e){return e===a._element}));null!==f&&h.length&&(a._selector=f,a._triggerArray.push(l))}return a._initializeChildren(),a._config.parent||a._addAriaAndCollapsedClass(a._triggerArray,a._isShown()),a._config.toggle&&a.toggle(),a}return l(r,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t,n=[];if(this._config.parent){var i=te.find(we,this._config.parent);n=te.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((function(e){return!i.includes(e)}))}var a=te.findOne(this._selector);if(n.length){var o=n.find((function(e){return a!==e}));if((t=o?r.getInstance(o):null)&&t._isTransitioning)return}if(!H.trigger(this._element,"show.bs.collapse").defaultPrevented){n.forEach((function(e){a!==e&&r.getOrCreateInstance(e,{toggle:!1}).hide(),t||W.set(e,"bs.collapse",null)}));var s=this._getDimension();this._element.classList.remove(ge),this._element.classList.add(ke),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var u="scroll".concat(s[0].toUpperCase()+s.slice(1));this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(ke),e._element.classList.add(ge,ye),e._element.style[s]="",H.trigger(e._element,"shown.bs.collapse")}),this._element,!0),this._element.style[s]="".concat(this._element[u],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()&&!H.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),w(this._element),this._element.classList.add(ke),this._element.classList.remove(ge,ye);for(var n=this._triggerArray.length,r=0;r<n;r++){var i=this._triggerArray[r],a=h(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(ke),e._element.classList.add(ge),H.trigger(e._element,"hidden.bs.collapse")}),this._element,!0)}}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(ye)}},{key:"_getConfig",value:function(e){return(e=a(a(a({},ve),ee.getDataAttributes(this._element)),e)).toggle=Boolean(e.toggle),e.parent=v(e.parent),m(pe,e,me),e}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var e=this;if(this._config.parent){var t=te.find(we,this._config.parent);te.find(_e,this._config.parent).filter((function(e){return!t.includes(e)})).forEach((function(t){var n=h(t);n&&e._addAriaAndCollapsedClass([t],e._isShown(n))}))}}},{key:"_addAriaAndCollapsedClass",value:function(e,t){e.length&&e.forEach((function(e){t?e.classList.remove(be):e.classList.add(be),e.setAttribute("aria-expanded",t)}))}}],[{key:"Default",get:function(){return ve}},{key:"NAME",get:function(){return pe}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t={};"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1);var n=r.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'.concat(e,'"'));n[e]()}}))}}]),r}(G);H.on(document,"click.bs.collapse.data-api",_e,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t=n(this);te.find(t).forEach((function(e){xe.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),I(xe);var Ee="top",Ie="bottom",Se="right",Te="left",Ce="auto",Ne=[Ee,Ie,Se,Te],Ae="start",Oe="end",De="clippingParents",Pe="viewport",Re="popper",Le="reference",Me=Ne.reduce((function(e,t){return e.concat([t+"-"+Ae,t+"-"+Oe])}),[]),Fe=[].concat(Ne,[Ce]).reduce((function(e,t){return e.concat([t,t+"-"+Ae,t+"-"+Oe])}),[]),je="beforeRead",Ue="read",Ve="afterRead",Be="beforeMain",ze="main",qe="afterMain",He="beforeWrite",Ke="write",We="afterWrite",Ge=[je,Ue,Ve,Be,ze,qe,He,Ke,We];function Qe(e){return e?(e.nodeName||"").toLowerCase():null}function $e(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xe(e){return e instanceof $e(e).Element||e instanceof Element}function Ye(e){return e instanceof $e(e).HTMLElement||e instanceof HTMLElement}function Je(e){return"undefined"!=typeof ShadowRoot&&(e instanceof $e(e).ShadowRoot||e instanceof ShadowRoot)}var Ze={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Ye(i)&&Qe(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Ye(r)&&Qe(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function et(e){return e.split("-")[0]}function tt(e,t){var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function nt(e){var t=tt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Je(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function it(e){return $e(e).getComputedStyle(e)}function at(e){return["table","td","th"].indexOf(Qe(e))>=0}function ot(e){return((Xe(e)?e.ownerDocument:e.document)||window.document).documentElement}function st(e){return"html"===Qe(e)?e:e.assignedSlot||e.parentNode||(Je(e)?e.host:null)||ot(e)}function ut(e){return Ye(e)&&"fixed"!==it(e).position?e.offsetParent:null}function ct(e){for(var t=$e(e),n=ut(e);n&&at(n)&&"static"===it(n).position;)n=ut(n);return n&&("html"===Qe(n)||"body"===Qe(n)&&"static"===it(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Ye(e)&&"fixed"===it(e).position)return null;for(var n=st(e);Ye(n)&&["html","body"].indexOf(Qe(n))<0;){var r=it(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function lt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var ft=Math.max,ht=Math.min,dt=Math.round;function pt(e,t,n){return ft(e,ht(t,n))}function vt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function mt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var yt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=et(n.placement),u=lt(s),c=[Te,Se].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return vt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:mt(e,Ne))}(i.padding,n),f=nt(a),h="y"===u?Ee:Te,d="y"===u?Ie:Se,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=ct(a),y=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,_=pt(k,w,b),x=u;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&rt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gt(e){return e.split("-")[1]}var kt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bt(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:dt(dt(t*r)/r)||0,y:dt(dt(n*r)/r)||0}}(o):"function"==typeof l?l(o):o,h=f.x,d=void 0===h?0:h,p=f.y,v=void 0===p?0:p,m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),g=Te,k=Ee,b=window;if(c){var w=ct(n),_="clientHeight",x="clientWidth";w===$e(n)&&"static"!==it(w=ot(n)).position&&"absolute"===s&&(_="scrollHeight",x="scrollWidth"),i!==Ee&&(i!==Te&&i!==Se||a!==Oe)||(k=Ie,v-=w[_]-r.height,v*=u?1:-1),i!==Te&&(i!==Ee&&i!==Ie||a!==Oe)||(g=Se,d-=w[x]-r.width,d*=u?1:-1)}var E,I=Object.assign({position:s},c&&kt);return u?Object.assign({},I,((E={})[k]=y?"0":"",E[g]=m?"0":"",E.transform=(b.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",E)):Object.assign({},I,((t={})[k]=y?v+"px":"",t[g]=m?d+"px":"",t.transform="",t))}var wt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:et(t.placement),variation:gt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},_t={passive:!0},xt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=$e(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,_t)})),s&&u.addEventListener("resize",n.update,_t),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,_t)})),s&&u.removeEventListener("resize",n.update,_t)}},data:{}},Et={left:"right",right:"left",bottom:"top",top:"bottom"};function It(e){return e.replace(/left|right|bottom|top/g,(function(e){return Et[e]}))}var St={start:"end",end:"start"};function Tt(e){return e.replace(/start|end/g,(function(e){return St[e]}))}function Ct(e){var t=$e(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Nt(e){return tt(ot(e)).left+Ct(e).scrollLeft}function At(e){var t=it(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ot(e){return["html","body","#document"].indexOf(Qe(e))>=0?e.ownerDocument.body:Ye(e)&&At(e)?e:Ot(st(e))}function Dt(e,t){var n;void 0===t&&(t=[]);var r=Ot(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=$e(r),o=i?[a].concat(a.visualViewport||[],At(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Dt(st(o)))}function Pt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Rt(e,t){return t===Pe?Pt(function(e){var t=$e(e),n=ot(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+Nt(e),y:s}}(e)):Ye(t)?function(e){var t=tt(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Pt(function(e){var t,n=ot(e),r=Ct(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=ft(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ft(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Nt(e),u=-r.scrollTop;return"rtl"===it(i||n).direction&&(s+=ft(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(ot(e)))}function Lt(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?et(i):null,o=i?gt(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case Ee:t={x:s,y:n.y-r.height};break;case Ie:t={x:s,y:n.y+n.height};break;case Se:t={x:n.x+n.width,y:u};break;case Te:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?lt(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Ae:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Oe:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Mt(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?De:a,s=n.rootBoundary,u=void 0===s?Pe:s,c=n.elementContext,l=void 0===c?Re:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=vt("number"!=typeof p?p:mt(p,Ne)),m=l===Re?Le:Re,y=e.rects.popper,g=e.elements[h?m:l],k=function(e,t,n){var r="clippingParents"===t?function(e){var t=Dt(st(e)),n=["absolute","fixed"].indexOf(it(e).position)>=0&&Ye(e)?ct(e):e;return Xe(n)?t.filter((function(e){return Xe(e)&&rt(e,n)&&"body"!==Qe(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Rt(e,n);return t.top=ft(r.top,t.top),t.right=ht(r.right,t.right),t.bottom=ht(r.bottom,t.bottom),t.left=ft(r.left,t.left),t}),Rt(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(Xe(g)?g:g.contextElement||ot(e.elements.popper),o,u),b=tt(e.elements.reference),w=Lt({reference:b,element:y,strategy:"absolute",placement:i}),_=Pt(Object.assign({},y,w)),x=l===Re?_:b,E={top:k.top-x.top+v.top,bottom:x.bottom-k.bottom+v.bottom,left:k.left-x.left+v.left,right:x.right-k.right+v.right},I=e.modifiersData.offset;if(l===Re&&I){var S=I[i];Object.keys(E).forEach((function(e){var t=[Se,Ie].indexOf(e)>=0?1:-1,n=[Ee,Ie].indexOf(e)>=0?"y":"x";E[e]+=S[n]*t}))}return E}function Ft(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Fe:u,l=gt(r),f=l?s?Me:Me.filter((function(e){return gt(e)===l})):Ne,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Mt(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[et(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}var jt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=et(m),g=u||(y!==m&&p?function(e){if(et(e)===Ce)return[];var t=It(e);return[Tt(e),t,Tt(t)]}(m):[It(m)]),k=[m].concat(g).reduce((function(e,n){return e.concat(et(n)===Ce?Ft(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,_=new Map,x=!0,E=k[0],I=0;I<k.length;I++){var S=k[I],T=et(S),C=gt(S)===Ae,N=[Ee,Ie].indexOf(T)>=0,A=N?"width":"height",O=Mt(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=N?C?Se:Te:C?Ie:Ee;b[A]>w[A]&&(D=It(D));var P=It(D),R=[];if(a&&R.push(O[T]<=0),s&&R.push(O[D]<=0,O[P]<=0),R.every((function(e){return e}))){E=S,x=!1;break}_.set(S,R)}if(x)for(var L=function(e){var t=k.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0&&"break"!==L(M);M--);t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ut(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Vt(e){return[Ee,Se,Ie,Te].some((function(t){return e[t]>=0}))}var Bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Mt(t,{elementContext:"reference"}),s=Mt(t,{altBoundary:!0}),u=Ut(o,r),c=Ut(s,i,a),l=Vt(u),f=Vt(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},zt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Fe.reduce((function(e,n){return e[n]=function(e,t,n){var r=et(e),i=[Te,Ee].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Te,Se].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},qt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Lt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ht={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=Mt(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),y=et(t.placement),g=gt(t.placement),k=!g,b=lt(y),w="x"===b?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,I="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S={x:0,y:0};if(_){if(a||s){var T="y"===b?Ee:Te,C="y"===b?Ie:Se,N="y"===b?"height":"width",A=_[b],O=_[b]+m[T],D=_[b]-m[C],P=d?-E[N]/2:0,R=g===Ae?x[N]:E[N],L=g===Ae?-E[N]:-x[N],M=t.elements.arrow,F=d&&M?nt(M):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=j[T],V=j[C],B=pt(0,x[N],F[N]),z=k?x[N]/2-P-B-U-I:R-B-U-I,q=k?-x[N]/2+P+B+V+I:L+B+V+I,H=t.elements.arrow&&ct(t.elements.arrow),K=H?"y"===b?H.clientTop||0:H.clientLeft||0:0,W=t.modifiersData.offset?t.modifiersData.offset[t.placement][b]:0,G=_[b]+z-W-K,Q=_[b]+q-W;if(a){var $=pt(d?ht(O,G):O,A,d?ft(D,Q):D);_[b]=$,S[b]=$-A}if(s){var X="x"===b?Ee:Te,Y="x"===b?Ie:Se,J=_[w],Z=J+m[X],ee=J-m[Y],te=pt(d?ht(Z,G):Z,J,d?ft(ee,Q):ee);_[w]=te,S[w]=te-J}}t.modifiersData[r]=S}},requiresIfExists:["offset"]};function Kt(e,t,n){void 0===n&&(n=!1);var r=Ye(t);Ye(t)&&function(e){var t=e.getBoundingClientRect();t.width,e.offsetWidth,t.height,e.offsetHeight}(t);var i,a,o=ot(t),s=tt(e),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==Qe(t)||At(o))&&(u=(i=t)!==$e(i)&&Ye(i)?{scrollLeft:(a=i).scrollLeft,scrollTop:a.scrollTop}:Ct(i)),Ye(t)?((c=tt(t)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=Nt(o))),{x:s.left+u.scrollLeft-c.x,y:s.top+u.scrollTop-c.y,width:s.width,height:s.height}}function Wt(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var Gt={placement:"bottom",modifiers:[],strategy:"absolute"};function Qt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function $t(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Gt:i;return function(e,t,n){void 0===n&&(n=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gt,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],c=!1,l={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;f(),s.options=Object.assign({},a,s.options,i),s.scrollParents={reference:Xe(e)?Dt(e):e.contextElement?Dt(e.contextElement):[],popper:Dt(t)};var o,c,h=function(e){var t=Wt(e);return Ge.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(r,s.options.modifiers),c=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return s.orderedModifiers=h.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var a=i({state:s,name:t,instance:l,options:r});u.push(a||function(){})}})),l.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Qt(t,n)){s.rects={reference:Kt(t,ct(n),"fixed"===s.options.strategy),popper:nt(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],a=i.fn,o=i.options,u=void 0===o?{}:o,f=i.name;"function"==typeof a&&(s=a({state:s,options:u,name:f,instance:l})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){l.forceUpdate(),e(s)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(i())}))}))),o}),destroy:function(){f(),c=!0}};if(!Qt(e,t))return l;function f(){u.forEach((function(e){return e()})),u=[]}return l.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Xt=$t(),Yt=$t({defaultModifiers:[xt,qt,wt,Ze]}),Jt=$t({defaultModifiers:[xt,qt,wt,Ze,zt,jt,Ht,yt,Bt]}),Zt=Object.freeze({__proto__:null,popperGenerator:$t,detectOverflow:Mt,createPopperBase:Xt,createPopper:Jt,createPopperLite:Yt,top:Ee,bottom:Ie,right:Se,left:Te,auto:Ce,basePlacements:Ne,start:Ae,end:Oe,clippingParents:De,viewport:Pe,popper:Re,reference:Le,variationPlacements:Me,placements:Fe,beforeRead:je,read:Ue,afterRead:Ve,beforeMain:Be,main:ze,afterMain:qe,beforeWrite:He,write:Ke,afterWrite:We,modifierPhases:Ge,applyStyles:Ze,arrow:yt,computeStyles:wt,eventListeners:xt,flip:jt,hide:Bt,offset:zt,popperOffsets:qt,preventOverflow:Ht}),en="dropdown",tn="Escape",nn="Space",rn="ArrowUp",an="ArrowDown",on=new RegExp("ArrowUp|ArrowDown|Escape"),sn="click.bs.dropdown.data-api",un="keydown.bs.dropdown.data-api",cn="show",ln='[data-bs-toggle="dropdown"]',fn=".dropdown-menu",hn=E()?"top-end":"top-start",dn=E()?"top-start":"top-end",pn=E()?"bottom-end":"bottom-start",vn=E()?"bottom-start":"bottom-end",mn=E()?"left-start":"right-start",yn=E()?"right-start":"left-start",gn={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},kn={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},bn=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._popper=null,i._config=i._getConfig(r),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i}return l(n,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e;if(!g(this._element)&&!this._isShown(this._menu)){var t={relatedTarget:this._element};if(!H.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){var r=n.getParentFromElement(this._element);this._inNavbar?ee.setDataAttribute(this._menu,"popper","none"):this._createPopper(r),"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav")&&(e=[]).concat.apply(e,o(document.body.children)).forEach((function(e){return H.on(e,"mouseover",b)})),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(cn),this._element.classList.add(cn),H.trigger(this._element,"shown.bs.dropdown",t)}}}},{key:"hide",value:function(){if(!g(this._element)&&this._isShown(this._menu)){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),r(i(n.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){var t;H.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented||("ontouchstart"in document.documentElement&&(t=[]).concat.apply(t,o(document.body.children)).forEach((function(e){return H.off(e,"mouseover",b)})),this._popper&&this._popper.destroy(),this._menu.classList.remove(cn),this._element.classList.remove(cn),this._element.setAttribute("aria-expanded","false"),ee.removeDataAttribute(this._menu,"popper"),H.trigger(this._element,"hidden.bs.dropdown",e))}},{key:"_getConfig",value:function(e){if(e=a(a(a({},this.constructor.Default),ee.getDataAttributes(this._element)),e),m(en,e,this.constructor.DefaultType),"object"==typeof e.reference&&!p(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(en.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(e){if(void 0===Zt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var t=this._element;"parent"===this._config.reference?t=e:p(this._config.reference)?t=v(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);var n=this._getPopperConfig(),r=n.modifiers.find((function(e){return"applyStyles"===e.name&&!1===e.enabled}));this._popper=Jt(t,this._menu,n),r&&ee.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(cn)}},{key:"_getMenuElement",value:function(){return te.next(this._element,fn)[0]}},{key:"_getPlacement",value:function(){var e=this._element.parentNode;if(e.classList.contains("dropend"))return mn;if(e.classList.contains("dropstart"))return yn;var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?dn:hn:t?vn:pn}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".navbar")}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),a(a({},e),"function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=te.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(y);r.length&&C(r,n,t===an,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return gn}},{key:"DefaultType",get:function(){return kn}},{key:"NAME",get:function(){return en}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}},{key:"clearMenus",value:function(e){if(!e||2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(var t=te.find(ln),r=0,i=t.length;r<i;r++){var a=n.getInstance(t[r]);if(a&&!1!==a._config.autoClose&&a._isShown()){var o={relatedTarget:a._element};if(e){var s=e.composedPath(),u=s.includes(a._menu);if(s.includes(a._element)||"inside"===a._config.autoClose&&!u||"outside"===a._config.autoClose&&u)continue;if(a._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(o.clickEvent=e)}a._completeHide(o)}}}},{key:"getParentFromElement",value:function(e){return h(e)||e.parentNode}},{key:"dataApiKeydownHandler",value:function(e){if(!(/input|textarea/i.test(e.target.tagName)?e.key===nn||e.key!==tn&&(e.key!==an&&e.key!==rn||e.target.closest(fn)):!on.test(e.key))){var t=this.classList.contains(cn);if((t||e.key!==tn)&&(e.preventDefault(),e.stopPropagation(),!g(this))){var r=this.matches(ln)?this:te.prev(this,ln)[0],i=n.getOrCreateInstance(r);if(e.key!==tn)return e.key===rn||e.key===an?(t||i.show(),void i._selectMenuItem(e)):void(t&&e.key!==nn||n.clearMenus());i.hide()}}}}]),n}(G);H.on(document,un,ln,bn.dataApiKeydownHandler),H.on(document,un,fn,bn.dataApiKeydownHandler),H.on(document,sn,bn.clearMenus),H.on(document,"keyup.bs.dropdown.data-api",bn.clearMenus),H.on(document,sn,ln,(function(e){e.preventDefault(),bn.getOrCreateInstance(this).toggle()})),I(bn);var wn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_n=".sticky-top",xn=function(){function e(){c(this,e),this._element=document.body}return l(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(function(t){return t+e})),this._setElementAttributes(wn,"paddingRight",(function(t){return t+e})),this._setElementAttributes(_n,"marginRight",(function(t){return t-e}))}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth();this._applyManipulationCallback(e,(function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e)[t];e.style[t]="".concat(n(Number.parseFloat(a)),"px")}}))}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(wn,"paddingRight"),this._resetElementAttributes(_n,"marginRight")}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style[t];n&&ee.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){this._applyManipulationCallback(e,(function(e){var n=ee.getDataAttribute(e,t);void 0===n?e.style.removeProperty(t):(ee.removeDataAttribute(e,t),e.style[t]=n)}))}},{key:"_applyManipulationCallback",value:function(e,t){p(e)?t(e):te.find(e,this._element).forEach(t)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}}]),e}(),En={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},In={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Sn="show",Tn="mousedown.bs.backdrop",Cn=function(){function e(t){c(this,e),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}return l(e,[{key:"show",value:function(e){this._config.isVisible?(this._append(),this._config.isAnimated&&w(this._getElement()),this._getElement().classList.add(Sn),this._emulateAnimation((function(){S(e)}))):S(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove(Sn),this._emulateAnimation((function(){t.dispose(),S(e)}))):S(e)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}},{key:"_getConfig",value:function(e){return(e=a(a({},En),"object"==typeof e?e:{})).rootElement=v(e.rootElement),m("backdrop",e,In),e}},{key:"_append",value:function(){var e=this;this._isAppended||(this._config.rootElement.append(this._getElement()),H.on(this._getElement(),Tn,(function(){S(e._config.clickCallback)})),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(H.off(this._element,Tn),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(e){T(e,this._getElement(),this._config.isAnimated)}}]),e}(),Nn={trapElement:null,autofocus:!0},An={trapElement:"element",autofocus:"boolean"},On=".bs.focustrap",Dn="backward",Pn=function(){function e(t){c(this,e),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}return l(e,[{key:"activate",value:function(){var e=this,t=this._config,n=t.trapElement,r=t.autofocus;this._isActive||(r&&n.focus(),H.off(document,On),H.on(document,"focusin.bs.focustrap",(function(t){return e._handleFocusin(t)})),H.on(document,"keydown.tab.bs.focustrap",(function(t){return e._handleKeydown(t)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,H.off(document,On))}},{key:"_handleFocusin",value:function(e){var t=e.target,n=this._config.trapElement;if(t!==document&&t!==n&&!n.contains(t)){var r=te.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===Dn?r[r.length-1].focus():r[0].focus()}}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Dn:"forward")}},{key:"_getConfig",value:function(e){return e=a(a({},Nn),"object"==typeof e?e:{}),m("focustrap",e,An),e}}]),e}(),Rn="modal",Ln="Escape",Mn={backdrop:!0,keyboard:!0,focus:!0},Fn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},jn="hidden.bs.modal",Un="show.bs.modal",Vn="resize.bs.modal",Bn="click.dismiss.bs.modal",zn="keydown.dismiss.bs.modal",qn="mousedown.dismiss.bs.modal",Hn="modal-open",Kn="show",Wn="modal-static",Gn=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._dialog=te.findOne(".modal-dialog",i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollBar=new xn,i}return l(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||H.trigger(this._element,Un,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Hn),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),H.on(this._dialog,qn,(function(){H.one(t._element,"mouseup.dismiss.bs.modal",(function(e){e.target===t._element&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},{key:"hide",value:function(){var e=this;if(this._isShown&&!this._isTransitioning&&!H.trigger(this._element,"hide.bs.modal").defaultPrevented){this._isShown=!1;var t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Kn),H.off(this._element,Bn),H.off(this._dialog,qn),this._queueCallback((function(){return e._hideModal()}),this._element,t)}}},{key:"dispose",value:function(){[window,this._dialog].forEach((function(e){return H.off(e,".bs.modal")})),this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Cn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new Pn({trapElement:this._element})}},{key:"_getConfig",value:function(e){return e=a(a(a({},Mn),ee.getDataAttributes(this._element)),"object"==typeof e?e:{}),m(Rn,e,Fn),e}},{key:"_showElement",value:function(e){var t=this,n=this._isAnimated(),r=te.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&w(this._element),this._element.classList.add(Kn),this._queueCallback((function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,H.trigger(t._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var e=this;this._isShown?H.on(this._element,zn,(function(t){e._config.keyboard&&t.key===Ln?(t.preventDefault(),e.hide()):e._config.keyboard||t.key!==Ln||e._triggerBackdropTransition()})):H.off(this._element,zn)}},{key:"_setResizeEvent",value:function(){var e=this;this._isShown?H.on(window,Vn,(function(){return e._adjustDialog()})):H.off(window,Vn)}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(Hn),e._resetAdjustments(),e._scrollBar.reset(),H.trigger(e._element,jn)}))}},{key:"_showBackdrop",value:function(e){var t=this;H.on(this._element,Bn,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===t._config.backdrop?t.hide():"static"===t._config.backdrop&&t._triggerBackdropTransition())})),this._backdrop.show(e)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!H.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){var t=this._element,n=t.classList,r=t.scrollHeight,i=t.style,a=r>document.documentElement.clientHeight;!a&&"hidden"===i.overflowY||n.contains(Wn)||(a||(i.overflowY="hidden"),n.add(Wn),this._queueCallback((function(){n.remove(Wn),a||e._queueCallback((function(){i.overflowY=""}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!E()||n&&!e&&E())&&(this._element.style.paddingLeft="".concat(t,"px")),(n&&!e&&!E()||!n&&e&&E())&&(this._element.style.paddingRight="".concat(t,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return Mn}},{key:"NAME",get:function(){return Rn}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var r=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}}))}}]),n}(G);H.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){var t=this,n=h(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),H.one(n,Un,(function(e){e.defaultPrevented||H.one(n,jn,(function(){y(t)&&t.focus()}))}));var r=te.findOne(".modal.show");r&&Gn.getInstance(r).hide(),Gn.getOrCreateInstance(n).toggle(this)})),Q(Gn),I(Gn);var Qn="offcanvas",$n={backdrop:!0,keyboard:!0,scroll:!1},Xn={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Yn="show",Jn=".offcanvas.show",Zn="hidden.bs.offcanvas",er=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return l(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||H.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new xn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Yn),this._queueCallback((function(){t._config.scroll||t._focustrap.activate(),H.trigger(t._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}},{key:"hide",value:function(){var e=this;this._isShown&&(H.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Yn),this._backdrop.hide(),this._queueCallback((function(){e._element.setAttribute("aria-hidden",!0),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._element.style.visibility="hidden",e._config.scroll||(new xn).reset(),H.trigger(e._element,Zn)}),this._element,!0)))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=a(a(a({},$n),ee.getDataAttributes(this._element)),"object"==typeof e?e:{}),m(Qn,e,Xn),e}},{key:"_initializeBackDrop",value:function(){var e=this;return new Cn({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return e.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new Pn({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;H.on(this._element,"keydown.dismiss.bs.offcanvas",(function(t){e._config.keyboard&&"Escape"===t.key&&e.hide()}))}}],[{key:"NAME",get:function(){return Qn}},{key:"Default",get:function(){return $n}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(G);H.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){var t=this,n=h(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!g(this)){H.one(n,Zn,(function(){y(t)&&t.focus()}));var r=te.findOne(Jn);r&&r!==n&&er.getInstance(r).hide(),er.getOrCreateInstance(n).toggle(this)}})),H.on(window,"load.bs.offcanvas.data-api",(function(){return te.find(Jn).forEach((function(e){return er.getOrCreateInstance(e).show()}))})),Q(er),I(er);var tr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,ir=function(e,t){var n=e.nodeName.toLowerCase();if(t.includes(n))return!tr.has(n)||Boolean(nr.test(e.nodeValue)||rr.test(e.nodeValue));for(var r=t.filter((function(e){return e instanceof RegExp})),i=0,a=r.length;i<a;i++)if(r[i].test(n))return!0;return!1};function ar(e,t,n){var r;if(!e.length)return e;if(n&&"function"==typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,"text/html"),a=(r=[]).concat.apply(r,o(i.body.querySelectorAll("*"))),s=function(e,n){var r,i=a[e],s=i.nodeName.toLowerCase();if(!Object.keys(t).includes(s))return i.remove(),"continue";var u=(r=[]).concat.apply(r,o(i.attributes)),c=[].concat(t["*"]||[],t[s]||[]);u.forEach((function(e){ir(e,c)||i.removeAttribute(e.nodeName)}))},u=0,c=a.length;u<c;u++)s(u,c);return i.body.innerHTML}var or="tooltip",sr=new Set(["sanitize","allowList","sanitizeFn"]),ur={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},cr={AUTO:"auto",TOP:"top",RIGHT:E()?"left":"right",BOTTOM:"bottom",LEFT:E()?"right":"left"},lr={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},fr={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},hr="fade",dr="show",pr="show",vr="out",mr=".tooltip-inner",yr=".modal",gr="hide.bs.modal",kr="hover",br="focus",wr=function(e){s(n,e);var t=u(n);function n(e,r){var i;if(c(this,n),void 0===Zt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(i=t.call(this,e))._isEnabled=!0,i._timeout=0,i._hoverState="",i._activeTrigger={},i._popper=null,i._config=i._getConfig(r),i.tip=null,i._setListeners(),i}return l(n,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(e){if(this._isEnabled)if(e){var t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(dr))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),H.off(this._element.closest(yr),gr,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),r(i(n.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e,t,n=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var r=H.trigger(this._element,this.constructor.Event.SHOW),i=k(this._element),a=null===i?this._element.ownerDocument.documentElement.contains(this._element):i.contains(this._element);if(!r.defaultPrevented&&a){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(mr).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var s=this.getTipElement(),u=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e}(this.constructor.NAME);s.setAttribute("id",u),this._element.setAttribute("aria-describedby",u),this._config.animation&&s.classList.add(hr);var c="function"==typeof this._config.placement?this._config.placement.call(this,s,this._element):this._config.placement,l=this._getAttachment(c);this._addAttachmentClass(l);var f=this._config.container;W.set(s,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(f.append(s),H.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Jt(this._element,s,this._getPopperConfig(l)),s.classList.add(dr);var h=this._resolvePossibleFunction(this._config.customClass);h&&(e=s.classList).add.apply(e,o(h.split(" "))),"ontouchstart"in document.documentElement&&(t=[]).concat.apply(t,o(document.body.children)).forEach((function(e){H.on(e,"mouseover",b)}));var d=this.tip.classList.contains(hr);this._queueCallback((function(){var e=n._hoverState;n._hoverState=null,H.trigger(n._element,n.constructor.Event.SHOWN),e===vr&&n._leave(null,n)}),this.tip,d)}}}},{key:"hide",value:function(){var e,t=this;if(this._popper){var n=this.getTipElement();if(!H.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){n.classList.remove(dr),"ontouchstart"in document.documentElement&&(e=[]).concat.apply(e,o(document.body.children)).forEach((function(e){return H.off(e,"mouseover",b)})),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;var r=this.tip.classList.contains(hr);this._queueCallback((function(){t._isWithActiveTrigger()||(t._hoverState!==pr&&n.remove(),t._cleanTipClass(),t._element.removeAttribute("aria-describedby"),H.trigger(t._element,t.constructor.Event.HIDDEN),t._disposePopper())}),this.tip,r),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var e=document.createElement("div");e.innerHTML=this._config.template;var t=e.children[0];return this.setContent(t),t.classList.remove(hr,dr),this.tip=t,this.tip}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),mr)}},{key:"_sanitizeAndSetContent",value:function(e,t,n){var r=te.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}},{key:"setElementContent",value:function(e,t){if(null!==e)return p(t)?(t=v(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=ar(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}},{key:"getTitle",value:function(){var e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}},{key:"updateAttachment",value:function(e){return"right"===e?"end":"left"===e?"start":e}},{key:"_initializeOnDelegatedTarget",value:function(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return"function"==typeof e?e.call(this._element):e}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(e){return t._handlePopperPlacementChange(e)}}],onFirstUpdate:function(e){e.options.placement!==e.placement&&t._handlePopperPlacementChange(e)}};return a(a({},n),"function"==typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(e){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(e)))}},{key:"_getAttachment",value:function(e){return cr[e.toUpperCase()]}},{key:"_setListeners",value:function(){var e=this;this._config.trigger.split(" ").forEach((function(t){if("click"===t)H.on(e._element,e.constructor.Event.CLICK,e._config.selector,(function(t){return e.toggle(t)}));else if("manual"!==t){var n=t===kr?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=t===kr?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;H.on(e._element,n,e._config.selector,(function(t){return e._enter(t)})),H.on(e._element,r,e._config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e._element&&e.hide()},H.on(this._element.closest(yr),gr,this._hideModalHandler),this._config.selector?this._config=a(a({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}},{key:"_enter",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?br:kr]=!0),t.getTipElement().classList.contains(dr)||t._hoverState===pr?t._hoverState=pr:(clearTimeout(t._timeout),t._hoverState=pr,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((function(){t._hoverState===pr&&t.show()}),t._config.delay.show):t.show())}},{key:"_leave",value:function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?br:kr]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=vr,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===vr&&t.hide()}),t._config.delay.hide):t.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function(e){var t=ee.getDataAttributes(this._element);return Object.keys(t).forEach((function(e){sr.has(e)&&delete t[e]})),(e=a(a(a({},this.constructor.Default),t),"object"==typeof e&&e?e:{})).container=!1===e.container?document.body:v(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),m(or,e,this.constructor.DefaultType),e.sanitize&&(e.template=ar(e.template,e.allowList,e.sanitizeFn)),e}},{key:"_getDelegateConfig",value:function(){var e={};for(var t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}},{key:"_cleanTipClass",value:function(){var e=this.getTipElement(),t=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((function(e){return e.trim()})).forEach((function(t){return e.classList.remove(t)}))}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(e){var t=e.state;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return lr}},{key:"NAME",get:function(){return or}},{key:"Event",get:function(){return fr}},{key:"DefaultType",get:function(){return ur}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(G);I(wr);var _r=a(a({},wr.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),xr=a(a({},wr.DefaultType),{},{content:"(string|element|function)"}),Er={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ir=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(e){this._sanitizeAndSetContent(e,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(e,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}],[{key:"Default",get:function(){return _r}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return Er}},{key:"DefaultType",get:function(){return xr}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(wr);I(Ir);var Sr="scrollspy",Tr={offset:10,method:"auto",target:""},Cr={offset:"number",method:"string",target:"(string|element)"},Nr="active",Ar=".nav-link, .list-group-item, .dropdown-item",Or="position",Dr=function(e){s(o,e);var t=u(o);function o(e,n){var r;return c(this,o),(r=t.call(this,e))._scrollElement="BODY"===r._element.tagName?window:r._element,r._config=r._getConfig(n),r._offsets=[],r._targets=[],r._activeTarget=null,r._scrollHeight=0,H.on(r._scrollElement,"scroll.bs.scrollspy",(function(){return r._process()})),r.refresh(),r._process(),r}return l(o,[{key:"refresh",value:function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":Or,r="auto"===this._config.method?t:this._config.method,i=r===Or?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),te.find(Ar,this._config.target).map((function(e){var t=n(e),a=t?te.findOne(t):null;if(a){var o=a.getBoundingClientRect();if(o.width||o.height)return[ee[r](a).top+i,t]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))}},{key:"dispose",value:function(){H.off(this._scrollElement,".bs.scrollspy"),r(i(o.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return(e=a(a(a({},Tr),ee.getDataAttributes(this._element)),"object"==typeof e&&e?e:{})).target=v(e.target)||document.documentElement,m(Sr,e,Cr),e}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}}},{key:"_activate",value:function(e){this._activeTarget=e,this._clear();var t=Ar.split(",").map((function(t){return"".concat(t,'[data-bs-target="').concat(e,'"],').concat(t,'[href="').concat(e,'"]')})),n=te.findOne(t.join(","),this._config.target);n.classList.add(Nr),n.classList.contains("dropdown-item")?te.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(Nr):te.parents(n,".nav, .list-group").forEach((function(e){te.prev(e,".nav-link, .list-group-item").forEach((function(e){return e.classList.add(Nr)})),te.prev(e,".nav-item").forEach((function(e){te.children(e,".nav-link").forEach((function(e){return e.classList.add(Nr)}))}))})),H.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:e})}},{key:"_clear",value:function(){te.find(Ar,this._config.target).filter((function(e){return e.classList.contains(Nr)})).forEach((function(e){return e.classList.remove(Nr)}))}}],[{key:"Default",get:function(){return Tr}},{key:"NAME",get:function(){return Sr}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=o.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),o}(G);H.on(window,"load.bs.scrollspy.data-api",(function(){te.find('[data-bs-spy="scroll"]').forEach((function(e){return new Dr(e)}))})),I(Dr);var Pr="active",Rr="fade",Lr="show",Mr=".active",Fr=":scope > li > .active",jr=function(e){s(n,e);var t=u(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"show",value:function(){var e=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains(Pr)){var t,n=h(this._element),r=this._element.closest(".nav, .list-group");if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?Fr:Mr;t=(t=te.find(i,r))[t.length-1]}var a=t?H.trigger(t,"hide.bs.tab",{relatedTarget:this._element}):null;if(!(H.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==a&&a.defaultPrevented)){this._activate(this._element,r);var o=function(){H.trigger(t,"hidden.bs.tab",{relatedTarget:e._element}),H.trigger(e._element,"shown.bs.tab",{relatedTarget:t})};n?this._activate(n,n.parentNode,o):o()}}}},{key:"_activate",value:function(e,t,n){var r=this,i=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?te.children(t,Mr):te.find(Fr,t))[0],a=n&&i&&i.classList.contains(Rr),o=function(){return r._transitionComplete(e,i,n)};i&&a?(i.classList.remove(Lr),this._queueCallback(o,e,!0)):o()}},{key:"_transitionComplete",value:function(e,t,n){if(t){t.classList.remove(Pr);var r=te.findOne(":scope > .dropdown-menu .active",t.parentNode);r&&r.classList.remove(Pr),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add(Pr),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),w(e),e.classList.contains(Rr)&&e.classList.add(Lr);var i=e.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){var a=e.closest(".dropdown");a&&te.find(".dropdown-toggle",a).forEach((function(e){return e.classList.add(Pr)})),e.setAttribute("aria-expanded",!0)}n&&n()}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(G);H.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),g(this)||jr.getOrCreateInstance(this).show()})),I(jr);var Ur="toast",Vr="hide",Br="show",zr="showing",qr={animation:"boolean",autohide:"boolean",delay:"number"},Hr={animation:!0,autohide:!0,delay:5e3},Kr=function(e){s(n,e);var t=u(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._config=i._getConfig(r),i._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return l(n,[{key:"show",value:function(){var e=this;H.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Vr),w(this._element),this._element.classList.add(Br),this._element.classList.add(zr),this._queueCallback((function(){e._element.classList.remove(zr),H.trigger(e._element,"shown.bs.toast"),e._maybeScheduleHide()}),this._element,this._config.animation))}},{key:"hide",value:function(){var e=this;this._element.classList.contains(Br)&&(H.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(zr),this._queueCallback((function(){e._element.classList.add(Vr),e._element.classList.remove(zr),e._element.classList.remove(Br),H.trigger(e._element,"hidden.bs.toast")}),this._element,this._config.animation)))}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(Br)&&this._element.classList.remove(Br),r(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(e){return e=a(a(a({},Hr),ee.getDataAttributes(this._element)),"object"==typeof e&&e?e:{}),m(Ur,e,this.constructor.DefaultType),e}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){e.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;H.on(this._element,"mouseover.bs.toast",(function(t){return e._onInteraction(t,!0)})),H.on(this._element,"mouseout.bs.toast",(function(t){return e._onInteraction(t,!1)})),H.on(this._element,"focusin.bs.toast",(function(t){return e._onInteraction(t,!0)})),H.on(this._element,"focusout.bs.toast",(function(t){return e._onInteraction(t,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"DefaultType",get:function(){return qr}},{key:"Default",get:function(){return Hr}},{key:"NAME",get:function(){return Ur}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(G);return Q(Kr),I(Kr),{Alert:$,Button:Y,Carousel:de,Collapse:xe,Dropdown:bn,Modal:Gn,Offcanvas:er,Popover:Ir,ScrollSpy:Dr,Tab:jr,Toast:Kr,Tooltip:wr}}()},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(6054),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),u(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Rr=Or[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Sr:case Tr:case Cr:u=yn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Yn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ni),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ii(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Di(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Si(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ia,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Nu.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Pu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Pu,Du),Du|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Oi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ia(u):u=Oi(t,u=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Ps,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Di(t.type)&&Pi(),Ws(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ii(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return _a(t.type._context),Ws(t),null;case 19:if(Ii(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Ye()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ec(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,$s=s,Xs=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Eu=Math.ceil,Iu=b.ReactCurrentDispatcher,Su=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Au=null,Ou=0,Du=0,Pu=Ei(0),Ru=0,Lu=null,Mu=0,Fu=0,ju=0,Uu=null,Vu=null,Bu=0,zu=1/0,qu=null,Hu=!1,Ku=null,Wu=null,Gu=!1,Qu=null,$u=0,Xu=0,Yu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Cu)?Ye():-1!==Ju?Ju:Ju=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Yu=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(Fu|=n),4===Ru&&sc(e,Ou)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(zu=Ye()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Nu===e&&Ou===t||(qu=null,zu=Ye()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Iu.current=o,Cu=i,null!==Au?t=0:(Nu=null,Ou=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Ye()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(zu=Ye()+500,Ui&&zi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Cu=t))&&zi()}}function fc(){Du=Pu.current,Ii(Pu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Au=e=Pc(e.current,null),Ou=Du=t,Ru=0,Lu=null,ju=Fu=Mu=0,Vu=Uu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Su.current=null,null===n||null===n.return){Ru=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ru&&(Ru=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Wu||!Wu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function vc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Nu||0===(268435455&Mu)&&0===(268435455&Fu)||sc(Nu,Ou)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Nu===e&&Ou===t||(qu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cu=n,Iu.current=r,null!==Au)throw Error(a(261));return Nu=null,Ou=0,Ru}function yc(){for(;null!==Au;)kc(Au)}function gc(){for(;null!==Au&&!$e();)kc(Au)}function kc(e){var t=xu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,Su.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Du)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ru=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ru&&(Ru=5)}function wc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Su.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Cu=u,kt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),0===(o=e.pendingLanes)&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,zi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function _c(){if(null!==Qu){var e=bt($u),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Cu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function xc(e,t,n){e=Ra(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Ra(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ou&n)===n&&(4===Ru||3===Ru&&(130023424&Ou)===Ou&&500>Ye()-Bu?hc(e,0):ju|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case E:s=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case C:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ka(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cu)&&(zu=Ye()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8583:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},5236:function(e,t,n){var r=n(8583);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,E=n[2]||l,I=y||g;r.push({name:m||a++,prefix:v||"",delimiter:E,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:I?c(I):b?".*":"[^"+u(E)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},6471:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},892:function(e,t,n){"use strict";n(6471)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=A,x=function(){D.postMessage(null)}}else x=function(){y(A,0)};function P(e){I=e,E||(E=!0,x())}function R(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,R(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},2391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".30d36349.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="loginai:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Login/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkloginai=self.webpackChunkloginai||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return dr},SDK_VERSION:function(){return bi},_DEFAULT_ENTRY_NAME:function(){return si},_addComponent:function(){return fi},_addOrOverwriteComponent:function(){return hi},_apps:function(){return ci},_clearComponents:function(){return mi},_components:function(){return li},_getProvider:function(){return pi},_registerComponent:function(){return di},_removeServiceInstance:function(){return vi},deleteApp:function(){return Ei},getApp:function(){return _i},getApps:function(){return xi},initializeApp:function(){return wi},onLog:function(){return Ti},registerVersion:function(){return Si},setLogLevel:function(){return Ci}});var t=n(2791),r=n(1250);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,o,s,u){var c=f(e[a],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==i(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,c(k,"constructor",v),c(v,"constructor",p),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),c(k,u,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function u(e){if(Array.isArray(e))return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||l(e,t)||f()}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function m(e){return"/"===e.charAt(0)}function y(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var g=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&m(e),o=t&&m(t),s=a||o;if(e&&m(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?y(i,l):".."===f?(y(i,l),c++):c&&(y(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&m(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},k="Invariant failed";function b(e,t){if(!e)throw new Error(k)}function w(e){return"/"===e.charAt(0)?e:"/"+e}function _(e){return"/"===e.charAt(0)?e.substr(1):e}function x(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function E(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function I(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function S(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=v({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=g(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function T(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var C=!("undefined"===typeof window||!window.document||!window.document.createElement);function N(e,t){t(window.confirm(e))}var A="popstate",O="hashchange";function D(){try{return window.history.state||{}}catch(e){return{}}}function P(e){void 0===e&&(e={}),C||b(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,u=void 0===s?N:s,c=i.keyLength,l=void 0===c?6:c,f=e.basename?E(w(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=x(a,f)),S(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=T();function m(e){v(V,e),V.length=t.length,p.notifyListeners(V.location,V.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||_(h(e.state))}function g(){_(h(D()))}var k=!1;function _(e){if(k)k=!1,m();else{p.confirmTransitionTo(e,"POP",u,(function(t){t?m({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,M(i))}(e)}))}}var P=h(D()),R=[P.key];function L(e){return f+I(e)}function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(A,y),r&&window.addEventListener(O,g)):0===F&&(window.removeEventListener(A,y),r&&window.removeEventListener(O,g))}var U=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=S(e,r,d(),V.location);p.confirmTransitionTo(a,i,u,(function(e){if(e){var r=L(a),s=a.key,u=a.state;if(n)if(t.pushState({key:s,state:u},null,r),o)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(a.key),R=l,m({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=S(e,r,d(),V.location);p.confirmTransitionTo(a,i,u,(function(e){if(e){var r=L(a),s=a.key,u=a.state;if(n)if(t.replaceState({key:s,state:u},null,r),o)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=a.key),m({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=p.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var R="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+_(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:_,decodePath:w},slash:{encodePath:w,decodePath:w}};function M(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function F(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function j(e){window.location.replace(M(window.location.href)+"#"+e)}function U(e){void 0===e&&{},C||b(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?N:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?E(w(e.basename)):"",u=L[o],c=u.encodePath,l=u.decodePath;function f(){var e=l(F());return s&&x(e,s),S(e)}var h=T();function d(e){v(V,e),V.length=t.length,h.notifyListeners(V.location,V.action)}var p=!1,m=null;function y(){var e,t,n=F(),r=c(n);if(n!==r)j(r);else{var a=f(),o=V.location;if(!p&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(m===I(a))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=V.location,n=A.lastIndexOf(I(t));-1===n&&0;var r=A.lastIndexOf(I(e));-1===r&&0;var i=n-r;i&&(!0,O(i))}(e)}))}}(a)}}var g=F(),k=c(g);g!==k&&j(k);var _=f(),A=[I(_)];function O(e){t.go(e)}var D=0;function P(e){1===(D+=e)&&1===e?window.addEventListener(R,y):0===D&&window.removeEventListener(R,y)}var U=!1;var V={length:t.length,action:"POP",location:_,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&M(window.location.href),n+"#"+c(s+I(e))},push:function(e,t){var n="PUSH",r=S(e,void 0,void 0,V.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=I(r),i=c(s+t);if(F()!==i){t,function(e){window.location.hash=e}(i);var a=A.lastIndexOf(I(V.location)),o=A.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=S(e,void 0,void 0,V.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=I(r),i=c(s+t);F()!==i&&(t,j(i));var a=A.indexOf(I(V.location));-1!==a&&(A[a]=t),d({action:n,location:r})}}))},go:O,goBack:function(){O(-1)},goForward:function(){O(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return U||(P(1),!0),function(){return U&&(!1,P(-1)),t()}},listen:function(e){var t=h.appendListener(e);return P(1),function(){P(-1),t()}}};return V}function V(e,t,n){return Math.min(Math.max(e,t),n)}function B(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,s=t.keyLength,u=void 0===s?6:s,c=T();function l(e){v(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=V(o,0,i.length-1),d=i.map((function(e){return S(e,void 0,"string"===typeof e?f():e.key||f())})),p=I;function m(e){var t=V(y.index+e,0,y.entries.length-1),r=y.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var y={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=S(e,t,f(),y.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=S(e,t,f(),y.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,l({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}var z=n(2007),q=n.n(z),H=1073741823,K="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function W(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var G=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return K[e]=(K[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=W(t.props.value),t}p(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):H,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=q().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}p(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?H:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?H:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[a]=q().object,i),{Provider:o,Consumer:s}},Q=G,$=n(5236),X=n.n($);n(892);function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(2110);var J=function(e){var t=Q();return t.displayName=e,t},Z=J("Router-History"),ee=function(e){var t=Q();return t.displayName=e,t},te=ee("Router"),ne=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}p(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(te.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Z.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var re={},ie=0;function ae(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=re[n]||(re[n]={});if(r[e])return r[e];var i=[],a={regexp:X()(e,i,t),keys:i};return ie<1e4&&(r[e]=a,ie++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var oe=function(e){function n(){return e.apply(this,arguments)||this}return p(n,e),n.prototype.render=function(){var e=this;return t.createElement(te.Consumer,null,(function(n){n||b(!1);var r=e.props.location||n.location,i=v({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ae(r.pathname,e.props):n.match}),a=e.props,o=a.children,s=a.component,u=a.render;return Array.isArray(o)&&0===o.length&&(o=null),t.createElement(te.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:s?t.createElement(s,i):u?u(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function se(e){return"/"===e.charAt(0)?e:"/"+e}function ue(e,t){if(!e)return t;var n=se(e);return 0!==t.pathname.indexOf(n)?t:v({},t,{pathname:t.pathname.substr(n.length)})}function ce(e){return"string"===typeof e?e:I(e)}function le(e){return function(){b(!1)}}function fe(){}t.Component;var he=function(e){function n(){return e.apply(this,arguments)||this}return p(n,e),n.prototype.render=function(){var e=this;return t.createElement(te.Consumer,null,(function(n){n||b(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?ae(a.pathname,v({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var de=t.useContext;function pe(){return de(Z)}n(371);function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t){if(null==e)return{};var n,r,i=Y(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ke=n(1694),be=n.n(ke),we=n(184),_e=["as","disabled"];function xe(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Ee=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_e),a=h(xe(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,we.jsx)(s,Object.assign({},i,o,{ref:t}))}));Ee.displayName="Button";var Ie=Ee,Se=["xxl","xl","lg","md","sm","xs"],Te=t.createContext({prefixes:{},breakpoints:Se});Te.Consumer,Te.Provider;function Ce(e,n){var r=(0,t.useContext)(Te).prefixes;return e||r[n]||n}var Ne=["as","bsPrefix","variant","size","active","className"],Ae=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=ge(e,Ne),c=Ce(r,"btn"),l=h(xe(ye({tagName:n},u)),2),f=l[0],d=l[1].tagName;return(0,we.jsx)(d,ye(ye(ye({},f),u),{},{ref:t,className:be()(s,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),u.href&&u.disabled&&"disabled")}))}));Ae.displayName="Button",Ae.defaultProps={variant:"primary",active:!1,disabled:!1};var Oe=Ae;n(2176);function De(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Pe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Re(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[De(i)],u=o[i],c=Y(o,[De(i),i].map(Pe)),l=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[l]),h=f[0],d=f[1];return v({},c,((a={})[i]=h,a[l]=d,a))}),e)}function Le(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Me(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Fe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Le.__suppressDeprecationWarning=!0,Me.__suppressDeprecationWarning=!0,Fe.__suppressDeprecationWarning=!0;var je=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Ue(e){var n=je(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Ve="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||Ve?t.useLayoutEffect:t.useEffect,new WeakMap;var Be=["onKeyDown"];var ze=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Be),a=h(xe(Object.assign({tagName:"a"},i)),1)[0],o=Ue((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,we.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,we.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));ze.displayName="Anchor";var qe=ze,He=n(4164),Ke=!1,We=t.createContext(null),Ge="unmounted",Qe="exited",$e="entering",Xe="entered",Ye="exiting",Je=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Qe,r.appearStatus=$e):i=Xe:i=t.unmountOnExit||t.mountOnEnter?Ge:Qe,r.state={status:i},r.nextCallback=null,r}p(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ge?{status:Qe}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$e&&n!==Xe&&(t=$e):n!==$e&&n!==Xe||(t=Ye)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===$e?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Qe&&this.setState({status:Ge})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[He.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Ke?this.safeSetState({status:Xe},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:$e},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Xe},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:He.findDOMNode(this);t&&!Ke?(this.props.onExit(r),this.safeSetState({status:Ye},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Qe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Qe},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:He.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ge)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Y(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(We.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Ze(){}Je.contextType=We,Je.propTypes={},Je.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ze,onEntering:Ze,onEntered:Ze,onExit:Ze,onExiting:Ze,onExited:Ze},Je.UNMOUNTED=Ge,Je.EXITED=Qe,Je.ENTERING=$e,Je.ENTERED=Xe,Je.EXITING=Ye;var et=Je;function tt(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var nt=/([A-Z])/g;var rt=/^ms-/;function it(e){return function(e){return e.replace(nt,"-$1").toLowerCase()}(e).replace(rt,"-ms-")}var at=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var ot=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(it(t))||function(e,t){return tt(e).getComputedStyle(e,t)}(e).getPropertyValue(it(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!at.test(e))}(i)?n+=it(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(it(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},st=!("undefined"===typeof window||!window.document||!window.document.createElement),ut=!1,ct=!1;try{var lt={get passive(){return ut=!0},get once(){return ct=ut=!0}};st&&(window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,!0))}catch(eD){}var ft=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ct){var i=r.once,a=r.capture,o=n;!ct&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ut?r:a)}e.addEventListener(t,n,r)};var ht=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var dt=function(e,t,n,r){return ft(e,t,n,r),function(){ht(e,t,n,r)}};function pt(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=dt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function vt(e,t,n,r){null==n&&(n=function(e){var t=ot(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=pt(e,n,r),a=dt(e,"transitionend",t);return function(){i(),a()}}function mt(e,t){var n=ot(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function yt(e,t){var n=mt(e,"transitionDuration"),r=mt(e,"transitionDelay"),i=vt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var gt=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var kt=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=gt(e),r=gt(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var bt,wt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],_t=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=ge(e,wt),d=(0,t.useRef)(null),p=kt(d,f),v=function(e){var t;p((t=e)&&"setState"in t?He.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,t.useCallback)(m(r),[r]),g=(0,t.useCallback)(m(i),[i]),k=(0,t.useCallback)(m(a),[a]),b=(0,t.useCallback)(m(o),[o]),w=(0,t.useCallback)(m(s),[s]),_=(0,t.useCallback)(m(u),[u]),x=(0,t.useCallback)(m(c),[c]);return(0,we.jsx)(et,ye(ye({ref:n},h),{},{onEnter:y,onEntered:k,onEntering:g,onExit:b,onExited:_,onExiting:w,addEndListener:x,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,ye(ye({},t),{},{ref:v}))}:t.cloneElement(l,{ref:v})}))})),xt=_t,Et=["className","children","transitionClasses"],It=(ve(bt={},$e,"show"),ve(bt,Xe,"show"),bt),St=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=ge(e,Et),u=(0,t.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,we.jsx)(xt,ye(ye({ref:n,addEndListener:yt},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,ye(ye({},n),{},{className:be()("fade",r,i.props.className,It[e],o[e])}))}}))}));St.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},St.displayName="Fade";var Tt=St,Ct=["className","variant"],Nt={"aria-label":q().string,onClick:q().func,variant:q().oneOf(["white"])},At=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=ge(e,Ct);return(0,we.jsx)("button",ye({ref:t,type:"button",className:be()("btn-close",r&&"btn-close-".concat(r),n)},i))}));At.displayName="CloseButton",At.propTypes=Nt,At.defaultProps={"aria-label":"Close"};var Ot=At,Dt=function(e){return t.forwardRef((function(t,n){return(0,we.jsx)("div",ye(ye({},t),{},{ref:n,className:be()(t.className,e)}))}))},Pt=/-(.)/g;var Rt=["className","bsPrefix","as"],Lt=function(e){return e[0].toUpperCase()+(t=e,t.replace(Pt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Mt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Lt(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=ge(t,Rt),c=Ce(i,e);return(0,we.jsx)(s,ye({ref:n,className:be()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var Ft=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],jt=Dt("h4");jt.displayName="DivStyledAsH4";var Ut=Mt("alert-heading",{Component:jt}),Vt=Mt("alert-link",{Component:qe}),Bt={variant:"primary",show:!0,transition:Tt,closeLabel:"Close alert"},zt=t.forwardRef((function(e,t){var n=Re(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,s=n.className,u=n.children,c=n.variant,l=n.onClose,f=n.dismissible,h=n.transition,d=ge(n,Ft),p=Ce(r,"alert"),v=Ue((function(e){l&&l(!1,e)})),m=!0===h?Tt:h,y=(0,we.jsxs)("div",ye(ye({role:"alert"},m?void 0:d),{},{ref:t,className:be()(s,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,we.jsx)(Ot,{onClick:v,"aria-label":a,variant:o}),u]}));return m?(0,we.jsx)(m,ye(ye({unmountOnExit:!0},d),{},{ref:void 0,in:i,children:y})):i?y:null}));zt.displayName="Alert",zt.defaultProps=Bt;var qt=Object.assign(zt,{Link:Vt,Heading:Ut}),Ht=["as","className","type","tooltip"],Kt={type:q().string,tooltip:q().bool,as:q().elementType},Wt=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=ge(e,Ht);return(0,we.jsx)(r,ye(ye({},c),{},{ref:t,className:be()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));Wt.displayName="Feedback",Wt.propTypes=Kt;var Gt=Wt,Qt=t.createContext({}),$t=["id","bsPrefix","className","type","isValid","isInvalid","as"],Xt=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=ge(e,$t),v=(0,t.useContext)(Qt).controlId;return i=Ce(i,"form-check-input"),(0,we.jsx)(d,ye(ye({},p),{},{ref:n,type:s,id:r||v,className:be()(a,i,c&&"is-valid",f&&"is-invalid")}))}));Xt.displayName="FormCheckInput";var Yt=Xt,Jt=["bsPrefix","className","htmlFor"],Zt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=ge(e,Jt),s=(0,t.useContext)(Qt).controlId;return r=Ce(r,"form-check-label"),(0,we.jsx)("label",ye(ye({},o),{},{ref:n,htmlFor:a||s,className:be()(i,r)}))}));Zt.displayName="FormCheckLabel";var en=Zt;var tn=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],nn=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,p=e.feedbackTooltip,v=void 0!==p&&p,m=e.feedback,y=e.feedbackType,g=e.className,k=e.style,b=e.title,w=void 0===b?"":b,_=e.type,x=void 0===_?"checkbox":_,E=e.label,I=e.children,S=e.as,T=void 0===S?"input":S,C=ge(e,tn);i=Ce(i,"form-check"),a=Ce(a,"form-switch");var N=(0,t.useContext)(Qt).controlId,A=(0,t.useMemo)((function(){return{controlId:r||N}}),[N,r]),O=!I&&null!=E&&!1!==E||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(I,en),D=(0,we.jsx)(Yt,ye(ye({},C),{},{type:"switch"===x?"checkbox":x,ref:n,isValid:f,isInvalid:d,disabled:c,as:T}));return(0,we.jsx)(Qt.Provider,{value:A,children:(0,we.jsx)("div",{style:k,className:be()(g,O&&i,s&&"".concat(i,"-inline"),"switch"===x&&a),children:I||(0,we.jsxs)(we.Fragment,{children:[D,O&&(0,we.jsx)(en,{title:w,children:E}),m&&(0,we.jsx)(Gt,{type:y,tooltip:v,children:m})]})})})}));nn.displayName="FormCheck";var rn=Object.assign(nn,{Input:Yt,Label:en}),an=(n(2391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),on=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=ge(e,an),b=(0,t.useContext)(Qt).controlId;(a=Ce(a,"form-control"),v)?r=ve({},"".concat(a,"-plaintext"),!0):(ve(i={},a,!0),ve(i,"".concat(a,"-").concat(s),s),r=i);return(0,we.jsx)(g,ye(ye({},k),{},{type:o,size:u,ref:n,readOnly:m,id:c||b,className:be()(l,r,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));on.displayName="FormControl";var sn=Object.assign(on,{Feedback:Gt}),un=Mt("form-floating"),cn=["controlId","as"],ln=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=ge(e,cn),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,we.jsx)(Qt.Provider,{value:s,children:(0,we.jsx)(a,ye(ye({},o),{},{ref:n}))})}));ln.displayName="FormGroup";var fn=ln,hn=["as","bsPrefix","className"],dn=["className"];function pn(e){var n=e.as,r=e.bsPrefix,i=e.className,a=ge(e,hn);r=Ce(r,"col");var o=(0,t.useContext)(Te).breakpoints,s=[],u=[];return o.forEach((function(e){var t,n,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,n=o.offset,i=o.order):t=o;var c="xs"!==e?"-".concat(e):"";t&&s.push(!0===t?"".concat(r).concat(c):"".concat(r).concat(c,"-").concat(t)),null!=i&&u.push("order".concat(c,"-").concat(i)),null!=n&&u.push("offset".concat(c,"-").concat(n))})),[ye(ye({},a),{},{className:be().apply(void 0,[i].concat(s,u))}),{as:n,bsPrefix:r,spans:s}]}var vn=t.forwardRef((function(e,t){var n=h(pn(e),2),r=n[0],i=r.className,a=ge(r,dn),o=n[1],s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.spans;return(0,we.jsx)(u,ye(ye({},a),{},{ref:t,className:be()(i,!l.length&&c)}))}));vn.displayName="Col";var mn=vn,yn=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],gn=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=e.visuallyHidden,u=e.className,c=e.htmlFor,l=ge(e,yn),f=(0,t.useContext)(Qt).controlId;a=Ce(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=be()(u,a,s&&"visually-hidden",o&&h);return c=c||f,o?(0,we.jsx)(mn,ye({ref:n,as:"label",className:d,htmlFor:c},l)):(0,we.jsx)(i,ye({ref:n,className:d,htmlFor:c},l))}));gn.displayName="FormLabel",gn.defaultProps={column:!1,visuallyHidden:!1};var kn=gn,bn=["bsPrefix","className","id"],wn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=ge(e,bn),s=(0,t.useContext)(Qt).controlId;return r=Ce(r,"form-range"),(0,we.jsx)("input",ye(ye({},o),{},{type:"range",ref:n,className:be()(i,r),id:a||s}))}));wn.displayName="FormRange";var _n=wn,xn=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],En=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=ge(e,xn),d=(0,t.useContext)(Qt).controlId;return r=Ce(r,"form-select"),(0,we.jsx)("select",ye(ye({},h),{},{size:a,ref:n,className:be()(o,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));En.displayName="FormSelect";var In=En,Sn=["bsPrefix","className","as","muted"],Tn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=ge(e,Sn);return n=Ce(n,"form-text"),(0,we.jsx)(a,ye(ye({},s),{},{ref:t,className:be()(r,n,o&&"text-muted")}))}));Tn.displayName="FormText";var Cn=Tn,Nn=t.forwardRef((function(e,t){return(0,we.jsx)(rn,ye(ye({},e),{},{ref:t,type:"switch"}))}));Nn.displayName="Switch";var An=Object.assign(Nn,{Input:rn.Input,Label:rn.Label}),On=["bsPrefix","className","children","controlId","label"],Dn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=ge(e,On);return n=Ce(n,"form-floating"),(0,we.jsxs)(fn,ye(ye({ref:t,className:be()(r,n),controlId:a},s),{},{children:[i,(0,we.jsx)("label",{htmlFor:a,children:o})]}))}));Dn.displayName="FloatingLabel";var Pn=Dn,Rn=["className","validated","as"],Ln={_ref:q().any,validated:q().bool,as:q().elementType},Mn=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=ge(e,Rn);return(0,we.jsx)(a,ye(ye({},o),{},{ref:t,className:be()(n,r&&"was-validated")}))}));Mn.displayName="Form",Mn.propTypes=Ln;var Fn=Object.assign(Mn,{Group:fn,Control:sn,Floating:un,Check:rn,Switch:An,Label:kn,Text:Cn,Range:_n,Select:In,FloatingLabel:Pn});function jn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Un(e){return function(e){if(Array.isArray(e))return c(e)}(e)||jn(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t,n){return t&&zn(e.prototype,t),n&&zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function Wn(e){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wn(e)}function Gn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eD){return!1}}function Qn(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hn(e)}function $n(e){var t=Gn();return function(){var n,r=Wn(e);if(t){var i=Wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qn(this,n)}}function Xn(e,t,n){return Xn=Gn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},Xn.apply(null,arguments)}function Yn(e){var t="function"===typeof Map?new Map:void 0;return Yn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Xn(e,arguments,Wn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},Yn(e)}var Jn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},er=function(e){return function(e){var t=Jn(e);return Zn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},tr=function(e){try{return Zn.decodeString(e,!0)}catch(eD){console.error("base64Decode failed: ",eD)}return null};function nr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&rr(n)&&(e[n]=nr(e[n],t[n]));return e}function rr(e){return"__proto__"!==e}var ir=function(){function e(){var t=this;Bn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return qn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ar(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[er(JSON.stringify({alg:"none",type:"JWT"})),er(JSON.stringify(a)),""].join(".")}function or(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function sr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function ur(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(eD){return!1}}function cr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function lr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fr(){var e=or();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hr(){return"object"===typeof indexedDB}var dr=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Hn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Hn(a),pr.prototype.create),a}return qn(n)}(Yn(Error)),pr=function(){function e(t,n,r){Bn(this,e),this.service=t,this.serviceName=n,this.errors=r}return qn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?vr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new dr(n,a,t);return o}}]),e}();function vr(e,t){return e.replace(mr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var mr=/\{\$([^}]+)}/g;function yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(kr(s)&&kr(u)){if(!gr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function kr(e){return null!==e&&"object"===typeof e}function br(e){for(var t=[],n=function(){var e=h(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function wr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=h(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function _r(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function xr(e,t){var n=new Er(e,t);return n.subscribe.bind(n)}var Er=function(){function e(t,n){var r=this;Bn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return qn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Vn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ir),void 0===r.error&&(r.error=Ir),void 0===r.complete&&(r.complete=Ir);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(eD){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(eD){"undefined"!==typeof console&&console.error&&console.error(eD)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ir(){}function Sr(e){return e&&e._delegate?e._delegate:e}var Tr=function(){function e(t,n,r){Bn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return qn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Cr="[DEFAULT]",Nr=function(){function e(t,n){Bn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return qn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ir;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(eD){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(eD){if(r)return null;throw eD}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch(eD){}var t,n=Vn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(eD){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Un(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Un(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Vn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=h(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(hk){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Cr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(hk){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;return this.component?this.component.multipleInstances?e:Cr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ar,Or,Dr=function(){function e(t){Bn(this,e),this.name=t,this.providers=new Map}return qn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Nr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Or||(Or={}));var Rr={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},Lr=Or.INFO,Mr=(ve(Ar={},Or.DEBUG,"log"),ve(Ar,Or.VERBOSE,"log"),ve(Ar,Or.INFO,"info"),ve(Ar,Or.WARN,"warn"),ve(Ar,Or.ERROR,"error"),Ar),Fr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Mr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},jr=function(){function e(t){Bn(this,e),this.name=t,this._logLevel=Lr,this._logHandler=Fr,this._userLogHandler=null,Pr.push(this)}return qn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Or))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Rr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.DEBUG].concat(t)),this._logHandler.apply(this,[this,Or.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Or.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.INFO].concat(t)),this._logHandler.apply(this,[this,Or.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.WARN].concat(t)),this._logHandler.apply(this,[this,Or.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.ERROR].concat(t)),this._logHandler.apply(this,[this,Or.ERROR].concat(t))}}]),e}();var Ur,Vr;var Br=new WeakMap,zr=new WeakMap,qr=new WeakMap,Hr=new WeakMap,Kr=new WeakMap;var Wr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Gr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vr||(Vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xr(this),n),$r(Br.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $r(e.apply(Xr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Xr(this),t].concat(r));return qr.set(a,t.sort?t.sort():[t]),$r(a)}}function Qr(e){return"function"===typeof e?Gr(e):(e instanceof IDBTransaction&&function(e){if(!zr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));zr.set(e,t)}}(e),t=e,(Ur||(Ur=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Wr):e);var t}function $r(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t($r(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Br.set(t,e)})).catch((function(){})),Kr.set(t,e),t}(e);if(Hr.has(e))return Hr.get(e);var t=Qr(e);return t!==e&&(Hr.set(e,t),Kr.set(t,e)),t}var Xr=function(e){return Kr.get(e)};var Yr,Jr,Zr=["get","getKey","getAll","getAllKeys","count"],ei=["put","add","delete","clear"],ti=new Map;function ni(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ti.get(t))return ti.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ei.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Zr.includes(n))){var o=function(){var e=s(a().mark((function e(t){var o,s,u,c,l,f,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(o=u)[n].apply(o,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ti.set(t,o),o}}}Wr=function(e){return ye(ye({},e),{},{get:function(t,n,r){return ni(t,n)||e.get(t,n,r)},has:function(t,n){return!!ni(t,n)||e.has(t,n)}})}(Wr);var ri=function(){function e(t){Bn(this,e),this.container=t}return qn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ii="@firebase/app",ai="0.7.26",oi=new jr("@firebase/app"),si="[DEFAULT]",ui=(ve(Yr={},ii,"fire-core"),ve(Yr,"@firebase/app-compat","fire-core-compat"),ve(Yr,"@firebase/analytics","fire-analytics"),ve(Yr,"@firebase/analytics-compat","fire-analytics-compat"),ve(Yr,"@firebase/app-check","fire-app-check"),ve(Yr,"@firebase/app-check-compat","fire-app-check-compat"),ve(Yr,"@firebase/auth","fire-auth"),ve(Yr,"@firebase/auth-compat","fire-auth-compat"),ve(Yr,"@firebase/database","fire-rtdb"),ve(Yr,"@firebase/database-compat","fire-rtdb-compat"),ve(Yr,"@firebase/functions","fire-fn"),ve(Yr,"@firebase/functions-compat","fire-fn-compat"),ve(Yr,"@firebase/installations","fire-iid"),ve(Yr,"@firebase/installations-compat","fire-iid-compat"),ve(Yr,"@firebase/messaging","fire-fcm"),ve(Yr,"@firebase/messaging-compat","fire-fcm-compat"),ve(Yr,"@firebase/performance","fire-perf"),ve(Yr,"@firebase/performance-compat","fire-perf-compat"),ve(Yr,"@firebase/remote-config","fire-rc"),ve(Yr,"@firebase/remote-config-compat","fire-rc-compat"),ve(Yr,"@firebase/storage","fire-gcs"),ve(Yr,"@firebase/storage-compat","fire-gcs-compat"),ve(Yr,"@firebase/firestore","fire-fst"),ve(Yr,"@firebase/firestore-compat","fire-fst-compat"),ve(Yr,"fire-js","fire-js"),ve(Yr,"firebase","fire-js-all"),Yr),ci=new Map,li=new Map;function fi(e,t){try{e.container.addComponent(t)}catch(eD){oi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),eD)}}function hi(e,t){e.container.addOrOverwriteComponent(t)}function di(e){var t=e.name;if(li.has(t))return oi.debug("There were multiple attempts to register component ".concat(t,".")),!1;li.set(t,e);var n,r=Vn(ci.values());try{for(r.s();!(n=r.n()).done;){fi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:si;pi(e,t).clearInstance(n)}function mi(){li.clear()}var yi=(ve(Jr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ve(Jr,"bad-app-name","Illegal App name: '{$appName}"),ve(Jr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ve(Jr,"app-deleted","Firebase App named '{$appName}' already deleted"),ve(Jr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ve(Jr,"invalid-log-argument","First argument to `onLog` must be null or a function."),ve(Jr,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ve(Jr,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ve(Jr,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ve(Jr,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Jr),gi=new pr("app","Firebase",yi),ki=function(){function e(t,n,r){var i=this;Bn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tr("app",(function(){return i}),"PUBLIC"))}return qn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}]),e}(),bi="9.8.3";function wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:si,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gi.create("bad-app-name",{appName:String(i)});var a=ci.get(i);if(a){if(gr(e,a.options)&&gr(r,a.config))return a;throw gi.create("duplicate-app",{appName:i})}var o,s=new Dr(i),u=Vn(li.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new ki(e,r,s);return ci.set(i,l),l}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si,t=ci.get(e);if(!t)throw gi.create("no-app",{appName:e});return t}function xi(){return Array.from(ci.values())}function Ei(e){return Ii.apply(this,arguments)}function Ii(){return Ii=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ci.has(n)){e.next=6;break}return ci.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Si(e,t,n){var r,i=null!==(r=ui[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oi.warn(s.join(" "))}di(new Tr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ti(e,t){if(null!==e&&"function"!==typeof e)throw gi.create("invalid-log-argument");!function(e,t){var n,r=Vn(Pr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Rr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Or[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ci(e){var t;t=e,Pr.forEach((function(e){e.setLogLevel(t)}))}var Ni="firebase-heartbeat-store",Ai=null;function Oi(){return Ai||(Ai=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=$r(s);return i&&s.addEventListener("upgradeneeded",(function(e){i($r(s.result),e.oldVersion,e.newVersion,$r(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ni)}}).catch((function(e){throw gi.create("storage-open",{originalErrorMessage:e.message})}))),Ai}function Di(e){return Pi.apply(this,arguments)}function Pi(){return Pi=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oi();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ni).objectStore(Ni).get(Mi(t)));case 7:throw e.prev=7,e.t0=e.catch(0),gi.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Pi.apply(this,arguments)}function Ri(e,t){return Li.apply(this,arguments)}function Li(){return Li=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oi();case 3:return i=e.sent,o=i.transaction(Ni,"readwrite"),s=o.objectStore(Ni),e.next=8,s.put(n,Mi(t));case 8:return e.abrupt("return",o.done);case 11:throw e.prev=11,e.t0=e.catch(0),gi.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Li.apply(this,arguments)}function Mi(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fi=function(){function e(t){var n=this;Bn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Bi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return qn(e,[{key:"triggerHeartbeat",value:function(){var e=s(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ji(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=s(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ji(),n=Ui(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=er(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ji(){return(new Date).toISOString().substring(0,10)}function Ui(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Vn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),zi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),zi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vi,Bi=function(){function e(t){Bn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return qn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Di(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ri(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ri(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Un(r.heartbeats),Un(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function zi(e){return er(JSON.stringify({version:2,heartbeats:e})).length}Vi="",di(new Tr("platform-logger",(function(e){return new ri(e)}),"PRIVATE")),di(new Tr("heartbeat",(function(e){return new Fi(e)}),"PRIVATE")),Si(ii,ai,Vi),Si(ii,ai,"esm2017"),Si("fire-js","");function qi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wn(e)););return e}function Hi(){return Hi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hi.apply(this,arguments)}Si("firebase","9.8.3","app");var Ki,Wi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Gi={},Qi=Qi||{},$i=Wi||self;function Xi(){}function Yi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ji(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zi="closure_uid_"+(1e9*Math.random()>>>0),ea=0;function ta(e,t,n){return e.call.apply(e.bind,arguments)}function na(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ra(e,t,n){return(ra=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ta:na).apply(null,arguments)}function ia(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function aa(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function oa(){this.s=this.s,this.o=this.o}var sa={};oa.prototype.s=!1,oa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Zi)&&e[Zi]||(e[Zi]=++ea)}(this);delete sa[e]}},oa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ua=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ca=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function la(e){return Array.prototype.concat.apply([],arguments)}function fa(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ha(e){return/^[\s\xa0]*$/.test(e)}var da,pa=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function va(e,t){return-1!=e.indexOf(t)}function ma(e,t){return e<t?-1:e>t?1:0}e:{var ya=$i.navigator;if(ya){var ga=ya.userAgent;if(ga){da=ga;break e}}da=""}function ka(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ba(e){var t={};for(var n in e)t[n]=e[n];return t}var wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _a(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<wa.length;a++)n=wa[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xa(e){return xa[" "](e),e}xa[" "]=Xi;var Ea,Ia=va(da,"Opera"),Sa=va(da,"Trident")||va(da,"MSIE"),Ta=va(da,"Edge"),Ca=Ta||Sa,Na=va(da,"Gecko")&&!(va(da.toLowerCase(),"webkit")&&!va(da,"Edge"))&&!(va(da,"Trident")||va(da,"MSIE"))&&!va(da,"Edge"),Aa=va(da.toLowerCase(),"webkit")&&!va(da,"Edge");function Oa(){var e=$i.document;return e?e.documentMode:void 0}e:{var Da="",Pa=function(){var e=da;return Na?/rv:([^\);]+)(\)|;)/.exec(e):Ta?/Edge\/([\d\.]+)/.exec(e):Sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Aa?/WebKit\/(\S+)/.exec(e):Ia?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pa&&(Da=Pa?Pa[1]:""),Sa){var Ra=Oa();if(null!=Ra&&Ra>parseFloat(Da)){Ea=String(Ra);break e}}Ea=Da}var La,Ma={};function Fa(){return function(e){var t=Ma;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=pa(String(Ea)).split("."),n=pa("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ma(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ma(0==a[2].length,0==o[2].length)||ma(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if($i.document&&Sa){var ja=Oa();La=ja||(parseInt(Ea,10)||void 0)}else La=void 0;var Ua=La,Va=function(){if(!$i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{$i.addEventListener("test",Xi,t),$i.removeEventListener("test",Xi,t)}catch(n){}return e}();function Ba(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function za(e,t){if(Ba.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Na){e:{try{xa(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:qa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&za.Z.h.call(this)}}Ba.prototype.h=function(){this.defaultPrevented=!0},aa(za,Ba);var qa={2:"touch",3:"pen",4:"mouse"};za.prototype.h=function(){za.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ka=0;function Wa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ka,this.ca=this.fa=!1}function Ga(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Qa(e){this.src=e,this.g={},this.h=0}function $a(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ua(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ga(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xa(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Qa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Xa(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Wa(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ya="closure_lm_"+(1e6*Math.random()|0),Ja={};function Za(e,t,n,r,i){if(r&&r.once)return to(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Za(e,t[a],n,r,i);return null}return n=uo(n),e&&e[Ha]?e.N(t,n,Ji(r)?!!r.capture:!!r,i):eo(e,t,n,!1,r,i)}function eo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ji(i)?!!i.capture:!!i,s=oo(e);if(s||(e[Ya]=s=new Qa(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ao;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Va||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(io(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function to(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)to(e,t[a],n,r,i);return null}return n=uo(n),e&&e[Ha]?e.O(t,n,Ji(r)?!!r.capture:!!r,i):eo(e,t,n,!0,r,i)}function no(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)no(e,t[a],n,r,i);else r=Ji(r)?!!r.capture:!!r,n=uo(n),e&&e[Ha]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xa(a=e.g[t],n,r,i))&&(Ga(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=oo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xa(t,n,r,i)),(n=-1<e?t[e]:null)&&ro(n))}function ro(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ha])$a(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(io(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=oo(t))?($a(n,e),0==n.h&&(n.src=null,t[Ya]=null)):Ga(e)}}}function io(e){return e in Ja?Ja[e]:Ja[e]="on"+e}function ao(e,t){if(e.ca)e=!0;else{t=new za(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ro(e),e=n.call(r,t)}return e}function oo(e){return(e=e[Ya])instanceof Qa?e:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(e){return"function"===typeof e?e:(e[so]||(e[so]=function(t){return e.handleEvent(t)}),e[so])}function co(){oa.call(this),this.i=new Qa(this),this.P=this,this.I=null}function lo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ba(t,e);else if(t instanceof Ba)t.target=t.target||e;else{var i=t;_a(t=new Ba(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=fo(o,r,!0,t)&&i}if(i=fo(o=t.g=e,r,!0,t)&&i,i=fo(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=fo(o=t.g=n[a],r,!1,t)&&i}function fo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&$a(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}aa(co,oa),co.prototype[Ha]=!0,co.prototype.removeEventListener=function(e,t,n,r){no(this,e,t,n,r)},co.prototype.M=function(){if(co.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ga(n[r]);delete t.g[e],t.h--}}this.I=null},co.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},co.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ho=$i.JSON.stringify;function po(){var e=_o,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vo,mo=function(){function e(){Bn(this,e),this.h=this.g=null}return qn(e,[{key:"add",value:function(e,t){var n=yo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yo=new(function(){function e(t,n){Bn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return qn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new go}),(function(e){return e.reset()})),go=function(){function e(){Bn(this,e),this.next=this.g=this.h=null}return qn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ko(e){$i.setTimeout((function(){throw e}),0)}function bo(e,t){vo||function(){var e=$i.Promise.resolve(void 0);vo=function(){e.then(xo)}}(),wo||(vo(),wo=!0),_o.add(e,t)}var wo=!1,_o=new mo;function xo(){for(var e;e=po();){try{e.h.call(e.g)}catch(n){ko(n)}var t=yo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}wo=!1}function Eo(e,t){co.call(this),this.h=e||1,this.g=t||$i,this.j=ra(this.kb,this),this.l=Date.now()}function Io(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function So(e,t,n){if("function"===typeof e)n&&(e=ra(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ra(e.handleEvent,e)}return 2147483647<Number(t)?-1:$i.setTimeout(e,t||0)}function To(e){e.g=So((function(){e.g=null,e.i&&(e.i=!1,To(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}aa(Eo,co),(Ki=Eo.prototype).da=!1,Ki.S=null,Ki.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lo(this,"tick"),this.da&&(Io(this),this.start()))}},Ki.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ki.M=function(){Eo.Z.M.call(this),Io(this),delete this.g};var Co=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return qn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:To(this)}},{key:"M",value:function(){Hi(Wn(n.prototype),"M",this).call(this),this.g&&($i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(oa);function No(e){oa.call(this),this.h=e,this.g={}}aa(No,oa);var Ao=[];function Oo(e,t,n,r){Array.isArray(n)||(n&&(Ao[0]=n.toString()),n=Ao);for(var i=0;i<n.length;i++){var a=Za(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Do(e){ka(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ro(e)}),e),e.g={}}function Po(){this.g=!0}function Ro(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ho(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}No.prototype.M=function(){No.Z.M.call(this),Do(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Po.prototype.Aa=function(){this.g=!1},Po.prototype.info=function(){};var Lo={},Mo=null;function Fo(){return Mo=Mo||new co}function jo(e){Ba.call(this,Lo.Ma,e)}function Uo(e){var t=Fo();lo(t,new jo(t,e))}function Vo(e,t){Ba.call(this,Lo.STAT_EVENT,e),this.stat=t}function Bo(e){var t=Fo();lo(t,new Vo(t,e))}function zo(e,t){Ba.call(this,Lo.Na,e),this.size=t}function qo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return $i.setTimeout((function(){e()}),t)}Lo.Ma="serverreachability",aa(jo,Ba),Lo.STAT_EVENT="statevent",aa(Vo,Ba),Lo.Na="timingevent",aa(zo,Ba);var Ho={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ko={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wo(){}function Go(e){return e.h||(e.h=e.i())}function Qo(){}Wo.prototype.h=null;var $o,Xo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yo(){Ba.call(this,"d")}function Jo(){Ba.call(this,"c")}function Zo(){}function es(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new No(this),this.P=ns,e=Ca?125:void 0,this.W=new Eo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ts}function ts(){this.i=null,this.g="",this.h=!1}aa(Yo,Ba),aa(Jo,Ba),aa(Zo,Wo),Zo.prototype.g=function(){return new XMLHttpRequest},Zo.prototype.i=function(){return{}},$o=new Zo;var ns=45e3,rs={},is={};function as(e,t,n){e.K=1,e.v=Cs(_s(t)),e.s=n,e.U=!0,os(e,null)}function os(e,t){e.F=Date.now(),ls(e),e.A=_s(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Bs(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ts,e.g=qu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Co(ra(e.Ia,e,e.g),e.O)),Oo(e.V,e.g,"readystatechange",e.gb),t=e.H?ba(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Uo(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ss(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function us(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=cs(e,n))==is){4==t&&(e.o=4,Bo(14),i=!1),Ro(e.j,e.m,null,"[Incomplete Response]");break}if(r==rs){e.o=4,Bo(15),Ro(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ro(e.j,e.m,r,null),vs(e,r)}ss(e)&&r!=is&&r!=rs&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lu(t),t.L=!0,Bo(11))):(Ro(e.j,e.m,n,"[Invalid Chunked Response]"),ps(e),ds(e))}function cs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?is:(n=Number(t.substring(n,r)),isNaN(n)?rs:(r+=1)+n>t.length?is:(t=t.substr(r,n),e.C=r+n,t))}function ls(e){e.Y=Date.now()+e.P,fs(e,e.P)}function fs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qo(ra(e.eb,e),t)}function hs(e){e.B&&($i.clearTimeout(e.B),e.B=null)}function ds(e){0==e.l.G||e.I||ju(e.l,e)}function ps(e){hs(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Io(e.W),Do(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vs(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||$s(n.i,e)))if(n.I=e.N,!e.J&&$s(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fu(n),Su(n)}Ru(n),Bo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=qo(ra(n.ab,n),6e3));if(1>=Qs(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Vu(n,11)}else if((e.J||n.g==e)&&Fu(n),!ha(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(va(l,"spdy")||va(l,"quic")||va(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Xs(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ts(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=zu(r,r.H?r.la:null,r.W),d.J){Ys(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(hs(p),ls(p)),r.g=d}else Pu(r);0<n.l.length&&Nu(n)}else"stop"!=a[0]&&"close"!=a[0]||Vu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Vu(n,7):Iu(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Uo(4)}catch(a){}}function ms(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yi(e)||"string"===typeof e)ca(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Yi(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Yi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ys(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ys)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function gs(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ks(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ks(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ks(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ki=es.prototype).setTimeout=function(e){this.P=e},Ki.gb=function(e){e=e.target;var t=this.L;t&&3==bu(e)?t.l():this.Ia(e)},Ki.Ia=function(e){try{if(e==this.g)e:{var t=bu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ca||this.g&&(this.h.h||this.g.ga()||wu(this.g)))){this.I||4!=t||7==n||Uo(8==n||0>=r?3:2),hs(this);var i=this.g.ba();this.N=i;t:if(ss(this)){var a=wu(this.g);e="";var o=a.length,s=4==bu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ps(this),ds(this);var u="";break t}this.h.i=new $i.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ha(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Bo(12),ps(this),ds(this);break e}Ro(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vs(this,i)}this.U?(us(this,t,u),Ca&&this.i&&3==t&&(Oo(this.V,this.W,"tick",this.fb),this.W.start())):(Ro(this.j,this.m,u,null),vs(this,u)),4==t&&ps(this),this.i&&!this.I&&(4==t?ju(this.l,this):(this.i=!1,ls(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Bo(12)):(this.o=0,Bo(13)),ps(this),ds(this)}}}catch(t){}},Ki.fb=function(){if(this.g){var e=bu(this.g),t=this.g.ga();this.C<t.length&&(hs(this),us(this,e,t),this.i&&4!=e&&ls(this))}},Ki.cancel=function(){this.I=!0,ps(this)},Ki.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Uo(3),Bo(17)),ps(this),this.o=2,ds(this)):fs(this,this.Y-e)},(Ki=ys.prototype).R=function(){gs(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ki.T=function(){return gs(this),this.g.concat()},Ki.get=function(e,t){return ks(this.h,e)?this.h[e]:t},Ki.set=function(e,t){ks(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ki.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var bs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ws(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ws){this.g=void 0!==t?t:e.g,xs(this,e.j),this.s=e.s,Es(this,e.i),Is(this,e.m),this.l=e.l,t=e.h;var n=new Fs;n.i=t.i,t.g&&(n.g=new ys(t.g),n.h=t.h),Ss(this,n),this.o=e.o}else e&&(n=String(e).match(bs))?(this.g=!!t,xs(this,n[1]||"",!0),this.s=Ns(n[2]||""),Es(this,n[3]||"",!0),Is(this,n[4]),this.l=Ns(n[5]||"",!0),Ss(this,n[6]||"",!0),this.o=Ns(n[7]||"")):(this.g=!!t,this.h=new Fs(null,this.g))}function _s(e){return new ws(e)}function xs(e,t,n){e.j=n?Ns(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Es(e,t,n){e.i=n?Ns(t,!0):t}function Is(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ss(e,t,n){t instanceof Fs?(e.h=t,function(e,t){t&&!e.j&&(js(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Us(this,t),Bs(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=As(t,Ls)),e.h=new Fs(t,e.g))}function Ts(e,t,n){e.h.set(t,n)}function Cs(e){return Ts(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ns(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function As(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Os),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Os(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ws.prototype.toString=function(){var e=[],t=this.j;t&&e.push(As(t,Ds,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(As(t,Ds,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(As(n,"/"==n.charAt(0)?Rs:Ps,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",As(n,Ms)),e.join("")};var Ds=/[#\/\?@]/g,Ps=/[#\?:]/g,Rs=/[#\?]/g,Ls=/[#\?@]/g,Ms=/#/g;function Fs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function js(e){e.g||(e.g=new ys,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Us(e,t){js(e),t=zs(e,t),ks(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ks((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&gs(e)))}function Vs(e,t){return js(e),t=zs(e,t),ks(e.g.h,t)}function Bs(e,t,n){Us(e,t),0<n.length&&(e.i=null,e.g.set(zs(e,t),fa(n)),e.h+=n.length)}function zs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ki=Fs.prototype).add=function(e,t){js(this),this.i=null,e=zs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ki.forEach=function(e,t){js(this),this.g.forEach((function(n,r){ca(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ki.T=function(){js(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ki.R=function(e){js(this);var t=[];if("string"===typeof e)Vs(this,e)&&(t=la(t,this.g.get(zs(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=la(t,e[n])}return t},Ki.set=function(e,t){return js(this),this.i=null,Vs(this,e=zs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ki.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ki.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var qs=qn((function e(t,n){Bn(this,e),this.h=t,this.g=n}));function Hs(e){this.l=e||Ws,$i.PerformanceNavigationTiming?e=0<(e=$i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!($i.g&&$i.g.Ea&&$i.g.Ea()&&$i.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ks,Ws=10;function Gs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qs(e){return e.h?1:e.g?e.g.size:0}function $s(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xs(e,t){e.g?e.g.add(t):e.h=t}function Ys(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Js(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Vn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return fa(e.i)}function Zs(){}function eu(){this.g=new Zs}function tu(e,t,n){var r=n||"";try{ms(e,(function(e,n){var i=e;Ji(e)&&(i=ho(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(eD){throw t.push(r+"type="+encodeURIComponent("_badmap")),eD}}function nu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ru(e){this.l=e.$b||null,this.j=e.ib||!1}function iu(e,t){co.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=au,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hs.prototype.cancel=function(){if(this.i=Js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Vn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Zs.prototype.stringify=function(e){return $i.JSON.stringify(e,void 0)},Zs.prototype.parse=function(e){return $i.JSON.parse(e,void 0)},aa(ru,Wo),ru.prototype.g=function(){return new iu(this.l,this.j)},ru.prototype.i=(Ks={},function(){return Ks}),aa(iu,co);var au=0;function ou(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function su(e){e.readyState=4,e.l=null,e.j=null,e.A=null,uu(e)}function uu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ki=iu.prototype).open=function(e,t){if(this.readyState!=au)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,uu(this)},Ki.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||$i).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ki.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,su(this)),this.readyState=au},Ki.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof $i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ou(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ki.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?su(this):uu(this),3==this.readyState&&ou(this)}},Ki.Ua=function(e){this.g&&(this.response=this.responseText=e,su(this))},Ki.Ta=function(e){this.g&&(this.response=e,su(this))},Ki.ha=function(){this.g&&su(this)},Ki.setRequestHeader=function(e,t){this.v.append(e,t)},Ki.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ki.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cu=$i.JSON.parse;function lu(e){co.call(this),this.headers=new ys,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fu,this.K=this.L=!1}aa(lu,co);var fu="",hu=/^https?$/i,du=["POST","PUT"];function pu(e){return"content-type"==e.toLowerCase()}function vu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,mu(e),gu(e)}function mu(e){e.D||(e.D=!0,lo(e,"complete"),lo(e,"error"))}function yu(e){if(e.h&&"undefined"!=typeof Qi&&(!e.C[1]||4!=bu(e)||2!=e.ba()))if(e.v&&4==bu(e))So(e.Fa,0,e);else if(lo(e,"readystatechange"),4==bu(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(bs)[1]||null;if(!a&&$i.self&&$i.self.location){var o=$i.self.location.protocol;a=o.substr(0,o.length-1)}i=!hu.test(a?a.toLowerCase():"")}t=i}if(t)lo(e,"complete"),lo(e,"success");else{e.m=6;try{var s=2<bu(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",mu(e)}}finally{gu(e)}}}function gu(e,t){if(e.g){ku(e);var n=e.g,r=e.C[0]?Xi:null;e.g=null,e.C=null,t||lo(e,"ready");try{n.onreadystatechange=r}catch(eD){}}}function ku(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&($i.clearTimeout(e.A),e.A=null)}function bu(e){return e.g?e.g.readyState:0}function wu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function _u(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ka(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ts(e,t,n))}function xu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Eu(e){this.za=0,this.l=[],this.h=new Po,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xu("baseRetryDelayMs",5e3,e),this.$a=xu("retryDelaySeedMs",1e4,e),this.Ya=xu("forwardChannelMaxRetries",2,e),this.ra=xu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Hs(e&&e.concurrentRequestLimit),this.Ca=new eu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Iu(e){if(Tu(e),3==e.G){var t=e.V++,n=_s(e.F);Ts(n,"SID",e.J),Ts(n,"RID",t),Ts(n,"TYPE","terminate"),Ou(e,n),(t=new es(e,e.h,t,void 0)).K=2,t.v=Cs(_s(n)),n=!1,$i.navigator&&$i.navigator.sendBeacon&&(n=$i.navigator.sendBeacon(t.v.toString(),"")),!n&&$i.Image&&((new Image).src=t.v,n=!0),n||(t.g=qu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ls(t)}Bu(e)}function Su(e){e.g&&(Lu(e),e.g.cancel(),e.g=null)}function Tu(e){Su(e),e.u&&($i.clearTimeout(e.u),e.u=null),Fu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&$i.clearTimeout(e.m),e.m=null)}function Cu(e,t){e.l.push(new qs(e.Za++,t)),3==e.G&&Nu(e)}function Nu(e){Gs(e.i)||e.m||(e.m=!0,bo(e.Ha,e),e.C=0)}function Au(e,t){var n;n=t?t.m:e.V++;var r=_s(e.F);Ts(r,"SID",e.J),Ts(r,"RID",n),Ts(r,"AID",e.U),Ou(e,r),e.o&&e.s&&_u(r,e.o,e.s),n=new es(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Du(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Xs(e.i,n),as(n,r,t)}function Ou(e,t){e.j&&ms({},(function(e,n){Ts(t,n,e)}))}function Du(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ra(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{tu(l,o,"req"+c+"_")}catch(yc){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Pu(e){e.g||e.u||(e.Y=1,bo(e.Ga,e),e.A=0)}function Ru(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=qo(ra(e.Ga,e),Uu(e,e.A)),e.A++,!0)}function Lu(e){null!=e.B&&($i.clearTimeout(e.B),e.B=null)}function Mu(e){e.g=new es(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=_s(e.oa);Ts(t,"RID","rpc"),Ts(t,"SID",e.J),Ts(t,"CI",e.N?"0":"1"),Ts(t,"AID",e.U),Ou(e,t),Ts(t,"TYPE","xmlhttp"),e.o&&e.s&&_u(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Cs(_s(t)),n.s=null,n.U=!0,os(n,e)}function Fu(e){null!=e.v&&($i.clearTimeout(e.v),e.v=null)}function ju(e,t){var n=null;if(e.g==t){Fu(e),Lu(e),e.g=null;var r=2}else{if(!$s(e.i,t))return;n=t.D,Ys(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;lo(r=Fo(),new zo(r,n,t,i)),Nu(e)}else Pu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Qs(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=qo(ra(e.Ha,e,t),Uu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ru(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vu(e,5);break;case 4:Vu(e,10);break;case 3:Vu(e,6);break;default:Vu(e,2)}}function Uu(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Vu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ra(e.jb,e);n||(n=new ws("//www.google.com/images/cleardot.gif"),$i.location&&"http"==$i.location.protocol||xs(n,"https"),Cs(n)),function(e,t){var n=new Po;if($i.Image){var r=new Image;r.onload=ia(nu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ia(nu,n,r,"TestLoadImage: error",!1,t),r.onabort=ia(nu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ia(nu,n,r,"TestLoadImage: timeout",!1,t),$i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bo(2);e.G=0,e.j&&e.j.va(t),Bu(e),Tu(e)}function Bu(e){e.G=0,e.I=-1,e.j&&(0==Js(e.i).length&&0==e.l.length||(e.i.i.length=0,fa(e.l),e.l.length=0),e.j.ua())}function zu(e,t,n){var r=function(e){return e instanceof ws?_s(e):new ws(e,void 0)}(n);if(""!=r.i)t&&Es(r,t+"."+r.i),Is(r,r.m);else{var i=$i.location;r=function(e,t,n,r){var i=new ws(null,void 0);return e&&xs(i,e),t&&Es(i,t),n&&Is(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ka(e.aa,(function(e,t){Ts(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ts(r,t,n),Ts(r,"VER",e.ma),Ou(e,r),r}function qu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new lu(new ru({ib:!0})):new lu(e.qa)).L=e.H,t}function Hu(){}function Ku(){if(Sa&&!(10<=Number(Ua)))throw Error("Environmental error: no available transport.")}function Wu(e,t){co.call(this),this.g=new Eu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ha(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ha(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $u(this)}function Gu(e){Yo.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qu(){Jo.call(this),this.status=1}function $u(e){this.g=e}(Ki=lu.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$o.g(),this.C=this.u?Go(this.u):Go($o),this.g.onreadystatechange=ra(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void vu(this,a)}e=n||"";var i=new ys(this.headers);r&&ms(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pu,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=$i.FormData&&e instanceof $i.FormData,!(0<=ua(du,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ku(this),0<this.B&&((this.K=function(e){return Sa&&Fa()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ra(this.pa,this)):this.A=So(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){vu(this,a)}},Ki.pa=function(){"undefined"!=typeof Qi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lo(this,"timeout"),this.abort(8))},Ki.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,lo(this,"complete"),lo(this,"abort"),gu(this))},Ki.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gu(this,!0)),lu.Z.M.call(this)},Ki.Fa=function(){this.s||(this.F||this.v||this.l?yu(this):this.cb())},Ki.cb=function(){yu(this)},Ki.ba=function(){try{return 2<bu(this)?this.g.status:-1}catch(Ks){return-1}},Ki.ga=function(){try{return this.g?this.g.responseText:""}catch(Ks){return""}},Ki.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cu(t)}},Ki.Da=function(){return this.m},Ki.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ki=Eu.prototype).ma=8,Ki.G=1,Ki.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ki.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new es(this,this.h,e,void 0),n=this.s;if(this.P&&(n?_a(n=ba(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Du(this,t,r),Ts(i=_s(this.F),"RID",e),Ts(i,"CVER",22),this.D&&Ts(i,"X-HTTP-Session-Id",this.D),Ou(this,i),this.o&&n&&_u(i,this.o,n),Xs(this.i,t),this.Ra&&Ts(i,"TYPE","init"),this.ja?(Ts(i,"$req",r),Ts(i,"SID","null"),t.$=!0,as(t,i,null)):as(t,i,r),this.G=2}}else 3==this.G&&(e?Au(this,e):0==this.l.length||Gs(this.i)||Au(this))},Ki.Ga=function(){if(this.u=null,Mu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=qo(ra(this.bb,this),e)}},Ki.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bo(10),Su(this),Mu(this))},Ki.ab=function(){null!=this.v&&(this.v=null,Su(this),Ru(this),Bo(19))},Ki.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Bo(2)):(this.h.info("Failed to ping google.com"),Bo(1))},(Ki=Hu.prototype).xa=function(){},Ki.wa=function(){},Ki.va=function(){},Ki.ua=function(){},Ki.Oa=function(){},Ku.prototype.g=function(e,t){return new Wu(e,t)},aa(Wu,co),Wu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),bo(ra(e.hb,e,t))),Bo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=zu(e,null,e.W),Nu(e)},Wu.prototype.close=function(){Iu(this.g)},Wu.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Cu(this.g,t)}else this.v?((t={}).__data__=ho(e),Cu(this.g,t)):Cu(this.g,e)},Wu.prototype.M=function(){this.g.j=null,delete this.j,Iu(this.g),delete this.g,Wu.Z.M.call(this)},aa(Gu,Yo),aa(Qu,Jo),aa($u,Hu),$u.prototype.xa=function(){lo(this.g,"a")},$u.prototype.wa=function(e){lo(this.g,new Gu(e))},$u.prototype.va=function(e){lo(this.g,new Qu(e))},$u.prototype.ua=function(){lo(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,Wu.prototype.send=Wu.prototype.u,Wu.prototype.open=Wu.prototype.m,Wu.prototype.close=Wu.prototype.close,Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Ko.COMPLETE="complete",Qo.EventType=Xo,Xo.OPEN="a",Xo.CLOSE="b",Xo.ERROR="c",Xo.MESSAGE="d",co.prototype.listen=co.prototype.N,lu.prototype.listenOnce=lu.prototype.O,lu.prototype.getLastError=lu.prototype.La,lu.prototype.getLastErrorCode=lu.prototype.Da,lu.prototype.getStatus=lu.prototype.ba,lu.prototype.getResponseJson=lu.prototype.Qa,lu.prototype.getResponseText=lu.prototype.ga,lu.prototype.send=lu.prototype.ea;var Xu=Gi.createWebChannelTransport=function(){return new Ku},Yu=Gi.getStatEventTarget=function(){return Fo()},Ju=Gi.ErrorCode=Ho,Zu=Gi.EventType=Ko,ec=Gi.Event=Lo,tc=Gi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nc=Gi.FetchXmlHttpFactory=ru,rc=Gi.WebChannel=Qo,ic=Gi.XhrIo=lu,ac="@firebase/firestore",oc=function(){function e(t){Bn(this,e),this.uid=t}return qn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();oc.UNAUTHENTICATED=new oc(null),oc.GOOGLE_CREDENTIALS=new oc("google-credentials-uid"),oc.FIRST_PARTY=new oc("first-party-uid"),oc.MOCK_USER=new oc("mock-user");var sc="9.8.3",uc=new jr("@firebase/firestore");function cc(){return uc.logLevel}function lc(e){if(uc.logLevel<=Or.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dc);uc.debug.apply(uc,["Firestore (".concat(sc,"): ").concat(e)].concat(Un(i)))}}function fc(e){if(uc.logLevel<=Or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dc);uc.error.apply(uc,["Firestore (".concat(sc,"): ").concat(e)].concat(Un(i)))}}function hc(e){if(uc.logLevel<=Or.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dc);uc.warn.apply(uc,["Firestore (".concat(sc,"): ").concat(e)].concat(Un(i)))}}function dc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sc,") INTERNAL ASSERTION FAILED: ")+e;throw fc(t),new Error(t)}function vc(e,t){e||pc()}function mc(e,t){return e}var yc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gc=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return qn(n)}(dr),kc=qn((function e(){var t=this;Bn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bc=qn((function e(t,n){Bn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),wc=function(){function e(){Bn(this,e)}return qn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(oc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_c=function(){function e(t){Bn(this,e),this.token=t,this.changeListener=null}return qn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),xc=function(){function e(t){Bn(this,e),this.t=t,this.currentUser=oc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return qn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new kc;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new kc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=o;e.enqueueRetryable(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){lc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(lc("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kc)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(lc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(vc("string"==typeof n.accessToken),new bc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return vc(null===e||"string"==typeof e),new oc(e)}}]),e}(),Ec=qn((function e(t,n,r){Bn(this,e),this.type="FirstParty",this.user=oc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ic=function(){function e(t,n,r){Bn(this,e),this.h=t,this.l=n,this.m=r}return qn(e,[{key:"getToken",value:function(){return Promise.resolve(new Ec(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(oc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Sc=qn((function e(t){Bn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Tc=function(){function e(t){Bn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return qn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&lc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,lc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){lc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):lc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(vc("string"==typeof t.token),e.p=t.token,new Sc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Cc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Nc=function(){function e(){Bn(this,e)}return qn(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Cc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ac(e,t){return e<t?-1:e>t?1:0}function Oc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Dc(e){return e+"\0"}var Pc=function(){function e(t,n){if(Bn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new gc(yc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gc(yc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new gc(yc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gc(yc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return qn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ac(this.nanoseconds,e.nanoseconds):Ac(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Rc=function(){function e(t){Bn(this,e),this.timestamp=t}return qn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Pc(0,0))}},{key:"max",value:function(){return new e(new Pc(253402300799,999999999))}}]),e}(),Lc=function(){function e(t,n,r){Bn(this,e),void 0===n?n=0:n>t.length&&pc(),void 0===r?r=t.length-n:r>t.length-n&&pc(),this.segments=t,this.offset=n,this.len=r}return qn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mc=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new gc(yc.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Un(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lc),Fc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jc=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new gc(yc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new gc(yc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new gc(yc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new gc(yc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lc),Uc=function(){function e(t){Bn(this,e),this.path=t}return qn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Mc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mc.fromString(t))}},{key:"fromName",value:function(t){return new e(Mc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Mc.emptyPath())}},{key:"comparator",value:function(e,t){return Mc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mc(t.slice()))}}]),e}(),Vc=qn((function e(t,n,r,i){Bn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Bc(e){return e.fields.find((function(e){return 2===e.kind}))}function zc(e){return e.fields.filter((function(e){return 2!==e.kind}))}Vc.UNKNOWN_ID=-1;var qc=qn((function e(t,n){Bn(this,e),this.fieldPath=t,this.kind=n})),Hc=function(){function e(t,n){Bn(this,e),this.sequenceNumber=t,this.offset=n}return qn(e,null,[{key:"empty",value:function(){return new e(0,Gc.min())}}]),e}();function Kc(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rc.fromTimestamp(1e9===r?new Pc(n+1,0):new Pc(n,r));return new Gc(i,Uc.empty(),t)}function Wc(e){return new Gc(e.readTime,e.key,-1)}var Gc=function(){function e(t,n,r){Bn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return qn(e,null,[{key:"min",value:function(){return new e(Rc.min(),Uc.empty(),-1)}},{key:"max",value:function(){return new e(Rc.max(),Uc.empty(),-1)}}]),e}();function Qc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Uc.comparator(e.documentKey,t.documentKey))?n:Ac(e.largestBatchId,t.largestBatchId)}var $c="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xc=function(){function e(){Bn(this,e),this.onCommittedListeners=[]}return qn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Yc(e){return Jc.apply(this,arguments)}function Jc(){return Jc=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===yc.FAILED_PRECONDITION&&t.message===$c){e.next=2;break}throw t;case 2:lc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}var Zc=function(){function e(t){var n=this;Bn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return qn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&pc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Vn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),el=function(){function e(t,n){var r=this;Bn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new kc,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new rl(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=ul(e.target.error);r.T.reject(new rl(t,n))}}return qn(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(lc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new al(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new rl(n,t)}}}]),e}(),tl=function(){function e(t,n,r){Bn(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(or())&&fc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return qn(e,[{key:"k",value:function(){var e=s(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return lc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new rl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new gc(yc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new gc(yc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new rl(t,n))},i.onupgradeneeded=function(e){lc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){lc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=s(a().mark((function e(t,n,r,i){var o,s,u,c,l=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="readonly"===n,s=0;case 2:return++s,e.prev=3,e.delegateYield(a().mark((function e(){var n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=el.open(l.db,t,o?"readonly":"readwrite",r),s=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Zc.reject(e)})).toPromise(),s.catch((function(){})),e.next=7,n.A;case 7:return e.t0=s,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),c="FirebaseError"!==e.t1.name&&s<3,lc("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return lc("SimpleDb","Removing database:",e),ol(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!hr())return!1;if(e.S())return!0;var t=or(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Login",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),nl=function(){function e(t){Bn(this,e),this.$=t,this.B=!1,this.L=null}return qn(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return ol(this.$.delete())}}]),e}(),rl=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,yc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return qn(n)}(gc);function il(e){return"IndexedDbTransactionError"===e.name}var al=function(){function e(t){Bn(this,e),this.store=t}return qn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(lc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(lc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ol(n)}},{key:"add",value:function(e){return lc("SimpleDb","ADD",this.store.name,e,e),ol(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ol(this.store.get(e)).next((function(n){return void 0===n&&(n=null),lc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return lc("SimpleDb","DELETE",this.store.name,e),ol(this.store.delete(e))}},{key:"count",value:function(){return lc("SimpleDb","COUNT",this.store.name),ol(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Zc((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Zc((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){lc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Zc((function(n,r){t.onerror=function(e){var t=ul(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Zc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new nl(i),o=t(i.primaryKey,i.value,a);if(o instanceof Zc){var s=o.catch((function(e){return a.done(),Zc.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Zc.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ol(e){return new Zc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ul(e.target.error);n(t)}}))}var sl=!1;function ul(e){var t=tl.v(or());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new gc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sl||(sl=!0,setTimeout((function(){throw r}),0)),r}}return e}var cl=function(){function e(t,n){Bn(this,e),this.asyncQueue=t,this.X=n,this.task=null}return qn(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;lc("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=lc,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!il(e.t4)){e.next=17;break}lc("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Yc(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),ll=function(){function e(t,n){Bn(this,e),this.localStore=t,this.persistence=n}return qn(e,[{key:"tt",value:function(){var e=s(a().mark((function e(){var t,n=this,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Zc.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return lc("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return lc("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Wc(t);Qc(r,n)>0&&(n=r)})),new Gc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),fl=function(){function e(t,n){var r=this;Bn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return qn(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function hl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}fl.ot=-1;var vl=function(){function e(t,n){Bn(this,e),this.comparator=t,this.root=n||yl.EMPTY}return qn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ml(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ml(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ml(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ml(this.root,e,this.comparator,!0)}}]),e}(),ml=function(){function e(t,n,r,i){Bn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return qn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),yl=function(){function e(t,n,r,i,a){Bn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return qn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw pc();if(this.right.isRed())throw pc();var e=this.left.check();if(e!==this.right.check())throw pc();return e+(this.isRed()?0:1)}}]),e}();yl.EMPTY=null,yl.RED=!0,yl.BLACK=!1,yl.EMPTY=new(function(){function e(){Bn(this,e),this.size=0}return qn(e,[{key:"key",get:function(){throw pc()}},{key:"value",get:function(){throw pc()}},{key:"color",get:function(){throw pc()}},{key:"left",get:function(){throw pc()}},{key:"right",get:function(){throw pc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new yl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var gl=function(){function e(t){Bn(this,e),this.comparator=t,this.data=new vl(this.comparator)}return qn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new kl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new kl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),kl=function(){function e(t){Bn(this,e),this.iter=t}return qn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function bl(e){return e.hasNext()?e.getNext():void 0}var wl=function(){function e(t){Bn(this,e),this.fields=t,t.sort(jc.comparator)}return qn(e,[{key:"unionWith",value:function(t){var n,r=new gl(jc.comparator),i=Vn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Vn(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Vn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Oc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var _l=function(e){function t(e){Bn(this,t),this.binaryString=e}return qn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ac(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_l.EMPTY_BYTE_STRING=new _l("");var xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function El(e){if(vc(!!e),"string"==typeof e){var t=0,n=xl.exec(e);if(vc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Il(e.seconds),nanos:Il(e.nanos)}}function Il(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sl(e){return"string"==typeof e?_l.fromBase64String(e):_l.fromUint8Array(e)}function Tl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cl(e){var t=e.mapValue.fields.__previous_value__;return Tl(t)?Cl(t):t}function Nl(e){var t=El(e.mapValue.fields.__local_write_time__.timestampValue);return new Pc(t.seconds,t.nanos)}var Al=qn((function e(t,n,r,i,a,o,s,u){Bn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Ol=function(){function e(t,n){Bn(this,e),this.projectId=t,this.database=n||"(default)"}return qn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Dl(e){return null==e}function Pl(e){return 0===e&&1/e==-1/0}function Rl(e){return"number"==typeof e&&Number.isInteger(e)&&!Pl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ml={nullValue:"NULL_VALUE"};function Fl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tl(e)?4:Yl(e)?9007199254740991:10:pc()}function jl(e,t){if(e===t)return!0;var n=Fl(e);if(n!==Fl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nl(e).isEqual(Nl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=El(e.timestampValue),r=El(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sl(e.bytesValue).isEqual(Sl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Il(e.geoPointValue.latitude)===Il(t.geoPointValue.latitude)&&Il(e.geoPointValue.longitude)===Il(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Il(e.integerValue)===Il(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Il(e.doubleValue),r=Il(t.doubleValue);return n===r?Pl(n)===Pl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Oc(e.arrayValue.values||[],t.arrayValue.values||[],jl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hl(n)!==hl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jl(n[i],r[i])))return!1;return!0}(e,t);default:return pc()}}function Ul(e,t){return void 0!==(e.values||[]).find((function(e){return jl(e,t)}))}function Vl(e,t){if(e===t)return 0;var n=Fl(e),r=Fl(t);if(n!==r)return Ac(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ac(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Il(e.integerValue||e.doubleValue),r=Il(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bl(e.timestampValue,t.timestampValue);case 4:return Bl(Nl(e),Nl(t));case 5:return Ac(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Sl(e),r=Sl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ac(n[i],r[i]);if(0!==a)return a}return Ac(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ac(Il(e.latitude),Il(t.latitude));return 0!==n?n:Ac(Il(e.longitude),Il(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vl(n[i],r[i]);if(a)return a}return Ac(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ll.mapValue&&t===Ll.mapValue)return 0;if(e===Ll.mapValue)return 1;if(t===Ll.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Ac(r[o],a[o]);if(0!==s)return s;var u=Vl(n[r[o]],i[a[o]]);if(0!==u)return u}return Ac(r.length,a.length)}(e.mapValue,t.mapValue);default:throw pc()}}function Bl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ac(e,t);var n=El(e),r=El(t),i=Ac(n.seconds,r.seconds);return 0!==i?i:Ac(n.nanos,r.nanos)}function zl(e){return ql(e)}function ql(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=El(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Uc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Vn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ql(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Vn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ql(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):pc();var t,n}function Hl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Kl(e){return!!e&&"integerValue"in e}function Wl(e){return!!e&&"arrayValue"in e}function Gl(e){return!!e&&"nullValue"in e}function Ql(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $l(e){return!!e&&"mapValue"in e}function Xl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return dl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Yl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jl(e){return"nullValue"in e?Ml:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Hl(Ol.empty(),Uc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:pc()}function Zl(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Hl(Ol.empty(),Uc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ll:pc()}function ef(e,t){var n=Vl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function tf(e,t){var n=Vl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var nf=function(){function e(t){Bn(this,e),this.value=t}return qn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$l(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(t)}},{key:"setAll",value:function(e){var t=this,n=jc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$l(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return jl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$l(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){dl(t,(function(t,n){return e[t]=n}));var r,i=Vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function rf(e){var t=[];return dl(e.fields,(function(e,n){var r=new jc([e]);if($l(n)){var i=rf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Vn(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new wl(t)}var af=function(){function e(t,n,r,i,a,o){Bn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return qn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=nf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=nf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Rc.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Rc.min(),Rc.min(),nf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Rc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Rc.min(),nf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Rc.min(),nf.empty(),2)}}]),e}(),of=qn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Bn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function sf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new of(e,t,n,r,i,a,o)}function uf(e){var t=mc(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+zl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Dl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return zl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return zl(e)})).join(",")),t.ut=n}return t.ut}function cf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!If(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!jl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tf(e.startAt,t.startAt)&&Tf(e.endAt,t.endAt)}function lf(e){return Uc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ff(e,t){return e.filters.filter((function(e){return e instanceof pf&&e.field.isEqual(t)}))}function hf(e,t,n){var r,i=Ml,a=!0,o=Vn(ff(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Ml,c=!0;switch(s.op){case"<":case"<=":u=Jl(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Ml}ef({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ef({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function df(e,t,n){var r,i=Ll,a=!0,o=Vn(ff(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Ll,c=!0;switch(s.op){case">=":case">":u=Zl(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Ll}tf({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var pf=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return qn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Vl(t,this.value)):null!==t&&Fl(this.value)===Fl(t)&&this.at(Vl(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pc()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new vf(e,t,r):"array-contains"===t?new kf(e,r):"in"===t?new bf(e,r):"not-in"===t?new wf(e,r):"array-contains-any"===t?new _f(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new mf(e,n):new yf(e,n)}}]),n}(function(){return qn((function e(){Bn(this,e)}))}()),vf=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this,e,r,i)).key=Uc.fromName(i.referenceValue),a}return qn(n,[{key:"matches",value:function(e){var t=Uc.comparator(e.key,this.key);return this.at(t)}}]),n}(pf),mf=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e,"in",r)).keys=gf("in",r),i}return qn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pf),yf=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e,"not-in",r)).keys=gf("not-in",r),i}return qn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pf);function gf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Uc.fromName(e.referenceValue)}))}var kf=function(e){Kn(n,e);var t=$n(n);function n(e,r){return Bn(this,n),t.call(this,e,"array-contains",r)}return qn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wl(t)&&Ul(t.arrayValue,this.value)}}]),n}(pf),bf=function(e){Kn(n,e);var t=$n(n);function n(e,r){return Bn(this,n),t.call(this,e,"in",r)}return qn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ul(this.value.arrayValue,t)}}]),n}(pf),wf=function(e){Kn(n,e);var t=$n(n);function n(e,r){return Bn(this,n),t.call(this,e,"not-in",r)}return qn(n,[{key:"matches",value:function(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ul(this.value.arrayValue,t)}}]),n}(pf),_f=function(e){Kn(n,e);var t=$n(n);function n(e,r){return Bn(this,n),t.call(this,e,"array-contains-any",r)}return qn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ul(t.value.arrayValue,e)}))}}]),n}(pf),xf=qn((function e(t,n){Bn(this,e),this.position=t,this.inclusive=n})),Ef=qn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Bn(this,e),this.field=t,this.dir=n}));function If(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Sf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Uc.comparator(Uc.fromName(o.referenceValue),n.key):Vl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Tf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jl(e.position[n],t.position[n]))return!1;return!0}var Cf=qn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Bn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Nf(e,t,n,r,i,a,o,s){return new Cf(e,t,n,r,i,a,o,s)}function Af(e){return new Cf(e)}function Of(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Df(e){var t,n=Vn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Pf(e){return null!==e.collectionGroup}function Rf(e){var t=mc(e);if(null===t.lt){t.lt=[];var n=Df(t),r=Of(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Ef(n)),t.lt.push(new Ef(jc.keyField(),"asc"));else{var i,a=!1,o=Vn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Ef(jc.keyField(),u))}}}return t.lt}function Lf(e){var t=mc(e);if(!t.ft)if("F"===t.limitType)t.ft=sf(t.path,t.collectionGroup,Rf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Vn(Rf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ef(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new xf(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new xf(t.startAt.position,t.startAt.inclusive):null;t.ft=sf(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function Mf(e,t,n){return new Cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ff(e,t){return cf(Lf(e),Lf(t))&&e.limitType===t.limitType}function jf(e){return"".concat(uf(Lf(e)),"|lt:").concat(e.limitType)}function Uf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(zl(t.value));var t})).join(", "),"]")),Dl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return zl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return zl(e)})).join(",")),"Target(".concat(t,")")}(Lf(e)),"; limitType=").concat(e.limitType,")")}function Vf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Uc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Vn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Vn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Sf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Sf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rf(e),t))}(e,t)}function Bf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zf(e){return function(t,n){var r,i=!1,a=Vn(Rf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=qf(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function qf(e,t,n){var r=e.field.isKeyField()?Uc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vl(r,i):pc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pc()}}function Hf(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(t)?"-0":t}}function Kf(e){return{integerValue:""+e}}function Wf(e,t){return Rl(t)?Kf(t):Hf(e,t)}var Gf=qn((function e(){Bn(this,e),this._=void 0}));function Qf(e,t,n){return e instanceof Yf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jf?Zf(e,t):e instanceof eh?th(e,t):function(e,t){var n=Xf(e,t),r=rh(n)+rh(e._t);return Kl(n)&&Kl(e._t)?Kf(r):Hf(e.wt,r)}(e,t)}function $f(e,t,n){return e instanceof Jf?Zf(e,t):e instanceof eh?th(e,t):n}function Xf(e,t){return e instanceof nh?Kl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Yf=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n)}(Gf),Jf=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this)).elements=e,r}return qn(n)}(Gf);function Zf(e,t){var n,r=ih(t),i=Vn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return jl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var eh=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this)).elements=e,r}return qn(n)}(Gf);function th(e,t){var n,r=ih(t),i=Vn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!jl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nh=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this)).wt=e,i._t=r,i}return qn(n)}(Gf);function rh(e){return Il(e.integerValue||e.doubleValue)}function ih(e){return Wl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ah=qn((function e(t,n){Bn(this,e),this.field=t,this.transform=n}));var oh=qn((function e(t,n){Bn(this,e),this.version=t,this.transformResults=n})),sh=function(){function e(t,n){Bn(this,e),this.updateTime=t,this.exists=n}return qn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function uh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ch=qn((function e(){Bn(this,e)}));function lh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _h(e.key,sh.none()):new vh(e.key,e.data,sh.none());var n,r=e.data,i=nf.empty(),a=new gl(jc.comparator),o=Vn(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new mh(e.key,i,new wl(a.toArray()),sh.none())}function fh(e,t,n){e instanceof vh?function(e,t,n){var r=e.value.clone(),i=gh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mh?function(e,t,n){if(uh(e.precondition,t)){var r=gh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hh(e,t,n,r){return e instanceof vh?function(e,t,n,r){if(!uh(e.precondition,t))return n;var i=e.value.clone(),a=kh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof mh?function(e,t,n,r){if(!uh(e.precondition,t))return n;var i=kh(e.fieldTransforms,r,t),a=t.data;return a.setAll(yh(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return uh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dh(e,t){var n,r=null,i=Vn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Xf(a.transform,o||null);null!=s&&(null===r&&(r=nf.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ph(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Oc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jf&&t instanceof Jf||e instanceof eh&&t instanceof eh?Oc(e.elements,t.elements,jl):e instanceof nh&&t instanceof nh?jl(e._t,t._t):e instanceof Yf&&t instanceof Yf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var vh=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Bn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return qn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ch),mh=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Bn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return qn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ch);function yh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gh(e,t,n){var r=new Map;vc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,$f(o,s,n[i]))}return r}function kh(e,t,n){var r,i=new Map,a=Vn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Qf(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var bh,wh,_h=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return qn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ch),xh=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return qn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ch),Eh=qn((function e(t){Bn(this,e),this.count=t}));function Ih(e){switch(e){default:return pc();case yc.CANCELLED:case yc.UNKNOWN:case yc.DEADLINE_EXCEEDED:case yc.RESOURCE_EXHAUSTED:case yc.INTERNAL:case yc.UNAVAILABLE:case yc.UNAUTHENTICATED:return!1;case yc.INVALID_ARGUMENT:case yc.NOT_FOUND:case yc.ALREADY_EXISTS:case yc.PERMISSION_DENIED:case yc.FAILED_PRECONDITION:case yc.ABORTED:case yc.OUT_OF_RANGE:case yc.UNIMPLEMENTED:case yc.DATA_LOSS:return!0}}function Sh(e){if(void 0===e)return fc("GRPC error has no .code"),yc.UNKNOWN;switch(e){case bh.OK:return yc.OK;case bh.CANCELLED:return yc.CANCELLED;case bh.UNKNOWN:return yc.UNKNOWN;case bh.DEADLINE_EXCEEDED:return yc.DEADLINE_EXCEEDED;case bh.RESOURCE_EXHAUSTED:return yc.RESOURCE_EXHAUSTED;case bh.INTERNAL:return yc.INTERNAL;case bh.UNAVAILABLE:return yc.UNAVAILABLE;case bh.UNAUTHENTICATED:return yc.UNAUTHENTICATED;case bh.INVALID_ARGUMENT:return yc.INVALID_ARGUMENT;case bh.NOT_FOUND:return yc.NOT_FOUND;case bh.ALREADY_EXISTS:return yc.ALREADY_EXISTS;case bh.PERMISSION_DENIED:return yc.PERMISSION_DENIED;case bh.FAILED_PRECONDITION:return yc.FAILED_PRECONDITION;case bh.ABORTED:return yc.ABORTED;case bh.OUT_OF_RANGE:return yc.OUT_OF_RANGE;case bh.UNIMPLEMENTED:return yc.UNIMPLEMENTED;case bh.DATA_LOSS:return yc.DATA_LOSS;default:return pc()}}(wh=bh||(bh={}))[wh.OK=0]="OK",wh[wh.CANCELLED=1]="CANCELLED",wh[wh.UNKNOWN=2]="UNKNOWN",wh[wh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wh[wh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wh[wh.NOT_FOUND=5]="NOT_FOUND",wh[wh.ALREADY_EXISTS=6]="ALREADY_EXISTS",wh[wh.PERMISSION_DENIED=7]="PERMISSION_DENIED",wh[wh.UNAUTHENTICATED=16]="UNAUTHENTICATED",wh[wh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wh[wh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wh[wh.ABORTED=10]="ABORTED",wh[wh.OUT_OF_RANGE=11]="OUT_OF_RANGE",wh[wh.UNIMPLEMENTED=12]="UNIMPLEMENTED",wh[wh.INTERNAL=13]="INTERNAL",wh[wh.UNAVAILABLE=14]="UNAVAILABLE",wh[wh.DATA_LOSS=15]="DATA_LOSS";var Th=function(){function e(t,n){Bn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return qn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Vn(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){dl(this.inner,(function(t,n){var r,i=Vn(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return pl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ch=new vl(Uc.comparator);function Nh(){return Ch}var Ah=new vl(Uc.comparator);function Oh(){for(var e=Ah,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Dh(e){var t=Ah;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ph(){return Lh()}function Rh(){return Lh()}function Lh(){return new Th((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Mh=new vl(Uc.comparator),Fh=new gl(Uc.comparator);function jh(){for(var e=Fh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Uh=new gl(Ac);function Vh(){return Uh}var Bh=function(){function e(t,n,r,i,a){Bn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return qn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,zh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Rc.min(),r,Vh(),Nh(),jh())}}]),e}(),zh=function(){function e(t,n,r,i,a){Bn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return qn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(_l.EMPTY_BYTE_STRING,n,jh(),jh(),jh())}}]),e}(),qh=qn((function e(t,n,r,i){Bn(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Hh=qn((function e(t,n){Bn(this,e),this.targetId=t,this.It=n})),Kh=qn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_l.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Bn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Wh=function(){function e(){Bn(this,e),this.Tt=0,this.Et=$h(),this.At=_l.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return qn(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=jh(),t=jh(),n=jh();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pc()}})),new zh(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=$h()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Gh=function(){function e(t){Bn(this,e),this.Mt=t,this.Ft=new Map,this.$t=Nh(),this.Bt=Qh(),this.Lt=new gl(Ac)}return qn(e,[{key:"Ut",value:function(e){var t,n=Vn(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Vn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:pc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(lf(i))if(0===n){var a=new Uc(i.path);this.Kt(t,a,af.newNoDocument(a,Rc.min()))}else vc(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&lf(a.target)){var o=new Uc(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,af.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=jh();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Bh(e,n,this.Lt,this.$t,r);return this.$t=Nh(),this.Bt=Qh(),this.Lt=new gl(Ac),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Wh,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new gl(Ac),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||lc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Wh),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Qh(){return new vl(Uc.comparator)}function $h(){return new vl(Uc.comparator)}var Xh={asc:"ASCENDING",desc:"DESCENDING"},Yh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jh=qn((function e(t,n){Bn(this,e),this.databaseId=t,this.dt=n}));function Zh(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ed(e,t){return e.dt?t.toBase64():t.toUint8Array()}function td(e,t){return Zh(e,t.toTimestamp())}function nd(e){return vc(!!e),Rc.fromTimestamp(function(e){var t=El(e);return new Pc(t.seconds,t.nanos)}(e))}function rd(e,t){return function(e){return new Mc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function id(e){var t=Mc.fromString(e);return vc(Td(t)),t}function ad(e,t){return rd(e.databaseId,t.path)}function od(e,t){var n=id(t);if(n.get(1)!==e.databaseId.projectId)throw new gc(yc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gc(yc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Uc(ld(n))}function sd(e,t){return rd(e.databaseId,t)}function ud(e){var t=id(e);return 4===t.length?Mc.emptyPath():ld(t)}function cd(e){return new Mc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ld(e){return vc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fd(e,t,n){return{name:ad(e,t),fields:n.value.mapValue.fields}}function hd(e,t,n){var r=od(e,t.name),i=nd(t.updateTime),a=new nf({mapValue:{fields:t.fields}}),o=af.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function dd(e,t){return"found"in t?function(e,t){vc(!!t.found),t.found.name,t.found.updateTime;var n=od(e,t.found.name),r=nd(t.found.updateTime),i=new nf({mapValue:{fields:t.found.fields}});return af.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){vc(!!t.missing),vc(!!t.readTime);var n=od(e,t.missing),r=nd(t.readTime);return af.newNoDocument(n,r)}(e,t):pc()}function pd(e,t){var n;if(t instanceof vh)n={update:fd(e,t.key,t.value)};else if(t instanceof _h)n={delete:ad(e,t.key)};else if(t instanceof mh)n={update:fd(e,t.key,t.data),updateMask:Sd(t.fieldMask)};else{if(!(t instanceof xh))return pc();n={verify:ad(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Yf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nh)return{fieldPath:t.field.canonicalString(),increment:n._t};throw pc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:td(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pc()}(e,t.precondition)),n}function vd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sh.updateTime(nd(e.updateTime)):void 0!==e.exists?sh.exists(e.exists):sh.none()}(t.currentDocument):sh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)vc("REQUEST_TIME"===t.setToServerValue),n=new Yf;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Jf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new eh(i)}else"increment"in t?n=new nh(e,t.increment):pc();var a=jc.fromServerFormat(t.fieldPath);return new ah(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=od(e,t.update.name),a=new nf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new wl(t.map((function(e){return jc.fromServerFormat(e)})))}(t.updateMask);return new mh(i,a,o,n,r)}return new vh(i,a,n,r)}if(t.delete){var s=od(e,t.delete);return new _h(s,n)}if(t.verify){var u=od(e,t.verify);return new xh(u,n)}return pc()}function md(e,t){return{documents:[sd(e,t.path)]}}function yd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ql(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NAN"}};if(Gl(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ql(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NAN"}};if(Gl(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(e.field),op:wd(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:_d(e.field),direction:bd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||Dl(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gd(e){var t=ud(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=kd(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ef(xd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Dl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new xf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new xf(n,t)}(n.endAt)),Nf(t,i,s,o,u,"F",c,l)}function kd(e){return e?void 0!==e.unaryFilter?[Id(e)]:void 0!==e.fieldFilter?[Ed(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return kd(e)})).reduce((function(e,t){return e.concat(t)})):pc():[]}function bd(e){return Xh[e]}function wd(e){return Yh[e]}function _d(e){return{fieldPath:e.canonicalString()}}function xd(e){return jc.fromServerFormat(e.fieldPath)}function Ed(e){return pf.create(xd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Id(e){switch(e.unaryFilter.op){case"IS_NAN":var t=xd(e.unaryFilter.field);return pf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=xd(e.unaryFilter.field);return pf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xd(e.unaryFilter.field);return pf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xd(e.unaryFilter.field);return pf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pc()}}function Sd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Td(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Cd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ad(t)),t=Nd(e.get(n),t);return Ad(t)}function Nd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ad(e){return e+"\x01\x01"}function Od(e){var t=e.length;if(vc(t>=2),2===t)return vc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&pc(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:pc()}a=o+2}return new Mc(r)}var Dd=["userId","batchId"];function Pd(e,t){return[e,Cd(t)]}function Rd(e,t,n){return[e,Cd(t),n]}var Ld={},Md=["prefixPath","collectionGroup","readTime","documentId"],Fd=["prefixPath","collectionGroup","documentId"],jd=["collectionGroup","readTime","prefixPath","documentId"],Ud=["canonicalId","targetId"],Vd=["targetId","path"],Bd=["path","targetId"],zd=["collectionId","parent"],qd=["indexId","uid"],Hd=["uid","sequenceNumber"],Kd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Wd=["indexId","uid","orderedDocumentKey"],Gd=["userId","collectionPath","documentId"],Qd=["userId","collectionPath","largestBatchId"],$d=["userId","collectionGroup","largestBatchId"],Xd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Yd=[].concat(Un(Xd),["documentOverlays"]),Jd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zd=Jd,ep=[].concat(Zd,["indexConfiguration","indexState","indexEntries"]),tp=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return qn(n)}(Xc);function np(e,t){var n=mc(e);return tl.N(n.ee,t)}var rp=function(){function e(t,n,r,i){Bn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return qn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Vn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=hh(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Vn(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=hh(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Rh();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=lh(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Rc.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),jh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,(function(e,t){return ph(e,t)}))&&Oc(this.baseMutations,e.baseMutations,(function(e,t){return ph(e,t)}))}}]),e}(),ip=function(){function e(t,n,r,i){Bn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return qn(e,null,[{key:"from",value:function(t,n,r){vc(t.mutations.length===r.length);for(var i=Mh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ap=function(){function e(t,n){Bn(this,e),this.largestBatchId=t,this.mutation=n}return qn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),op=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_l.EMPTY_BYTE_STRING;Bn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return qn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),sp=qn((function e(t){Bn(this,e),this.ne=t}));function up(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:cp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ad(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Zh(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:lp(t.version)};else{if(!t.isUnknownDocument())return pc();r.unknownDocument={path:n.path.toArray(),version:lp(t.version)}}return r}function cp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function lp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fp(e){var t=new Pc(e.seconds,e.nanoseconds);return Rc.fromTimestamp(t)}function hp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return vd(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return vd(e.ne,t)})),s=Pc.fromMillis(t.localWriteTimeMs);return new rp(t.batchId,s,n,o)}function dp(e){var t,n,r=fp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?fp(e.lastLimboFreeSnapshotVersion):Rc.min();return void 0!==e.query.documents?(vc(1===(n=e.query).documents.length),t=Lf(Af(ud(n.documents[0])))):t=function(e){return Lf(gd(e))}(e.query),new op(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_l.fromBase64String(e.resumeToken))}function pp(e,t){var n,r=lp(t.snapshotVersion),i=lp(t.lastLimboFreeSnapshotVersion);n=lf(t.target)?md(e.ne,t.target):yd(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:uf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function vp(e){var t=gd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mf(t,t.limit,"L"):t}function mp(e,t){return new ap(t.largestBatchId,vd(e.ne,t.overlayMutation))}function yp(e,t){var n=t.path.lastSegment();return[e,Cd(t.path.popLast()),n]}function gp(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:lp(r.readTime),documentKey:Cd(r.documentKey.path),largestBatchId:r.largestBatchId}}var kp=function(){function e(){Bn(this,e)}return qn(e,[{key:"getBundleMetadata",value:function(e,t){return bp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:fp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return bp(e).put({bundleId:(n=t).id,createTime:lp(nd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return wp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:vp(t.bundledQuery),readTime:fp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return wp(e).put(function(e){return{name:e.name,readTime:lp(nd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function bp(e){return np(e,"bundles")}function wp(e){return np(e,"namedQueries")}var _p=function(){function e(t,n){Bn(this,e),this.wt=t,this.userId=n}return qn(e,[{key:"getOverlay",value:function(e,t){var n=this;return xp(e).get(yp(this.userId,t)).next((function(e){return e?mp(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ph();return Zc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ap(t,a);i.push(r.ie(e,o))})),Zc.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Cd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(xp(e).W("collectionPathOverlayIndex",i))})),Zc.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ph(),a=Cd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return xp(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Vn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=mp(r.wt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ph(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xp(e).J({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=mp(a.wt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return xp(e).put(function(e,t,n){var r=h(yp(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:pd(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function xp(e){return np(e,"documentOverlays")}var Ep=function(){function e(){Bn(this,e)}return qn(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Il(e.integerValue));else if("doubleValue"in e){var n=Il(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Pl(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Sl(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Yl(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):pc()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Uc.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Ip(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Sp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ip(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ep.ye=new Ep;var Tp=function(){function e(){Bn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return qn(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Vn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Vn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Sp(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Sp(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Cp=function(){function e(t){Bn(this,e),this.Me=t}return qn(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Np=function(){function e(t){Bn(this,e),this.Me=t}return qn(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Ap=function(){function e(){Bn(this,e),this.Me=new Tp,this.Fe=new Cp(this.Me),this.$e=new Np(this.Me)}return qn(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Op=function(){function e(t,n,r,i){Bn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return qn(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Dp(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Pp(e.arrayValue,t.arrayValue))?n:0!==(n=Pp(e.directionalValue,t.directionalValue))?n:Uc.comparator(e.documentKey,t.documentKey)}function Pp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Rp=function(){function e(t){Bn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Vn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return qn(e,[{key:"Ge",value:function(e){var t=Bc(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=zc(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Vn(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Lp=function(){function e(){Bn(this,e),this.ze=new Mp}return qn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Zc.resolve()}},{key:"getCollectionParents",value:function(e,t){return Zc.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Zc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Zc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Zc.resolve(null)}},{key:"getIndexType",value:function(e,t){return Zc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Zc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Zc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Zc.resolve(Gc.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Zc.resolve(Gc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Zc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Zc.resolve()}}]),e}(),Mp=function(){function e(){Bn(this,e),this.index={}}return qn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gl(Mc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new gl(Mc.comparator)).toArray()}}]),e}(),Fp=new Uint8Array(0),jp=function(){function e(t,n){Bn(this,e),this.user=t,this.databaseId=n,this.He=new Mp,this.Je=new Th((function(e){return uf(e)}),(function(e,t){return cf(e,t)})),this.uid=t.uid||""}return qn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:Cd(i)};return Up(e).put(a)}return Zc.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Dc(t),""],!1,!0);return Up(e).K(r).next((function(e){var r,i=Vn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Od(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Bp(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=zp(e);return a.next((function(e){o.put(gp(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Bp(e),r=zp(e),i=Vp(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Vp(e),i=!0,a=new Map;return Zc.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=jh(),o=[];return Zc.forEach(a,(function(i,a){var s;lc("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(uf(t)));var u=function(e,t){var n=Bc(t);if(void 0===n)return null;var r,i=Vn(ff(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Vn(zc(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Vn(ff(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Vn(zc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?hf(e,o.fieldPath,e.startAt):df(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new xf(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Vn(zc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?df(e,o.fieldPath,e.endAt):hf(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new xf(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Zc.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Uc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Zc.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.nn(t[u/c]):Fp,h=s.sn(e,f,n[u%c],r),d=s.rn(e,f,i[u%c],a),p=o.map((function(t){return s.sn(e,f,t,!0)}));l.push.apply(l,Un(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Op(e,Uc.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Op(e,Uc.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Rp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Vn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Zc.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new gl(jc.comparator),r=!1,i=Vn(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=Vn(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new Ap,i=Vn(zc(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Be(a.kind);Ep.ye.re(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Ap;return Ep.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Ap;return Ep.ye.re(Hl(this.databaseId,t),n.Be(function(e){var t=zc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ap);var i,a=0,o=Vn(zc(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Vn(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.cn(t,u.fieldPath)&&Wl(c))r=this.an(r,u,c);else{var h=f.Be(u.kind);Ep.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Un(e),a=[],o=Vn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Vn(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Ap;f.seed(l.Oe()),Ep.ye.re(u,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof pf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Bp(e),i=zp(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Zc.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Hc(t.sequenceNumber,new Gc(fp(t.readTime),new Uc(Od(t.documentKey)),t.largestBatchId)):Hc.empty(),r=e.fields.map((function(e){var t=h(e,2),n=t[0],r=t[1];return new qc(jc.fromServerFormat(n),r)}));return new Vc(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ac(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Bp(e),a=zp(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Zc.forEach(t,(function(t){return a.put(gp(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Zc.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Zc.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Zc.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Zc.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Vp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return Vp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Vp(e),i=new gl(Dp);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Op(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new gl(Dp),r=this.on(t,e);if(null==r)return n;var i=Bc(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Wl(a)){var o,s=Vn(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Op(t.indexId,e.key,this.nn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Op(t.indexId,e.key,Fp,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;lc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=bl(a),u=bl(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=bl(o)):l?(i(s),s=bl(a)):(s=bl(a),u=bl(o))}}(r,i,Dp,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Zc.waitFor(o)}},{key:"ln",value:function(e){var t=1;return zp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Dp(e,t)})).filter((function(e,t,n){return!t||0!==Dp(e,n[t-1])}));var r=[];r.push(e);var i,a=Vn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Dp(o,e),u=Dp(o,t);if(0===s)r[0]=e.Le();else if(s>0&&u<0)r.push(o),r.push(o.Le());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Fp,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Fp,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(qp)}},{key:"getMinOffset",value:function(e,t){var n=this;return Zc.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||pc()}))})).next(qp)}}]),e}();function Up(e){return np(e,"collectionParents")}function Vp(e){return np(e,"indexEntries")}function Bp(e){return np(e,"indexConfiguration")}function zp(e){return np(e,"indexState")}function qp(e){vc(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Qc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gc(t.readTime,t.documentKey,n)}var Hp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kp=function(){function e(t,n,r){Bn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return qn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Wp(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.J({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){vc(1===s)})));var c,l=[],f=Vn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Rd(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Zc.waitFor(a).next((function(){return l}))}function Gp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pc();t=e.noDocument}return JSON.stringify(t).length}Kp.DEFAULT_COLLECTION_PERCENTILE=10,Kp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kp.DEFAULT=new Kp(41943040,Kp.DEFAULT_COLLECTION_PERCENTILE,Kp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kp.DISABLED=new Kp(-1,0,0);var Qp=function(){function e(t,n,r,i){Bn(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return qn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xp(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Yp(e),o=Xp(e);return o.add({}).next((function(s){vc("number"==typeof s);var u,c=new rp(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return pd(e.ne,t)})),i=n.mutations.map((function(t){return pd(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new gl((function(e,t){return Ac(e.canonicalString(),t.canonicalString())})),d=Vn(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Rd(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ld))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=c.keys()})),Zc.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Xp(e).get(t).next((function(e){return e?(vc(e.userId===n.userId),hp(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Zc.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Xp(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(vc(t.batchId>=r),a=hp(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xp(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xp(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return hp(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Pd(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Yp(e).J({range:i},(function(r,i,o){var s=h(r,3),u=s[0],c=s[1],l=s[2],f=Od(c);if(u===n.userId&&t.path.isEqual(f))return Xp(e).get(l).next((function(e){if(!e)throw pc();vc(e.userId===n.userId),a.push(hp(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gl(Ac),i=[];return t.forEach((function(t){var a=Pd(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Yp(e).J({range:o},(function(e,i,a){var o=h(e,3),s=o[0],u=o[1],c=o[2],l=Od(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Zc.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Pd(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new gl(Ac);return Yp(e).J({range:o},(function(e,t,a){var o=h(e,3),u=o[0],c=o[1],l=o[2],f=Od(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Xp(e).get(t).next((function(e){if(null===e)throw pc();vc(e.userId===n.userId),r.push(hp(n.wt,e))})))})),Zc.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Wp(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Zc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Zc.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Yp(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Od(e[1]);i.push(a)}else r.done()})).next((function(){vc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return $p(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return Jp(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return vc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function $p(e,t,n){var r=Pd(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Yp(e).J({range:a,H:!0},(function(e,n,r){var a=h(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Xp(e){return np(e,"mutations")}function Yp(e){return np(e,"documentMutations")}function Jp(e){return np(e,"mutationQueues")}var Zp=function(){function e(t){Bn(this,e),this.En=t}return qn(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),ev=function(){function e(t,n){Bn(this,e),this.referenceDelegate=t,this.wt=n}return qn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new Zp(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Rc.fromTimestamp(new Pc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return tv(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return vc(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return tv(e).J((function(o,s){var u=dp(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Zc.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return tv(e).J((function(e,n){var r=dp(n);t(r)}))}},{key:"bn",value:function(e){return nv(e).get("targetGlobalKey").next((function(e){return vc(null!==e),e}))}},{key:"Pn",value:function(e,t){return nv(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return tv(e).put(pp(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=uf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tv(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=dp(n);cf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=rv(e);return t.forEach((function(t){var o=Cd(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Zc.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=rv(e);return Zc.forEach(t,(function(t){var a=Cd(t.path);return Zc.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=rv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rv(e),i=jh();return r.J({range:n,H:!0},(function(e,t,n){var r=Od(e[1]),a=new Uc(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Cd(t.path),r=IDBKeyRange.bound([n],[Dc(n)],!1,!0),i=0;return rv(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=h(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return tv(e).get(t).next((function(e){return e?dp(e):null}))}}]),e}();function tv(e){return np(e,"targets")}function nv(e){return np(e,"targetGlobal")}function rv(e){return np(e,"targetDocuments")}function iv(e,t){var n=h(e,2),r=n[0],i=n[1],a=h(t,2),o=a[0],s=a[1],u=Ac(r,o);return 0===u?Ac(i,s):u}var av=function(){function e(t){Bn(this,e),this.Sn=t,this.buffer=new gl(iv),this.Dn=0}return qn(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();iv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ov=function(){function e(t,n,r){Bn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return qn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;lc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!il(e.t0)){e.next=12;break}lc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Yc(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),sv=function(){function e(t,n){Bn(this,e),this.On=t,this.params=n}return qn(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Zc.resolve(fl.ot);var r=new av(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(lc("LruGarbageCollector","Garbage collection skipped; disabled"),Zc.resolve(Hp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(lc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Hp):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(lc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),cc()<=Or.DEBUG&&lc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Zc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),uv=function(){function e(t,n){Bn(this,e),this.db=t,this.garbageCollector=function(e,t){return new sv(e,t)}(this,n)}return qn(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return cv(e,n)}},{key:"removeReference",value:function(e,t,n){return cv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return cv(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return Jp(e).Y((function(r){return $p(e,r,t).next((function(e){return e&&(n=!0),Zc.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,s){if(s<=t){var u=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Rc.min()),rv(e).delete([0,Cd(o.path)])}))}));i.push(u)}})).next((function(){return Zc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return cv(e,t)}},{key:"Ln",value:function(e,t){var n,r=rv(e),i=fl.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=h(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==fl.ot&&t(new Uc(Od(n)),i),i=u,n=s):i=fl.ot})).next((function(){i!==fl.ot&&t(new Uc(Od(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function cv(e,t){return rv(e).put(function(e,t){return{targetId:0,path:Cd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var lv=function(){function e(){Bn(this,e),this.changes=new Th((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return qn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,af.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Zc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),fv=function(){function e(t){Bn(this,e),this.wt=t}return qn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return vv(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return vv(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],cp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=af.newInvalidDocument(t);return vv(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(mv(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:af.newInvalidDocument(t)};return vv(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(mv(t))},(function(e,i){r={document:n.Kn(t,i),size:Gp(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Nh();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Nh(),i=new vl(Uc.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,Gp(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Zc.resolve();var r=new gl(gv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(mv(r.first()),mv(r.last())),a=r.getIterator(),o=a.getNext();return vv(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Uc.fromSegments([].concat(Un(t.prefixPath),[t.collectionGroup,t.documentId]));o&&gv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(mv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),cp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vv(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Nh(),i=Vn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Uc.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Nh(),o=yv(t,n),s=yv(t,Gc.max());return vv(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Kn(Uc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new dv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return pv(e).get("remoteDocumentGlobalKey").next((function(e){return vc(!!e),e}))}},{key:"qn",value:function(e,t){return pv(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=hd(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Uc.fromSegments(t.noDocument.path),i=fp(t.noDocument.readTime);n=af.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return pc();var a=Uc.fromSegments(t.unknownDocument.path),o=fp(t.unknownDocument.version);n=af.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Pc(e[0],e[1]);return Rc.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Rc.min()))return n}return af.newInvalidDocument(e)}}]),e}();function hv(e){return new fv(e)}var dv=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Th((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return qn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new gl((function(e,t){return Ac(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=up(t.zn.wt,o);i=i.add(a.path.popLast());var c=Gp(u);r+=c-s.size,n.push(t.zn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=up(t.zn.wt,o.convertToNoDocument(Rc.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Zc.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(lv);function pv(e){return np(e,"remoteDocumentGlobal")}function vv(e){return np(e,"remoteDocumentsV14")}function mv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function yv(e,t){var n=t.documentKey.path.toArray();return[e,cp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ac(n[a],r[a]))return i;return(i=Ac(n.length,r.length))||((i=Ac(n[n.length-2],r[r.length-2]))||Ac(n[n.length-1],r[r.length-1]))}var kv=qn((function e(t,n){Bn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),bv=function(){function e(t,n,r,i){Bn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return qn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&hh(r.mutation,e,wl.empty(),Pc.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,jh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jh(),i=Ph();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Oh();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ph();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,jh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Nh(),a=Lh(),o=Lh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof mh)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),hh(o.mutation,t,o.mutation.getFieldMask(),Pc.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new kv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Lh(),i=new vl((function(e,t){return e-t})),a=jh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Vn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||wl.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||jh()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Rh();c.forEach((function(e){if(!a.has(e)){var n=lh(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Zc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Uc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Zc.resolve(Ph()),s=-1,u=a;return o.next((function(t){return Zc.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Zc.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,jh())})).next((function(e){return{batchId:s,changes:Dh(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Uc(t)).next((function(e){var t=Oh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Oh();return this.indexManager.getCollectionParents(e,i).next((function(o){return Zc.forEach(o,(function(o){var s=function(e,t){return new Cf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,af.newInvalidDocument(n)))}));var n=Oh();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&hh(a.mutation,i,wl.empty(),Pc.now()),Vf(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Zc.resolve(af.newInvalidDocument(t))}}]),e}(),wv=function(){function e(t){Bn(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return qn(e,[{key:"getBundleMetadata",value:function(e,t){return Zc.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:nd(n.createTime)}),Zc.resolve()}},{key:"getNamedQuery",value:function(e,t){return Zc.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:vp(e.bundledQuery),readTime:nd(e.readTime)}}(t)),Zc.resolve()}}]),e}(),_v=function(){function e(){Bn(this,e),this.overlays=new vl(Uc.comparator),this.Xn=new Map}return qn(e,[{key:"getOverlay",value:function(e,t){return Zc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ph();return Zc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Zc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Zc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ph(),i=t.length+1,a=new Uc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Zc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new vl((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Ph(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Ph(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Zc.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ap(t,n));var a=this.Xn.get(t);void 0===a&&(a=jh(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),xv=function(){function e(){Bn(this,e),this.Zn=new gl(Ev.ts),this.es=new gl(Ev.ns)}return qn(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ev(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new Ev(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Uc(new Mc([])),r=new Ev(n,e),i=new Ev(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Uc(new Mc([])),n=new Ev(t,e),r=new Ev(t,e+1),i=jh();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ev(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ev=function(){function e(t,n){Bn(this,e),this.key=t,this.ls=n}return qn(e,null,[{key:"ts",value:function(e,t){return Uc.comparator(e.key,t.key)||Ac(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Ac(e.ls,t.ls)||Uc.comparator(e.key,t.key)}}]),e}(),Iv=function(){function e(t,n){Bn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new gl(Ev.ts)}return qn(e,[{key:"checkEmpty",value:function(e){return Zc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new rp(i,t,n,r);this.mutationQueue.push(a);var o,s=Vn(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new Ev(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Zc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Zc.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Zc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Zc.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Zc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ev(t,0),i=new Ev(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Zc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gl(Ac);return t.forEach((function(e){var t=new Ev(e,0),i=new Ev(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Zc.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Uc.isDocumentKey(i)||(i=i.child(""));var a=new Ev(new Uc(i),0),o=new gl(Ac);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Zc.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;vc(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Zc.forEach(t.mutations,(function(i){var a=new Ev(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ev(t,0),r=this.ds.firstAfterOrEqual(n);return Zc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Zc.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Sv=function(){function e(t){Bn(this,e),this.ps=t,this.docs=new vl(Uc.comparator),this.size=0}return qn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Zc.resolve(n?n.document.mutableCopy():af.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Nh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():af.newInvalidDocument(e))})),Zc.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Nh(),i=new Uc(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Qc(Wc(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Zc.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){pc()}},{key:"Is",value:function(e,t){return Zc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Tv(this)}},{key:"getSize",value:function(e){return Zc.resolve(this.size)}}]),e}(),Tv=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this)).zn=e,r}return qn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Zc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(lv),Cv=function(){function e(t){Bn(this,e),this.persistence=t,this.Ts=new Th((function(e){return uf(e)}),cf),this.lastRemoteSnapshotVersion=Rc.min(),this.highestTargetId=0,this.Es=0,this.As=new xv,this.targetCount=0,this.Rs=Zp.An()}return qn(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Zc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Zc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Zc.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Zc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Zc.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Zp(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Zc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Zc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Zc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Zc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Zc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Zc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Zc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Zc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Zc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Zc.resolve(n)}},{key:"containsKey",value:function(e,t){return Zc.resolve(this.As.containsKey(t))}}]),e}(),Nv=function(){function e(t,n){var r=this;Bn(this,e),this.bs={},this.overlays={},this.Ps=new fl(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Cv(this),this.indexManager=new Lp,this.remoteDocumentCache=new Sv((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new sp(n),this.Ds=new wv(this.wt)}return qn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _v,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Iv(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;lc("MemoryPersistence","Starting transaction:",e);var i=new Av(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Zc.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Av=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return qn(n)}(Xc),Ov=function(){function e(t){Bn(this,e),this.persistence=t,this.ks=new xv,this.Os=null}return qn(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw pc()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Zc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Zc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Zc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zc.forEach(this.Fs,(function(r){var i=Uc.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Rc.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Zc.or([function(){return Zc.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Dv=function(){function e(t){Bn(this,e),this.wt=t}return qn(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new el("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Pv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Zc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Pv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Zc.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Gd});t.createIndex("collectionPathOverlayIndex",Qd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",$d,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Md});t.createIndex("documentKeyIndex",Fd),t.createIndex("collectionGroupIndex",jd)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:qd}).createIndex("sequenceNumberIndex",Hd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Kd}).createIndex("documentKeyIndex",Wd,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=Gp(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Zc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Zc.forEach(r,(function(r){vc(r.userId===n.userId);var i=hp(t.wt,r);return Wp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Mc(n),o=function(e){return[0,Cd(e)]}(a);r.push(t.get(o).next((function(n){return n?Zc.resolve():function(n){return t.put({targetId:0,path:Cd(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Zc.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:zd});var n=t.store("collectionParents"),r=new Mp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Cd(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Mc(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=h(e,3),r=(n[0],n[1]),a=(n[2],Od(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=dp(r),a=pp(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Uc(Mc.fromString(i.document.name).popFirst(5)):i.noDocument?Uc.fromSegments(i.noDocument.path):i.unknownDocument?Uc.fromSegments(i.unknownDocument.path):pc()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Zc.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=hv(this.wt),a=new Nv(Ov.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:jh();hp(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Zc.forEach(r,(function(e,r){var o=new oc(r),s=_p.se(n.wt,o),u=a.getIndexManager(o),c=Qp.se(o,n.wt,u,a.referenceDelegate);return new bv(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new tp(t,fl.ot),e).next()}))}))}}]),e}();function Pv(e){e.createObjectStore("targetDocuments",{keyPath:Vd}).createIndex("documentTargetsIndex",Bd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ud,{unique:!0}),e.createObjectStore("targetGlobal")}var Rv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lv=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Bn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=s,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new gc(yc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uv(this,i),this.ei=n+"main",this.wt=new sp(u),this.ni=new tl(this.ei,this.Hs,new Dv(this.wt)),this.Vs=new ev(this.referenceDelegate,this.wt),this.remoteDocumentCache=hv(this.wt),this.Ds=new kp,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&fc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return qn(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new gc(yc.FAILED_PRECONDITION,Rv);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new fl(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=s(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=s(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Fv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(il(t))return lc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return lc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return Mv(e).get("owner").next((function(e){return Zc.resolve(t.di(e))}))}},{key:"_i",value:function(e){return Fv(e).delete(this.clientId)}},{key:"wi",value:function(){var e=s(a().mark((function e(){var t,n,r,i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=np(e,"clientMetadata");return t.K().next((function(e){var n=o.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Zc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Vn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Zc.resolve(!0):Mv(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new gc(yc.FAILED_PRECONDITION,Rv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Fv(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&lc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=s(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new tp(e,fl.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Fv(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return Qp.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new jp(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _p.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;lc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Hs)?ep:14===i?Zd:13===i?Jd:12===i?Yd:11===i?Xd:void pc();return this.ni.runTransaction(e,o,s,(function(i){return a=new tp(i,r.Ps?r.Ps.next():fl.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw fc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new gc(yc.FAILED_PRECONDITION,$c);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return Mv(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new gc(yc.FAILED_PRECONDITION,Rv)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mv(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Mv(e);return n.get("owner").next((function(e){return t.di(e)?(lc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Zc.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(fc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!ur()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return lc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return fc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(aa){fc("Failed to set zombie client id.",aa)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(aa){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return tl.V()}}]),e}();function Mv(e){return np(e,"owner")}function Fv(e){return np(e,"clientMetadata")}function jv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Uv=function(){function e(t,n,r,i){Bn(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return qn(e,null,[{key:"Vi",value:function(t,n){var r,i=jh(),a=jh(),o=Vn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Vv=function(){function e(){Bn(this,e),this.Si=!1}return qn(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Zc.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Rc.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(cc()<=Or.DEBUG&&lc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uf(t)),i.Mi(e,o,t,Kc(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new gl(zf(e));return t.forEach((function(t,r){Vf(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return cc()<=Or.DEBUG&&lc("QueryEngine","Using full collection scan to execute query:",Uf(t)),this.Di.getDocumentsMatchingQuery(e,t,Gc.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Bv=function(){function e(t,n,r,i){Bn(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new vl(Ac),this.Bi=new Th((function(e){return uf(e)}),cf),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return qn(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bv(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function zv(e,t,n,r){return new Bv(e,t,n,r)}function qv(e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=jh(),u=Vn(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Vn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Vn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Vn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Kv(e,t){var n=mc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Zc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);vc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=jh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Wv(e){var t=mc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function Gv(e,t){var n=mc(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(_l.EMPTY_BYTE_STRING,Rc.min()).withLastLimboFreeSnapshotVersion(Rc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var s=Nh(),u=jh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qv(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(Rc.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Zc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function Qv(e,t,n){var r=jh(),i=jh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Nh();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Rc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):lc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function $v(e,t){var n=mc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Xv(e,t){var n=mc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Zc.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new op(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Yv(e,t,n){return Jv.apply(this,arguments)}function Jv(){return Jv=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mc(t),o=i.$i.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",s,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),il(e.t1)){e.next=12;break}throw e.t1;case 12:lc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Jv.apply(this,arguments)}function Zv(e,t,n){var r=mc(e),i=Rc.min(),a=jh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=mc(e),i=r.Bi.get(n);return void 0!==i?Zc.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Lf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Rc.min(),n?a:jh())})).next((function(e){return nm(r,Bf(t),e),{documents:e,ji:a}}))}))}function em(e,t){var n=mc(e),r=mc(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function tm(e,t){var n=mc(e),r=n.Li.get(t)||Rc.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Kc(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return nm(n,t,e),e}))}function nm(e,t,n){var r=Rc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function rm(e,t,n,r){return im.apply(this,arguments)}function im(){return im=s(a().mark((function e(t,n,r,i){var o,s,u,c,l,f,h,d,p,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=mc(t),s=jh(),u=Nh(),c=Vn(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Wi(f.metadata.name),f.document&&(s=s.add(h)),(d=n.zi(f)).setReadTime(n.Hi(f.metadata.readTime)),u=u.insert(h,d)}catch(a){c.e(a)}finally{c.f()}return p=o.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Xv(o,function(e){return Lf(Af(Mc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Qv(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return o.Vs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return o.Vs.addMatchingKeys(e,s,v.targetId)})).next((function(){return o.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t){return om.apply(this,arguments)}function om(){return om=s(a().mark((function e(t,n){var r,i,o,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:jh(),e.next=3,Xv(t,Lf(vp(n.bundledQuery)));case 3:return i=e.sent,o=mc(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",(function(e){var t=nd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Ds.saveNamedQuery(e,n);var a=i.withResumeToken(_l.EMPTY_BYTE_STRING,t);return o.$i=o.$i.insert(a.targetId,a),o.Vs.updateTargetData(e,a).next((function(){return o.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return o.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function sm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function um(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function cm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var lm=function(){function e(t,n,r,i){Bn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return qn(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new gc(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(fc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),fm=function(){function e(t,n,r){Bn(this,e),this.targetId=t,this.state=n,this.error=r}return qn(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new gc(i.error.code,i.error.message))),a?new e(t,i.state,r):(fc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),hm=function(){function e(t,n){Bn(this,e),this.clientId=t,this.activeTargetIds=n}return qn(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Vh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Rl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(fc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),dm=function(){function e(t,n){Bn(this,e),this.clientId=t,this.onlineState=n}return qn(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(fc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),pm=function(){function e(){Bn(this,e),this.activeTargetIds=Vh()}return qn(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),vm=function(){function e(t,n,r,i,a){Bn(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new vl(Ac),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=sm(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new pm),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return qn(e,[{key:"start",value:function(){var e=s(a().mark((function e(){var t,n,r,i,o,s,u,c,l,f,h,d=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Vn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(o=this.getItem(sm(this.persistenceKey,i)))&&(s=hm.Ji(i,o))&&(this.sr=this.sr.insert(s.clientId,s));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(c=this.wr(u))&&this.mr(c),l=Vn(this.ir);try{for(l.s();!(f=l.n()).done;)h=f.value,this.nr(h)}catch(a){l.e(a)}finally{l.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(cm(this.persistenceKey,e));if(n){var r=fm.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(cm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return lc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){lc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){lc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(lc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void fc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(s(a().mark((function e(){var r,i,o,s,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(o));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(s=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(s));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}c=function(e){var t=fl.ot;if(null!=e)try{var n=JSON.parse(e);vc("number"==typeof n),t=n}catch(e){fc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==fl.ot&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return l=t.Cr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new lm(this.currentUser,e,t,n),i=um(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=um(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=cm(this.persistenceKey,e),i=new fm(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return hm.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return lm.Ji(new oc(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return fm.Ji(r,t)}},{key:"wr",value:function(e){return dm.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:lc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Mr(o,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Vh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),mm=function(){function e(){Bn(this,e),this.Fr=new pm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return qn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new pm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ym=function(){function e(){Bn(this,e)}return qn(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),gm=function(){function e(){var t=this;Bn(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return qn(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){lc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Vn(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){lc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Vn(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),km={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bm=function(){function e(t){Bn(this,e),this.jr=t.jr,this.Wr=t.Wr}return qn(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),wm=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return qn(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ic;o.listenOnce(Zu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ju.NO_ERROR:var t=o.getResponseJson();lc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ju.TIMEOUT:lc("Connection",'RPC "'+e+'" timed out'),a(new gc(yc.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:var n=o.getStatus();if(lc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(yc).indexOf(t)>=0?t:yc.UNKNOWN}(r.status);a(new gc(s,r.message))}else a(new gc(yc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new gc(yc.UNAVAILABLE,"Connection failed."));break;default:pc()}}finally{lc("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xu(),a=Yu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new nc({})),this.uo(o.initMessageHeaders,t,n),sr()||lr()||or().indexOf("Electron/")>=0||fr()||or().indexOf("MSAppHost/")>=0||cr()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");lc("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new bm({jr:function(e){l?lc("Connection","Not sending because WebChannel is closed:",e):(c||(lc("Connection","Opening WebChannel transport."),u.open(),c=!0),lc("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,rc.EventType.OPEN,(function(){l||lc("Connection","WebChannel transport opened.")})),h(u,rc.EventType.CLOSE,(function(){l||(l=!0,lc("Connection","WebChannel transport closed"),f.eo())})),h(u,rc.EventType.ERROR,(function(e){l||(l=!0,hc("Connection","WebChannel transport errored:",e),f.eo(new gc(yc.UNAVAILABLE,"The operation could not be completed")))})),h(u,rc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];vc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){lc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bh[e];if(void 0!==t)return Sh(t)}(a),s=i.message;void 0===o&&(o=yc.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new gc(o,s)),u.close()}else lc("Connection","WebChannel received:",n),f.no(n)}})),h(a,ec.STAT_EVENT,(function(e){e.stat===tc.PROXY?lc("Connection","Detected buffering proxy"):e.stat===tc.NOPROXY&&lc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Bn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return qn(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);lc("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return lc("RestConnection","Received: ",e),e}),(function(t){throw hc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=km[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function _m(){return"undefined"!=typeof window?window:null}function xm(){return"undefined"!=typeof document?document:null}function Em(e){return new Jh(e,!0)}var Im=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Bn(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return qn(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&lc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Sm=function(){function e(t,n,r,i,a,o,s,u){Bn(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Im(t,n)}return qn(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===yc.RESOURCE_EXHAUSTED?(fc(n.toString()),fc("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===yc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=h(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new gc(yc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return lc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(lc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Tm=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a,o,s){var u;return Bn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return qn(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(vc(void 0===t||"string"==typeof t),_l.fromBase64String(t||"")):(vc(void 0===t||t instanceof Uint8Array),_l.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?yc.UNKNOWN:Sh(e.code);return new gc(t,e.message||"")}(o);n=new Kh(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=od(e,u.document.name),l=nd(u.document.updateTime),f=new nf({mapValue:{fields:u.document.fields}}),h=af.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new qh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=od(e,v.document),y=v.readTime?nd(v.readTime):Rc.min(),g=af.newNoDocument(m,y),k=v.removedTargetIds||[];n=new qh([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=od(e,b.document),_=b.removedTargetIds||[];n=new qh([],_,w,null)}else{if(!("filter"in t))return pc();t.filter;var x=t.filter;x.targetId;var E=x.count||0,I=new Eh(E),S=x.targetId;n=new Hh(S,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Rc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Rc.min():t.readTime?nd(t.readTime):Rc.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=cd(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=lf(r)?{documents:md(e,r)}:{query:yd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ed(e,t.resumeToken):t.snapshotVersion.compareTo(Rc.min())>0&&(n.readTime=Zh(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=cd(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(Sm),Cm=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a,o,s){var u;return Bn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return qn(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Hi(Wn(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(vc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(vc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?nd(e.updateTime):nd(t);return n.isEqual(Rc.min())&&(n=nd(t)),new oh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=nd(e.commitTime);return this.listener.Jo(n,t)}return vc(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=cd(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return pd(t.wt,e)}))};this.Mo(n)}}]),n}(Sm),Nm=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a){var o;return Bn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return qn(n,[{key:"tu",value:function(){if(this.Zo)throw new gc(yc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new gc(yc.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],s=a[1];return r.bo.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new gc(yc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return qn((function e(){Bn(this,e)}))}()),Am=function(){function e(t,n){Bn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return qn(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(fc(t),this.su=!1):lc("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Om=qn((function e(t,n,r,i,o){var u=this;Bn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br((function(e){r.enqueueAndForget(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=zm(u),!e.t0){e.next=5;break}return lc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mc(t)).lu.add(4),e.next=4,Rm(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Dm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Am(r,i)}));function Dm(e){return Pm.apply(this,arguments)}function Pm(){return Pm=s(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zm(t)){e.next=18;break}n=Vn(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Pm.apply(this,arguments)}function Rm(e){return Lm.apply(this,arguments)}function Lm(){return Lm=s(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vn(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Lm.apply(this,arguments)}function Mm(e,t){var n=mc(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Bm(n)?Vm(n):yy(n).Co()&&jm(n,t))}function Fm(e,t){var n=mc(e),r=yy(n);n.hu.delete(t),r.Co()&&Um(n,t),0===n.hu.size&&(r.Co()?r.ko():zm(n)&&n._u.set("Unknown"))}function jm(e,t){e.wu.Nt(t.targetId),yy(e).Qo(t)}function Um(e,t){e.wu.Nt(t),yy(e).jo(t)}function Vm(e){e.wu=new Gh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),yy(e).start(),e._u.iu()}function Bm(e){return zm(e)&&!yy(e).Do()&&e.hu.size>0}function zm(e){return 0===mc(e).lu.size}function qm(e){e.wu=void 0}function Hm(e){return Km.apply(this,arguments)}function Km(){return Km=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){jm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}function Wm(e,t){return Gm.apply(this,arguments)}function Gm(){return Gm=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qm(t),Bm(t)?(t._u.uu(n),Vm(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Gm.apply(this,arguments)}function Qm(e,t,n){return $m.apply(this,arguments)}function $m(){return $m=s(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Kh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Vn(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(s=o.value,e.t0=t.hu.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.hu.delete(s),t.wu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),lc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Xm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof qh?t.wu.Ut(n):n instanceof Hh?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Rc.min())){e.next=29;break}return e.prev=14,e.next=17,Wv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(_l.EMPTY_BYTE_STRING,n.snapshotVersion)),Um(e,t);var r=new op(n.target,t,1,n.sequenceNumber);jm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),lc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Xm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),$m.apply(this,arguments)}function Xm(e,t,n){return Ym.apply(this,arguments)}function Ym(){return Ym=s(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(il(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Rm(t);case 5:t._u.set("Offline"),r||(r=function(){return Wv(t.localStore)}),t.asyncQueue.enqueueRetryable(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Dm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Jm(e,t){return t().catch((function(n){return Xm(e,n,t)}))}function Zm(e){return ey.apply(this,arguments)}function ey(){return ey=s(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mc(t),r=gy(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!ty(n)){e.next=19;break}return e.prev=3,e.next=6,$v(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=o.batchId,ny(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Xm(n,e.t0);case 17:e.next=2;break;case 19:ry(n)&&iy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ey.apply(this,arguments)}function ty(e){return zm(e)&&e.au.length<10}function ny(e,t){e.au.push(t);var n=gy(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function ry(e){return zm(e)&&!gy(e).Do()&&e.au.length>0}function iy(e){gy(e).start()}function ay(e){return oy.apply(this,arguments)}function oy(){return oy=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gy(t).Xo();case 1:case"end":return e.stop()}}),e)}))),oy.apply(this,arguments)}function sy(e){return uy.apply(this,arguments)}function uy(){return uy=s(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gy(t),r=Vn(t.au);try{for(r.s();!(i=r.n()).done;)o=i.value,n.Ho(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function cy(e,t,n){return ly.apply(this,arguments)}function ly(){return ly=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),o=ip.from(i,n,r),e.next=3,Jm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,Zm(t);case 5:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function fy(e,t){return hy.apply(this,arguments)}function hy(){return hy=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&gy(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ih(i=n.code)||i===yc.ABORTED){e.next=7;break}return r=t.au.shift(),gy(t).No(),e.next=5,Jm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Zm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ry(t)&&iy(t);case 5:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}function dy(e,t){return py.apply(this,arguments)}function py(){return py=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=mc(t)).asyncQueue.verifyOperationInProgress(),lc("RemoteStore","RemoteStore received new credentials"),i=zm(r),r.lu.add(3),e.next=6,Rm(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Dm(r);case 12:case"end":return e.stop()}}),e)}))),py.apply(this,arguments)}function vy(e,t){return my.apply(this,arguments)}function my(){return my=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mc(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Dm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Rm(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function yy(e){return e.mu||(e.mu=function(e,t,n){var r=mc(e);return r.tu(),new Tm(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Hm.bind(null,e),Jr:Wm.bind(null,e),Go:Qm.bind(null,e)}),e.fu.push(function(){var t=s(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Bm(e)?Vm(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:qm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function gy(e){return e.gu||(e.gu=function(e,t,n){var r=mc(e);return r.tu(),new Cm(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:ay.bind(null,e),Jr:fy.bind(null,e),Yo:sy.bind(null,e),Jo:cy.bind(null,e)}),e.fu.push(function(){var t=s(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Zm(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(lc("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var ky=function(){function e(t,n,r,i,a){Bn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return qn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gc(yc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function by(e,t){if(fc("AsyncQueue","".concat(t,": ").concat(e)),il(e))return new gc(yc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var wy=function(){function e(t){Bn(this,e),this.comparator=t?function(e,n){return t(e,n)||Uc.comparator(e.key,n.key)}:function(e,t){return Uc.comparator(e.key,t.key)},this.keyedMap=Oh(),this.sortedSet=new vl(this.comparator)}return qn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_y=function(){function e(){Bn(this,e),this.yu=new vl(Uc.comparator)}return qn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):pc():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),xy=function(){function e(t,n,r,i,a,o,s,u){Bn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return qn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,wy.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ey=qn((function e(){Bn(this,e),this.Iu=void 0,this.listeners=[]})),Iy=qn((function e(){Bn(this,e),this.queries=new Th((function(e){return jf(e)}),Ff),this.onlineState="Unknown",this.Tu=new Set}));function Sy(e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=s(a().mark((function e(t,n){var r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mc(t),i=n.query,o=!1,(s=r.queries.get(i))||(o=!0,s=new Ey),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:s.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=by(e.t0,"Initialization of query '".concat(Uf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,s),s.listeners.push(n),n.Eu(r.onlineState),s.Iu&&n.Au(s.Iu)&&Dy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ty.apply(this,arguments)}function Cy(e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=s(a().mark((function e(t,n){var r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mc(t),i=n.query,o=!1,(s=r.queries.get(i))&&(u=s.listeners.indexOf(n))>=0&&(s.listeners.splice(u,1),o=0===s.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Ay(e,t){var n,r=mc(e),i=!1,a=Vn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Vn(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Dy(r)}function Oy(e,t,n){var r=mc(e),i=r.queries.get(t);if(i){var a,o=Vn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Dy(e){e.Tu.forEach((function(e){e.next()}))}var Py=function(){function e(t,n,r){Bn(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return qn(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Vn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new xy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=xy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Ry=function(){function e(t,n){Bn(this,e),this.payload=t,this.byteLength=n}return qn(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Ly=function(){function e(t){Bn(this,e),this.wt=t}return qn(e,[{key:"Wi",value:function(e){return od(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?hd(this.wt,e.document,!1):af.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return nd(e)}}]),e}(),My=function(){function e(t,n,r){Bn(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fy(t)}return qn(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Mc.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Ly(this.wt),i=Vn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Wi(a.metadata.name),u=Vn(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||jh()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=s(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rm(this.localStore,new Ly(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Vn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return o=i.value,e.next=11,am(this.localStore,o,n.get(o.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fy(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var jy=qn((function e(t){Bn(this,e),this.key=t})),Uy=qn((function e(t){Bn(this,e),this.key=t})),Vy=function(){function e(t,n){Bn(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=jh(),this.mutatedKeys=jh(),this.Lu=zf(t),this.Uu=new wy(this.Lu)}return qn(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new _y,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Vf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||c&&n.Lu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pc()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new xy(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new _y,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=jh(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Uy(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new jy(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=jh();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return xy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),By=qn((function e(t,n,r){Bn(this,e),this.query=t,this.targetId=n,this.view=r})),zy=qn((function e(t){Bn(this,e),this.key=t,this.Xu=!1})),qy=function(){function e(t,n,r,i,a,o){Bn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Th((function(e){return jf(e)}),Ff),this.ec=new Map,this.nc=new Set,this.sc=new vl(Uc.comparator),this.ic=new Map,this.rc=new xv,this.oc={},this.uc=new Map,this.cc=Zp.Rn(),this.onlineState="Unknown",this.ac=void 0}return qn(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Hy(e,t){return Ky.apply(this,arguments)}function Ky(){return Ky=s(a().mark((function e(t,n){var r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fg(t),!(s=r.tc.get(n))){e.next=6;break}i=s.targetId,r.sharedClientState.addLocalQueryTarget(i),o=s.view.Yu(),e.next=15;break;case 6:return e.next=8,Xv(r.localStore,Lf(n));case 8:return u=e.sent,r.isPrimaryClient&&Mm(r.remoteStore,u),c=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Wy(r,n,i,"current"===c);case 14:o=e.sent;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function Wy(e,t,n,r){return Gy.apply(this,arguments)}function Gy(){return Gy=s(a().mark((function e(t,n,r,i){var o,u,c,l,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=s(a().mark((function e(t,n,r,i){var o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Ku(r),e.t0=o.Oi,!e.t0){e.next=6;break}return e.next=5,Zv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,o)}));case 5:o=e.sent;case 6:return s=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(o,t.isPrimaryClient,s),e.abrupt("return",(dg(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Zv(t.localStore,n,!0);case 3:return o=e.sent,u=new Vy(n,o.ji),c=u.Ku(o.documents),l=zh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=u.applyChanges(c,t.isPrimaryClient,l),dg(t,r,f.zu),h=new By(n,r,u),e.abrupt("return",(t.tc.set(n,h),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function Qy(e,t){return $y.apply(this,arguments)}function $y(){return $y=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mc(t),i=r.tc.get(n),!((o=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,o.filter((function(e){return!Ff(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Yv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Fm(r.remoteStore,i.targetId),fg(r,i.targetId)})).catch(Yc);case 9:e.next=14;break;case 11:return fg(r,i.targetId),e.next=14,Yv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Xy(e,t,n){return Yy.apply(this,arguments)}function Yy(){return Yy=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=mc(e),a=Pc.now(),o=t.reduce((function(e,t){return e.add(t.key)}),jh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Nh(),u=jh();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Vn(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=dh(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new mh(c.key,l,rf(l.value.mapValue),sh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Dh(n)}}))}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new vl(Ac)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,mg(i,o.changes);case 9:return e.next=11,Zm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=by(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Yy.apply(this,arguments)}function Jy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),e.prev=1,e.next=4,Gv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(vc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?vc(n.Xu):e.removedDocuments.size>0&&(vc(n.Xu),n.Xu=!1))})),e.next=8,mg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Yc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Zy.apply(this,arguments)}function eg(e,t,n){var r=mc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=mc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Vn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Dy(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function tg(e,t,n){return ng.apply(this,arguments)}function ng(){return ng=s(a().mark((function e(t,n,r){var i,o,s,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=mc(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.ic.get(n),!(s=o&&o.key)){e.next=14;break}return u=(u=new vl(Uc.comparator)).insert(s,af.newNoDocument(s,Rc.min())),c=jh().add(s),l=new Bh(Rc.min(),new Map,new gl(Ac),u,c),e.next=9,Jy(i,l);case 9:i.sc=i.sc.remove(s),i.ic.delete(n),vg(i),e.next=16;break;case 14:return e.next=16,Yv(i.localStore,n,!1).then((function(){return fg(i,n,r)})).catch(Yc);case 16:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e,t){return ig.apply(this,arguments)}function ig(){return ig=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),i=n.batch.batchId,e.prev=1,e.next=4,Kv(r.localStore,n);case 4:return o=e.sent,lg(r,i,null),cg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,mg(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ig.apply(this,arguments)}function ag(e,t,n){return og.apply(this,arguments)}function og(){return og=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mc(t),e.prev=1,e.next=4,function(e,t){var n=mc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return vc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return o=e.sent,lg(i,n,r),cg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,mg(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),og.apply(this,arguments)}function sg(e,t){return ug.apply(this,arguments)}function ug(){return ug=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zm((r=mc(t)).remoteStore)||lc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=mc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.uc.get(i)||[]).push(n),r.uc.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),s=by(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(s);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ug.apply(this,arguments)}function cg(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function lg(e,t,n){var r=mc(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function fg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Vn(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||hg(e,t)}))}function hg(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(Fm(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),vg(e))}function dg(e,t,n){var r,i=Vn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof jy?(e.rc.addReference(a.key,t),pg(e,a)):a instanceof Uy?(lc("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||hg(e,a.key)):pc()}}catch(o){i.e(o)}finally{i.f()}}function pg(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(lc("SyncEngine","New document in limbo: "+n),e.nc.add(r),vg(e))}function vg(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Uc(Mc.fromString(t)),r=e.cc.next();e.ic.set(r,new zy(n)),e.sc=e.sc.insert(n,r),Mm(e.remoteStore,new op(Lf(Af(n.path)),r,2,fl.ot))}}function mg(e,t,n){return yg.apply(this,arguments)}function yg(){return yg=s(a().mark((function e(t,n,r){var i,o,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mc(t),o=[],u=[],c=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){c.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=Uv.Vi(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(c);case 6:return i.Zu.Go(o),e.next=9,function(){var e=s(a().mark((function e(t,n){var r,i,o,s,u,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Zc.forEach(n,(function(t){return Zc.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Zc.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),il(e.t0)){e.next=10;break}throw e.t0;case 10:lc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Vn(n);try{for(i.s();!(o=i.n()).done;)s=o.value,u=s.targetId,s.fromCache||(c=r.$i.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.$i=r.$i.insert(u,f))}catch(a){i.e(a)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function gg(e,t){return kg.apply(this,arguments)}function kg(){return kg=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=mc(t)).currentUser.isEqual(n)){e.next=11;break}return lc("SyncEngine","User change. New user:",n.toKey()),e.next=5,qv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new gc(yc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,mg(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function bg(e,t){var n=mc(e),r=n.ic.get(t);if(r&&r.Xu)return jh().add(r.key);var i=jh(),a=n.ec.get(t);if(!a)return i;var o,s=Vn(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.tc.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function wg(e,t){return _g.apply(this,arguments)}function _g(){return _g=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),e.next=3,Zv(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&dg(r,n.targetId,o.zu),o));case 6:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function xg(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),e.abrupt("return",tm(r.localStore,n).then((function(e){return mg(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Ig(e,t,n,r){return Sg.apply(this,arguments)}function Sg(){return Sg=s(a().mark((function e(t,n,r,i){var o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=mc(t),e.next=3,function(e,t){var n=mc(e),r=mc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Zc.resolve(null)}))}))}(o.localStore,n);case 3:if(null===(s=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Zm(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(lg(o,n,i||null),cg(o,n),function(e,t){mc(mc(e).mutationQueue).In(t)}(o.localStore,n)):pc();case 11:return e.next=13,mg(o,s);case 13:e.next=16;break;case 15:lc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Sg.apply(this,arguments)}function Tg(e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=s(a().mark((function e(t,n){var r,i,o,s,u,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fg(r=mc(t)),jg(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Ng(r,i.toArray());case 5:return o=e.sent,r.ac=!0,e.next=9,vy(r.remoteStore,!0);case 9:s=Vn(o);try{for(s.s();!(u=s.n()).done;)c=u.value,Mm(r.remoteStore,c)}catch(a){s.e(a)}finally{s.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return l=[],f=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return fg(r,t),Yv(r.localStore,t,!0)})),Fm(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Ng(r,l);case 21:return function(e){var t=mc(e);t.ic.forEach((function(e,n){Fm(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new vl(Uc.comparator)}(r),r.ac=!1,e.next=25,vy(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Ng(e,t,n){return Ag.apply(this,arguments)}function Ag(){return Ag=s(a().mark((function e(t,n,r){var i,o,s,u,c,l,f,h,d,p,v,m,y,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=mc(t),o=[],s=[],u=Vn(n),e.prev=2,u.s();case 4:if((c=u.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(h=i.ec.get(l))||0===h.length){e.next=34;break}return e.next=11,Xv(i.localStore,Lf(h[0]));case 11:f=e.sent,d=Vn(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.tc.get(v),e.next=20,wg(i,m);case 20:(y=e.sent).snapshot&&s.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,em(i.localStore,l);case 36:return g=e.sent,e.next=39,Xv(i.localStore,g);case 39:return f=e.sent,e.next=42,Wy(i,Og(g),l,!1);case 42:o.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(s),o));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Ag.apply(this,arguments)}function Og(e){return Nf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Dg(e){var t=mc(e);return mc(mc(t.localStore).persistence).Ri()}function Pg(e,t,n,r){return Rg.apply(this,arguments)}function Rg(){return Rg=s(a().mark((function e(t,n,r,i){var o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=mc(t)).ac){e.next=3;break}return e.abrupt("return",void lc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((s=o.ec.get(n))&&s.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,tm(o.localStore,Bf(s[0]));case 10:return u=e.sent,c=Bh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,mg(o,u,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,Yv(o.localStore,n,!0);case 17:return fg(o,n,i),e.abrupt("break",20);case 19:pc();case 20:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Lg(e,t,n){return Mg.apply(this,arguments)}function Mg(){return Mg=s(a().mark((function e(t,n,r){var i,o,s,u,c,l,f,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Fg(t)).ac){e.next=45;break}o=Vn(n),e.prev=3,o.s();case 5:if((s=o.n()).done){e.next=21;break}if(u=s.value,!i.ec.has(u)){e.next=10;break}return lc("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,em(i.localStore,u);case 12:return c=e.sent,e.next=15,Xv(i.localStore,c);case 15:return l=e.sent,e.next=18,Wy(i,Og(c),l.targetId,!1);case 18:Mm(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:f=Vn(r),e.prev=30,d=a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,Yv(i.localStore,t,!1).then((function(){Fm(i.remoteStore,t),fg(i,t)})).catch(Yc);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Mg.apply(this,arguments)}function Fg(e){var t=mc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tg.bind(null,t),t.Zu.Go=Ay.bind(null,t.eventManager),t.Zu.lc=Oy.bind(null,t.eventManager),t}function jg(e){var t=mc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ag.bind(null,t),t}function Ug(e,t,n){var r=mc(e);(function(){var e=s(a().mark((function e(t,n,r){var i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=mc(e),r=nd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Fy(i)),o=new My(i,t.localStore,n.wt),e.next=15,n.fc();case 15:s=e.sent;case 16:if(!s){e.next=26;break}return e.next=19,o.Nu(s);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:s=e.sent;case 24:e.next=16;break;case 26:return e.next=28,o.complete();case 28:return c=e.sent,e.next=31,mg(t,c.Mu,void 0);case 31:return e.next=33,function(e,t){var n=mc(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(hc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Vg=function(){function e(){Bn(this,e),this.synchronizeTabs=!1}return qn(e,[{key:"initialize",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Em(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return zv(this.persistence,new Vv,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Nv(Ov.Ms,this.wt)}},{key:"dc",value:function(e){return new mm}},{key:"terminate",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Bg=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return qn(n,[{key:"initialize",value:function(){var e=s(a().mark((function e(t){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Wn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,jg(this.yc.syncEngine);case 6:return e.next=8,Zm(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return zv(this.persistence,new Vv,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ov(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new ll(t,this.persistence);return new cl(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=jv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kp.withCacheSize(this.cacheSizeBytes):Kp.DEFAULT;return new Lv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_m(),xm(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new mm}}]),n}(Vg),zg=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return qn(n,[{key:"initialize",value:function(){var e=s(a().mark((function e(t){var r,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Wn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof vm,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Ig.bind(null,r),Or:Pg.bind(null,r),Mr:Lg.bind(null,r),Ri:Dg.bind(null,r),Nr:xg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tg(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=_m();if(!vm.V(t))throw new gc(yc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Bg),qg=function(){function e(){Bn(this,e)}return qn(e,[{key:"initialize",value:function(){var e=s(a().mark((function e(t,n){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return eg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=gg.bind(null,this.syncEngine),e.next=12,vy(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Iy}},{key:"createDatastore",value:function(e){var t,n=Em(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new wm(t));return function(e,t,n,r){return new Nm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return eg(o.syncEngine,e,0)},a=gm.V()?new gm:new ym,new Om(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new qy(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mc(t),lc("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Rm(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Hg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return s(a().mark((function r(){var i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Kg=function(){function e(t){Bn(this,e),this.observer=t,this.muted=!1}return qn(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Wg=function(){function e(t,n){var r=this;Bn(this,e),this.Ec=t,this.wt=n,this.metadata=new kc,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return qn(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=s(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new Ry(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=s(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=s(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gg=function(){function e(t){Bn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return qn(e,[{key:"lookup",value:function(){var e=s(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new gc(yc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=s(a().mark((function e(t,n){var r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),i=cd(r.wt)+"/documents",o={documents:n.map((function(e){return ad(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,o);case 5:return s=e.sent,u=new Map,s.forEach((function(e){var t=dd(r.wt,e);u.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());vc(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _h(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=s(a().mark((function e(){var t,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Uc.fromPath(t);n.mutations.push(new xh(r,n.precondition(r)))})),e.next=7,function(){var e=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t),i=cd(r.wt)+"/documents",o={writes:n.map((function(e){return pd(r.wt,e)}))},e.next=3,r.ro("Commit",i,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pc();t=Rc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new gc(yc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sh.updateTime(t):sh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rc.min()))throw new gc(yc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sh.updateTime(t)}return sh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Qg=function(){function e(t,n,r,i,a){Bn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new Im(this.asyncQueue,"transaction_retry")}return qn(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(s(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Gg(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Dl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ih(t)}return!1}}]),e}(),$g=function(){function e(t,n,r,i){var o=this;Bn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=oc.UNAUTHENTICATED,this.clientId=Nc.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return lc("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return qn(e,[{key:"getConfiguration",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new gc(yc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(s(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=by(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Xg(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),lc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,qv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Jg(e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ek(t);case 3:return r=e.sent,lc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return dy(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return dy(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ek(e){return tk.apply(this,arguments)}function tk(){return tk=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return lc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Xg(t,new Vg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e){return rk.apply(this,arguments)}function rk(){return rk=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return lc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Jg(t,new qg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ik(e){return ek(e).then((function(e){return e.persistence}))}function ak(e){return ek(e).then((function(e){return e.localStore}))}function ok(e){return nk(e).then((function(e){return e.remoteStore}))}function sk(e){return nk(e).then((function(e){return e.syncEngine}))}function uk(e){return ck.apply(this,arguments)}function ck(){return ck=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Hy.bind(null,n.syncEngine),r.onUnlisten=Qy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kc;return e.asyncQueue.enqueueAndForget(s(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Kg({next:function(a){t.enqueueAndForget((function(){return Cy(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new gc(yc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new gc(yc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Py(Af(n.path),a,{includeMetadataChanges:!0,Du:!0});return Sy(e,o)},i.next=3,uk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function fk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kc;return e.asyncQueue.enqueueAndForget(s(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Kg({next:function(n){t.enqueueAndForget((function(){return Cy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new gc(yc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Py(n,a,{includeMetadataChanges:!0,Du:!0});return Sy(e,o)},i.next=3,uk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var hk=new Map;function dk(e,t,n){if(!n)throw new gc(yc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pk(e,t,n,r){if(!0===t&&!0===r)throw new gc(yc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function vk(e){if(!Uc.isDocumentKey(e))throw new gc(yc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mk(e){if(Uc.isDocumentKey(e))throw new gc(yc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function yk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":pc()}function gk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gc(yc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=yk(e);throw new gc(yc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function kk(e,t){if(t<=0)throw new gc(yc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var bk=function(){function e(t){var n;if(Bn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new gc(yc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gc(yc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,pk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return qn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),wk=function(){function e(t,n,r){Bn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bk({}),this._settingsFrozen=!1,t instanceof Ol?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gc(yc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(e.options.projectId)}(t))}return qn(e,[{key:"app",get:function(){if(!this._app)throw new gc(yc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new gc(yc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wc;switch(e.type){case"gapi":var t=e.client;return vc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ic(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new gc(yc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=hk.get(e);t&&(lc("ComponentProvider","Removing Datastore"),hk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function _k(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=gk(e,wk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=oc.MOCK_USER;else{o=ar(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new gc(yc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new oc(u)}e._authCredentials=new _c(new bc(o,s))}}var xk=function(){function e(t,n,r){Bn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return qn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ik(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ek=function(){function e(t,n,r){Bn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return qn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ik=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this,e,r,Af(i)))._path=i,a.type="collection",a}return qn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xk(this.firestore,null,new Uc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ek);function Sk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Sr(e),dk("collection","path",t),e instanceof wk){var a=Mc.fromString.apply(Mc,[t].concat(r));return mk(a),new Ik(e,null,a)}if(!(e instanceof xk||e instanceof Ik))throw new gc(yc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mc.fromString.apply(Mc,[t].concat(r)));return mk(o),new Ik(e.firestore,null,o)}function Tk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Sr(e),1===arguments.length&&(t=Nc.I()),dk("doc","path",t),e instanceof wk){var a=Mc.fromString.apply(Mc,[t].concat(r));return vk(a),new xk(e,null,new Uc(a))}if(!(e instanceof xk||e instanceof Ik))throw new gc(yc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mc.fromString.apply(Mc,[t].concat(r)));return vk(o),new xk(e.firestore,e instanceof Ik?e.converter:null,new Uc(o))}function Ck(e,t){return e=Sr(e),t=Sr(t),(e instanceof xk||e instanceof Ik)&&(t instanceof xk||t instanceof Ik)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Nk(e,t){return e=Sr(e),t=Sr(t),e instanceof Ek&&t instanceof Ek&&e.firestore===t.firestore&&Ff(e._query,t._query)&&e.converter===t.converter}var Ak=function(){function e(){var t=this;Bn(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Im(this,"async_queue_retry"),this.Kc=function(){var e=xm();e&&lc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=xm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return qn(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=xm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new kc;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=s(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),il(e.t0)){e.next=12;break}throw e.t0;case 12:lc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw fc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=ky.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&pc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Vn(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Vn(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function Ok(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Vn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Dk=function(){function e(){Bn(this,e),this._progressObserver={},this._taskCompletionResolver=new kc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return qn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Pk=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Ak,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return qn(n,[{key:"_terminate",value:function(){return this._firestoreClient||Lk(this),this._firestoreClient.terminate()}}]),n}(wk);function Rk(e){return e._firestoreClient||Lk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Lk(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Al(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new $g(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Mk(e,t,n){var r=new kc;return e.asyncQueue.enqueue(s(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Xg(e,n);case 3:return i.next=5,Jg(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===yc.FAILED_PRECONDITION||e.code===yc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Fk(e){return function(e){return e.asyncQueue.enqueue(s(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ik(e);case 2:return n=t.sent,t.next=5,ok(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=mc(e);return t.lu.delete(0),Dm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Rk(e=gk(e,Pk)))}function jk(e){return function(e){return e.asyncQueue.enqueue(s(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ik(e);case 2:return n=t.sent,t.next=5,ok(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mc(t)).lu.add(0),e.next=4,Rm(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Rk(e=gk(e,Pk)))}function Uk(e,t){var n=Rk(e=gk(e,Pk)),r=new Dk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Wg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Hg(e,t);if(e instanceof ArrayBuffer)return Hg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Em(t));e.asyncQueue.enqueueAndForget(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ug,t.next=3,sk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Vk(e,t){return function(e,t){return e.asyncQueue.enqueue(s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=mc(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,ak(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Rk(e=gk(e,Pk)),t).then((function(t){return t?new Ek(e,null,t.query):null}))}function Bk(e){if(e._initialized||e._terminated)throw new gc(yc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var zk=function(){function e(){Bn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new gc(yc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jc(n)}return qn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var qk=function(){function e(t){Bn(this,e),this._byteString=t}return qn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_l.fromBase64String(t))}catch(t){throw new gc(yc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_l.fromUint8Array(t))}}]),e}(),Hk=qn((function e(t){Bn(this,e),this._methodName=t})),Kk=function(){function e(t,n){if(Bn(this,e),!isFinite(t)||t<-90||t>90)throw new gc(yc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gc(yc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return qn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ac(this._lat,e._lat)||Ac(this._long,e._long)}}]),e}(),Wk=/^__.*__$/,Gk=function(){function e(t,n,r){Bn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return qn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new mh(e,this.data,this.fieldMask,t,this.fieldTransforms):new vh(e,this.data,t,this.fieldTransforms)}}]),e}(),Qk=function(){function e(t,n,r){Bn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return qn(e,[{key:"toMutation",value:function(e,t){return new mh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function $k(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pc()}}var Xk=function(){function e(t,n,r,i,a,o){Bn(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return qn(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return mb(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if($k(this.Zc)&&Wk.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Yk=function(){function e(t,n,r){Bn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Em(t)}return qn(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xk({Zc:e,methodName:t,ca:n,path:jc.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function Jk(e){var t=e._freezeSettings(),n=Em(e._databaseId);return new Yk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);hb("Data must be an object, but it was:",o,r);var s,u,c=lb(r,o);if(a.merge)s=new wl(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Vn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=db(t,d,n);if(!o.contains(p))throw new gc(yc.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));yb(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new wl(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Gk(new nf(c),s,u)}var eb=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Hk);function tb(e,t,n){return new Xk({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var nb=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"_toFieldTransform",value:function(e){return new ah(e.path,new Yf)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Hk),rb=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e)).ha=r,i}return qn(n,[{key:"_toFieldTransform",value:function(e){var t=tb(this,e,!0),n=this.ha.map((function(e){return cb(e,t)})),r=new Jf(n);return new ah(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Hk),ib=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e)).ha=r,i}return qn(n,[{key:"_toFieldTransform",value:function(e){var t=tb(this,e,!0),n=this.ha.map((function(e){return cb(e,t)})),r=new eh(n);return new ah(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Hk),ab=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e)).la=r,i}return qn(n,[{key:"_toFieldTransform",value:function(e){var t=new nh(e.wt,Wf(e.wt,this.la));return new ah(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Hk);function ob(e,t,n,r){var i=e.aa(1,t,n);hb("Data must be an object, but it was:",i,r);var a=[],o=nf.empty();dl(r,(function(e,r){var s=vb(t,e,n);r=Sr(r);var u=i.ia(s);if(r instanceof eb)a.push(s);else{var c=cb(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new wl(a);return new Qk(o,s,i.fieldTransforms)}function sb(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[db(t,r,n)],u=[i];if(a.length%2!=0)throw new gc(yc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(db(t,a[c])),u.push(a[c+1]);for(var l=[],f=nf.empty(),h=s.length-1;h>=0;--h)if(!yb(l,s[h])){var d=s[h],p=u[h];p=Sr(p);var v=o.ia(d);if(p instanceof eb)l.push(d);else{var m=cb(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new wl(l);return new Qk(f,y,o.fieldTransforms)}function ub(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return cb(n,e.aa(r?4:3,t))}function cb(e,t){if(fb(e=Sr(e)))return hb("Unsupported field value:",t,e),lb(e,t);if(e instanceof Hk)return function(e,t){if(!$k(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Vn(e);try{for(a.s();!(n=a.n()).done;){var o=cb(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Sr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wf(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Pc.fromDate(e);return{timestampValue:Zh(t.wt,n)}}if(e instanceof Pc){var r=new Pc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zh(t.wt,r)}}if(e instanceof Kk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qk)return{bytesValue:ed(t.wt,e._byteString)};if(e instanceof xk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:rd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(yk(e)))}(e,t)}function lb(e,t){var n={};return pl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dl(e,(function(e,r){var i=cb(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pc||e instanceof Kk||e instanceof qk||e instanceof xk||e instanceof Hk)}function hb(e,t,n){if(!fb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=yk(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function db(e,t,n){if((t=Sr(t))instanceof zk)return t._internalPath;if("string"==typeof t)return vb(e,t);throw mb("Field path arguments must be of type string or ",e,!1,void 0,n)}var pb=new RegExp("[~\\*/\\[\\]]");function vb(e,t,n){if(t.search(pb)>=0)throw mb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Xn(zk,Un(t.split(".")))._internalPath}catch(r){throw mb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new gc(yc.INVALID_ARGUMENT,s+e+u)}function yb(e,t){return e.some((function(e){return e.isEqual(t)}))}var gb=function(){function e(t,n,r,i,a){Bn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return qn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new xk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new kb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(bb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),kb=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"data",value:function(){return Hi(Wn(n.prototype),"data",this).call(this)}}]),n}(gb);function bb(e,t){return"string"==typeof t?vb(e,t):t instanceof zk?t._internalPath:t._delegate._internalPath}var wb=function(){function e(t,n){Bn(this,e),this.hasPendingWrites=t,this.fromCache=n}return qn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),_b=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a,o,s){var u;return Bn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return qn(n,[{key:"exists",value:function(){return Hi(Wn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new xb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(bb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(gb),xb=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hi(Wn(n.prototype),"data",this).call(this,e)}}]),n}(_b),Eb=function(){function e(t,n,r,i){Bn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wb(i.hasPendingWrites,i.fromCache),this.query=r}return qn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xb(n._firestore,n._userDataWriter,r.key,r,new wb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gc(yc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new xb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ib(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Ib(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pc()}}function Sb(e,t){return e instanceof _b&&t instanceof _b?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Eb&&t instanceof Eb&&e._firestore===t._firestore&&Nk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Tb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gc(yc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cb=qn((function e(){Bn(this,e)}));function Nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Ab=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return qn(n,[{key:"_apply",value:function(e){var t=Jk(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new gc(yc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Bb(o,a);var u,c=[],l=Vn(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Vb(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=Vb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Bb(o,a),s=ub(n,"where",o,"in"===a||"not-in"===a);var h=pf.create(i,a,s);return function(e,t){if(t.ht()){var n=Df(e);if(null!==n&&!n.isEqual(t.field))throw new gc(yc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Of(e);null!==r&&zb(e,t.field,r)}var i=function(e,t){var n,r=Vn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new gc(yc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new gc(yc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Ek(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Cb);var Ob=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return qn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new gc(yc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gc(yc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ef(t,n);return function(e,t){if(null===Of(e)){var n=Df(e);null!==n&&zb(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Ek(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Cf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Cb);var Db=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return qn(n,[{key:"_apply",value:function(e){return new Ek(e.firestore,e.converter,Mf(e._query,this.ma,this.ga))}}]),n}(Cb);var Pb=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return qn(n,[{key:"_apply",value:function(e){var t=Ub(e,this.type,this.ya,this.pa);return new Ek(e.firestore,e.converter,function(e,t){return new Cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Cb);function Rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pb("startAt",t,!0)}function Lb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pb("startAfter",t,!1)}var Mb=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a;return Bn(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return qn(n,[{key:"_apply",value:function(e){var t=Ub(e,this.type,this.ya,this.pa);return new Ek(e.firestore,e.converter,function(e,t){return new Cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Cb);function Fb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mb("endBefore",t,!1)}function jb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Mb("endAt",t,!0)}function Ub(e,t,n,r){if(n[0]=Sr(n[0]),n[0]instanceof gb)return function(e,t,n,r,i){if(!r)throw new gc(yc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Vn(Rf(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Hl(t,r.key));else{var c=r.data.field(u.field);if(Tl(c))throw new gc(yc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new gc(yc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new xf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Jk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new gc(yc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new gc(yc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Pf(e)&&-1!==c.indexOf("/"))throw new gc(yc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Mc.fromString(c));if(!Uc.isDocumentKey(l))throw new gc(yc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Uc(l);s.push(Hl(t,f))}else{var h=ub(n,r,c);s.push(h)}}return new xf(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Vb(e,t,n){if("string"==typeof(n=Sr(n))){if(""===n)throw new gc(yc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pf(t)&&-1!==n.indexOf("/"))throw new gc(yc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mc.fromString(n));if(!Uc.isDocumentKey(r))throw new gc(yc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hl(e,new Uc(r))}if(n instanceof xk)return Hl(e,n._key);throw new gc(yc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(yk(n),"."))}function Bb(e,t){if(!Array.isArray(e)||0===e.length)throw new gc(yc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new gc(yc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function zb(e,t,n){if(!n.isEqual(t))throw new gc(yc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var qb={maxAttempts:5},Hb=function(){function e(){Bn(this,e)}return qn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Il(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return dl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Kk(Il(e.latitude),Il(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Cl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=El(e);return new Pc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mc.fromString(e);vc(Td(n));var r=new Ol(n.get(1),n.get(3)),i=new Uc(n.popFirst(5));return r.isEqual(t)||fc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Kb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wb=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this)).firestore=e,r}return qn(n,[{key:"convertBytes",value:function(e){return new qk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xk(this.firestore,null,t)}}]),n}(Hb),Gb=function(){function e(t,n){Bn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jk(t)}return qn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Qb(e,this._firestore),i=Kb(r.converter,t,n),a=Zk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Qb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Sr(t))||t instanceof zk?sb(this._dataReader,"WriteBatch.update",i._key,t,n,o):ob(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Qb(e,this._firestore);return this._mutations=this._mutations.concat(new _h(t._key,sh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new gc(yc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Qb(e,t){if((e=Sr(e)).firestore!==t)throw new gc(yc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $b=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this)).firestore=e,r}return qn(n,[{key:"convertBytes",value:function(e){return new qk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xk(this.firestore,null,t)}}]),n}(Hb);function Xb(e){e=gk(e,xk);var t=gk(e.firestore,Pk),n=Rk(t),r=new $b(t);return function(e,t){var n=new kc;return e.asyncQueue.enqueueAndForget(s(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=mc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new gc(yc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=by(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ak(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new _b(t,r,e._key,n,new wb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Yb(e){e=gk(e,Ek);var t=gk(e.firestore,Pk),n=Rk(t),r=new $b(t);return function(e,t){var n=new kc;return e.asyncQueue.enqueueAndForget(s(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=s(a().mark((function e(t,n,r){var i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zv(t,n,!0);case 3:i=e.sent,o=new Vy(n,i.ji),s=o.Ku(i.documents),u=o.applyChanges(s,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=by(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ak(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Eb(t,r,e,n)}))}function Jb(e,t,n){e=gk(e,xk);var r=gk(e.firestore,Pk),i=Kb(e.converter,t,n);return nw(r,[Zk(Jk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sh.none())])}function Zb(e,t,n){e=gk(e,xk);for(var r=gk(e.firestore,Pk),i=Jk(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return nw(r,[("string"==typeof(t=Sr(t))||t instanceof zk?sb(i,"updateDoc",e._key,t,n,o):ob(i,"updateDoc",e._key,t)).toMutation(e._key,sh.exists(!0))])}function ew(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u;e=Sr(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Ok(n[l])||(c=n[l],l++);var f,h,d,p={includeMetadataChanges:c.includeMetadataChanges};if(Ok(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(o=v.error)||void 0===o?void 0:o.bind(v),n[l+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof xk)h=gk(e.firestore,Pk),d=Af(e._key.path),f={next:function(t){n[l]&&n[l](rw(h,e,t))},error:n[l+1],complete:n[l+2]};else{var m=gk(e,Ek);h=gk(m.firestore,Pk),d=m._query;var y=new $b(h);f={next:function(e){n[l]&&n[l](new Eb(h,y,m,e))},error:n[l+1],complete:n[l+2]},Tb(e._query)}return function(e,t,n,r){var i=new Kg(r),o=new Py(t,i,n);return e.asyncQueue.enqueueAndForget(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sy,t.next=3,uk(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cy,t.next=3,uk(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Rk(h),d,p,f)}function tw(e,t){return function(e,t){var n=new Kg(t);return e.asyncQueue.enqueueAndForget(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mc(e).Tu.add(t),t.next()},t.next=3,uk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mc(e).Tu.delete(t)},t.next=3,uk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Rk(e=gk(e,Pk)),Ok(t)?t:{next:t})}function nw(e,t){return function(e,t){var n=new kc;return e.asyncQueue.enqueueAndForget(s(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Xy,r.next=3,sk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Rk(e),t)}function rw(e,t,n){var r=n.docs.get(t._key),i=new $b(e);return new _b(e,i,t._key,r,new wb(n.hasPendingWrites,n.fromCache),t.converter)}var iw=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e,r))._firestore=e,i}return qn(n,[{key:"get",value:function(e){var t=this,r=Qb(e,this._firestore),i=new $b(this._firestore);return Hi(Wn(n.prototype),"get",this).call(this,e).then((function(e){return new _b(t._firestore,i,r._key,e._document,new wb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Bn(this,e),this._firestore=t,this._transaction=n,this._dataReader=Jk(t)}return qn(e,[{key:"get",value:function(e){var t=this,n=Qb(e,this._firestore),r=new Wb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return pc();var i=e[0];if(i.isFoundDocument())return new gb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new gb(t._firestore,r,n._key,null,n.converter);throw pc()}))}},{key:"set",value:function(e,t,n){var r=Qb(e,this._firestore),i=Kb(r.converter,t,n),a=Zk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Qb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Sr(t))||t instanceof zk?sb(this._dataReader,"Transaction.update",i._key,t,n,o):ob(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Qb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function aw(e,t,n){e=gk(e,Pk);var r=Object.assign(Object.assign({},qb),n);return function(e){if(e.maxAttempts<1)throw new gc(yc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new kc;return e.asyncQueue.enqueueAndForget(s(a().mark((function i(){var o;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return nk(e).then((function(e){return e.datastore}))}(e);case 2:o=i.sent,new Qg(e.asyncQueue,o,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Rk(e),(function(n){return t(new iw(e,n))}),r)}function ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rb("arrayUnion",t)}function sw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ib("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sc=e}(bi),di(new Tr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Pk(i,new xc(e.getProvider("auth-internal")),new Tc(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Si(ac,"3.4.10",e),Si(ac,"3.4.10","esm2017")}();var uw="firebasestorage.googleapis.com",cw=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,lw(e),"Firebase Storage: ".concat(r," (").concat(lw(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Hn(i),n.prototype),i}return qn(n,[{key:"_codeEquals",value:function(e){return lw(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(dr);function lw(e){return"storage/"+e}function fw(){return new cw("unknown","An unknown error occurred, please check the error payload for server response.")}function hw(){return new cw("canceled","User canceled the upload/download.")}function dw(){return new cw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pw(e){return new cw("invalid-argument",e)}function vw(){return new cw("app-deleted","The Firebase app was deleted.")}function mw(e){return new cw("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yw(e,t){return new cw("invalid-format","String does not match format '"+e+"': "+t)}function gw(e){throw new cw("internal-error","Internal error: "+e)}var kw,bw=function(){function e(t,n){Bn(this,e),this.bucket=t,this.path_=n}return qn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(eD){return new e(t,"")}if(""===r.path)return r;throw new cw("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===uw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new cw("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),ww=function(){function e(t){Bn(this,e),this.promise_=Promise.reject(t)}return qn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function _w(e){return"string"===typeof e||e instanceof String}function xw(e){return Ew()&&e instanceof Blob}function Ew(){return"undefined"!==typeof Blob}function Iw(e,t,n,r){if(r<t)throw pw("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pw("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Sw(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Tw(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(kw||(kw={}));var Cw=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Bn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return qn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(eD){i(eD)}else if(null!==a){var s=fw();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?vw():hw());else i(new cw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Nw(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Nw(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===kw.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Nw(o,r))}else{var s=r.getErrorCode()===kw.ABORT;t(!1,new Nw(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Nw=qn((function e(t,n,r){Bn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Aw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ow(){for(var e=Aw(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Ew())return new Blob(n);throw new cw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Dw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Pw=qn((function e(t,n){Bn(this,e),this.data=t,this.contentType=n||null}));function Rw(e,t){switch(e){case Dw.RAW:return new Pw(Lw(t));case Dw.BASE64:case Dw.BASE64URL:return new Pw(Mw(e,t));case Dw.DATA_URL:return new Pw(function(e){var t=new Fw(e);return t.base64?Mw(Dw.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(eD){throw yw(Dw.DATA_URL,"Malformed data URL.")}return Lw(t)}(t.rest)}(t),new Fw(t).contentType)}throw fw()}function Lw(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Mw(e,t){switch(e){case Dw.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw yw(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Dw.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw yw(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(eD){throw yw(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Fw=qn((function e(t){Bn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw yw(Dw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var jw=function(){function e(t,n){Bn(this,e);var r=0,i="";xw(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return qn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(xw(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Ew()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Ow.apply(null,i))}var a=n.map((function(e){return _w(e)?Rw(Dw.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Uw(e){var t;try{t=JSON.parse(e)}catch(eD){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Vw(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Bw(e,t){return t}var zw=qn((function e(t,n,r,i){Bn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Bw})),qw=null;function Hw(){if(qw)return qw;var e=[];e.push(new zw("bucket")),e.push(new zw("generation")),e.push(new zw("metageneration")),e.push(new zw("name","fullPath",!0));var t=new zw("name");t.xform=function(e,t){return function(e){return!_w(e)||e.length<2?e:Vw(e)}(t)},e.push(t);var n=new zw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new zw("timeCreated")),e.push(new zw("updated")),e.push(new zw("md5Hash",null,!0)),e.push(new zw("cacheControl",null,!0)),e.push(new zw("contentDisposition",null,!0)),e.push(new zw("contentEncoding",null,!0)),e.push(new zw("contentLanguage",null,!0)),e.push(new zw("contentType",null,!0)),e.push(new zw("metadata","customMetadata",!0)),qw=e}function Kw(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new bw(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ww(e,t,n){var r=Uw(t);return null===r?null:Kw(e,r,n)}function Gw(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function Qw(e,t,n){var r=Uw(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Vn(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new bw(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=Vn(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new bw(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var $w=qn((function e(t,n,r,i){Bn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Xw(e){if(!e)throw fw()}function Yw(e,t){return function(n,r){var i=Ww(e,r,t);return Xw(null!==i),i}}function Jw(e,t){return function(n,r){var i=Ww(e,r,t);return Xw(null!==i),function(e,t,n,r){var i=Uw(t);if(null===i)return null;if(!_w(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Sw("/b/"+o(i)+"/o/"+o(a),n,r)+Tw({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Zw(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new cw("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new cw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new cw("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new cw("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function e_(e){var t=Zw(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new cw("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function t_(e,t,n){var r=Sw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new $w(r,"GET",Yw(e,n),i);return a.errorHandler=e_(t),a}function n_(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Sw(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new $w(o,"GET",function(e,t){return function(n,r){var i=Qw(e,t,r);return Xw(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=Zw(t),u}function r_(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function i_(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=r_(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Gw(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=jw.getBlob(c,r,l);if(null===f)throw dw();var h={name:u.fullPath},d=Sw(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new $w(d,"POST",Yw(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Zw(t),v}var a_=qn((function e(t,n,r,i){Bn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function o_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(eD){Xw(!1)}return Xw(!!n&&-1!==(t||["active"]).indexOf(n)),n}var s_=262144;function u_(e,t,n,r,i,a,o,s){var u=new a_(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new cw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw dw();var v=t.maxUploadRetryTime,m=new $w(n,"POST",(function(e,n){var i,o=o_(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?Yw(t,a)(e,n):null,new a_(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Zw(e),m}var c_={STATE_CHANGED:"state_changed"},l_={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function f_(e){switch(e){case"running":case"pausing":case"canceling":return l_.RUNNING;case"paused":return l_.PAUSED;case"success":return l_.SUCCESS;case"canceled":return l_.CANCELED;default:return l_.ERROR}}var h_=qn((function e(t,n,r){Bn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function d_(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var p_=function(){function e(){var t=this;Bn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kw.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=kw.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=kw.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return qn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw gw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw gw("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw gw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(eD){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw gw("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw gw("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),v_=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(p_);function m_(){return new v_}var y_=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Bn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Hw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return qn(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=h(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=r_(t,r,i),s={name:o.fullPath},u=Sw(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Gw(o,n),f=e.maxUploadRetryTime,h=new $w(u,"POST",(function(e){var t;o_(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(eD){Xw(!1)}return Xw(_w(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Zw(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,m_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new $w(n,"POST",(function(e){var t=o_(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(eD){Xw(!1)}n||Xw(!1);var i=Number(n);return Xw(!isNaN(i)),new a_(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Zw(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,m_,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=s_*this._chunkMultiplier,n=new a_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=u_(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(eD){return e._error=eD,void e._transition("error")}var s=e._ref.storage._makeRequest(o,m_,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){s_*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=t_(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,m_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=i_(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,m_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=hw(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=f_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new h_(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(f_(this._state)){case l_.SUCCESS:d_(this._resolve.bind(null,this.snapshot))();break;case l_.CANCELED:case l_.ERROR:d_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(f_(this._state)){case l_.RUNNING:case l_.PAUSED:e.next&&d_(e.next.bind(e,this.snapshot))();break;case l_.SUCCESS:e.complete&&d_(e.complete.bind(e))();break;default:e.error&&d_(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),g_=function(){function e(t,n){Bn(this,e),this._service=t,this._location=n instanceof bw?n:bw.makeFromUrl(n,t.host)}return qn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new bw(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Vw(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new bw(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw mw(e)}}]),e}();function k_(e,t,n){return b_.apply(this,arguments)}function b_(){return(b_=s(a().mark((function e(t,n,r){var i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={pageToken:r},e.next=3,w_(t,s);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,Un(u.prefixes)),(o=n.items).push.apply(o,Un(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,k_(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w_(e,t){null!=t&&"number"===typeof t.maxResults&&Iw("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=n_(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,m_)}function __(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=Sw(t.fullServerUrl(),e.host,e._protocol),a=Gw(n,r),o=e.maxOperationRetryTime,s=new $w(i,"PATCH",Yw(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=e_(t),s}(e.storage,e._location,t,Hw());return e.storage.makeRequestWithTokens(n,m_)}function x_(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Sw(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new $w(r,"GET",Jw(e,n),i);return a.errorHandler=e_(t),a}(e.storage,e._location,Hw());return e.storage.makeRequestWithTokens(t,m_).then((function(e){if(null===e)throw new cw("no-download-url","The given file does not have any download URLs.");return e}))}function E_(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Sw(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new $w(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=e_(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,m_)}function I_(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new bw(e._location.bucket,n);return new g_(e.storage,r)}function S_(e,t){if(e instanceof A_){var n=e;if(null==n._bucket)throw new cw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new g_(n,n._bucket);return null!=t?S_(r,t):r}return void 0!==t?I_(e,t):e}function T_(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof A_)return new g_(e,t);throw pw("To use ref(service, url), the first argument must be a Storage instance.")}return S_(e,t)}function C_(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:bw.makeFromBucketSpec(n,e)}function N_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:ar(i,e.app.options.projectId))}var A_=function(){function e(t,n,r,i,a){Bn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=uw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bw.makeFromBucketSpec(i,this._host):C_(this._host,this.app.options)}return qn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=bw.makeFromBucketSpec(this._url,e):this._bucket=C_(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Iw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Iw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=s(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=s(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new g_(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new ww(vw());var a=function(e,t,n,r,i,a){var o=Tw(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Cw(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=h(r,2),o=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,o,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),O_="@firebase/storage",D_="0.9.7",P_="storage";function R_(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new y_(e,new jw(t),n)}(e=Sr(e),t,n)}function L_(e){return function(e){e._throwIfRoot("getMetadata");var t=t_(e.storage,e._location,Hw());return e.storage.makeRequestWithTokens(t,m_)}(e=Sr(e))}function M_(e){return function(e){var t={prefixes:[],items:[]};return k_(e,t).then((function(){return t}))}(e=Sr(e))}function F_(e,t){return T_(e=Sr(e),t)}function j_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};N_(e,t,n,r)}function U_(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new A_(r,i,a,n,bi)}di(new Tr(P_,U_,"PUBLIC").setMultipleInstances(!0)),Si(O_,D_,""),Si(O_,D_,"esm2017");function V_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var B_;Object.create;var z_="facebook.com",q_="github.com",H_="google.com",K_="password",W_="twitter.com",G_="EMAIL_SIGNIN",Q_="PASSWORD_RESET",$_="RECOVER_EMAIL",X_="REVERT_SECOND_FACTOR_ADDITION",Y_="VERIFY_AND_CHANGE_EMAIL",J_="VERIFY_EMAIL";function Z_(){return ve({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ex=function(){var e;return ve(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ve(e,"argument-error",""),ve(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ve(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ve(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ve(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ve(e,"cordova-not-ready","Cordova framework is not ready."),ve(e,"cors-unsupported","This browser is not supported."),ve(e,"credential-already-in-use","This credential is already associated with a different user account."),ve(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ve(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ve(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ve(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ve(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ve(e,"email-already-in-use","The email address is already in use by another account."),ve(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ve(e,"expired-action-code","The action code has expired."),ve(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ve(e,"internal-error","An internal AuthError has occurred."),ve(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ve(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ve(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ve(e,"invalid-auth-event","An internal AuthError has occurred."),ve(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ve(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ve(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ve(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ve(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ve(e,"invalid-email","The email address is badly formatted."),ve(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ve(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ve(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ve(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ve(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ve(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ve(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ve(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ve(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ve(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ve(e,"wrong-password","The password is invalid or the user does not have a password."),ve(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ve(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ve(e,"invalid-provider-id","The specified provider ID is invalid."),ve(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ve(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ve(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ve(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ve(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ve(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ve(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ve(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ve(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ve(e,"missing-continue-uri","A continue URL must be provided in the request."),ve(e,"missing-iframe-start","An internal AuthError has occurred."),ve(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ve(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ve(e,"missing-multi-factor-info","No second factor identifier is provided."),ve(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ve(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ve(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ve(e,"app-deleted","This instance of FirebaseApp has been deleted."),ve(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ve(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ve(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ve(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ve(e,"no-auth-event","An internal AuthError has occurred."),ve(e,"no-such-provider","User was not linked to an account with the given provider."),ve(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ve(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ve(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ve(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ve(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ve(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ve(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ve(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ve(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ve(e,"rejected-credential","The request contains malformed or mismatching credentials."),ve(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ve(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ve(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ve(e,"timeout","The operation has timed out."),ve(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ve(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ve(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ve(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ve(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ve(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ve(e,"unverified-email","The operation requires a verified email."),ve(e,"user-cancelled","The user did not grant your application the permissions it requested."),ve(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ve(e,"user-disabled","The user account has been disabled by an administrator."),ve(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ve(e,"user-signed-out",""),ve(e,"weak-password","The password must be 6 characters long or more."),ve(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ve(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},tx=Z_,nx=new pr("auth","Firebase",Z_()),rx=new jr("@firebase/auth");function ix(e){if(rx.logLevel<=Or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rx.error.apply(rx,["Auth (".concat(bi,"): ").concat(e)].concat(n))}}function ax(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cx.apply(void 0,[e].concat(n))}function ox(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cx.apply(void 0,[e].concat(n))}function sx(e,t,n){var r=Object.assign(Object.assign({},tx()),ve({},t,n));return new pr("auth","Firebase",r).create(t,{appName:e.name})}function ux(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ax(e,"argument-error"),sx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Un(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Un(o)))}return nx.create.apply(nx,[e].concat(n))}function lx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw cx.apply(void 0,[t].concat(r))}}function fx(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ix(t),new Error(t)}function hx(e,t){e||fx(t)}var dx=new Map;function px(e){hx(e instanceof Function,"Expected a class definition");var t=dx.get(e);return t?(hx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dx.set(e,t),t)}function vx(e,t){var n=pi(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(gr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;ax(r,"already-initialized")}return n.initialize({options:t})}function mx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yx(){return"http:"===gx()||"https:"===gx()}function gx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var kx=function(){function e(t,n){Bn(this,e),this.shortDelay=t,this.longDelay=n,hx(n>t,"Short delay should be less than long delay!"),this.isMobile=sr()||lr()}return qn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yx()||cr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function bx(e,t){hx(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var wx=function(){function e(){Bn(this,e)}return qn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void fx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void fx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void fx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),_x=(ve(B_={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ve(B_,"MISSING_CUSTOM_TOKEN","internal-error"),ve(B_,"INVALID_IDENTIFIER","invalid-email"),ve(B_,"MISSING_CONTINUE_URI","internal-error"),ve(B_,"INVALID_PASSWORD","wrong-password"),ve(B_,"MISSING_PASSWORD","internal-error"),ve(B_,"EMAIL_EXISTS","email-already-in-use"),ve(B_,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ve(B_,"INVALID_IDP_RESPONSE","invalid-credential"),ve(B_,"INVALID_PENDING_TOKEN","invalid-credential"),ve(B_,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ve(B_,"MISSING_REQ_TYPE","internal-error"),ve(B_,"EMAIL_NOT_FOUND","user-not-found"),ve(B_,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ve(B_,"EXPIRED_OOB_CODE","expired-action-code"),ve(B_,"INVALID_OOB_CODE","invalid-action-code"),ve(B_,"MISSING_OOB_CODE","internal-error"),ve(B_,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ve(B_,"INVALID_ID_TOKEN","invalid-user-token"),ve(B_,"TOKEN_EXPIRED","user-token-expired"),ve(B_,"USER_NOT_FOUND","user-token-expired"),ve(B_,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ve(B_,"INVALID_CODE","invalid-verification-code"),ve(B_,"INVALID_SESSION_INFO","invalid-verification-id"),ve(B_,"INVALID_TEMPORARY_PROOF","invalid-credential"),ve(B_,"MISSING_SESSION_INFO","missing-verification-id"),ve(B_,"SESSION_EXPIRED","code-expired"),ve(B_,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ve(B_,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ve(B_,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ve(B_,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ve(B_,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ve(B_,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ve(B_,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ve(B_,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ve(B_,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ve(B_,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ve(B_,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),B_),xx=new kx(3e4,6e4);function Ex(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ix(e,t,n,r){return Sx.apply(this,arguments)}function Sx(){return Sx=s(a().mark((function e(t,n,r,i){var o,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",Tx(t,o,s(a().mark((function e(){var o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},s={},i&&("GET"===n?s=i:o={body:JSON.stringify(i)}),u=br(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",wx.fetch()(Ox(t,t.config.apiHost,r,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Tx(e,t,n){return Cx.apply(this,arguments)}function Cx(){return Cx=s(a().mark((function e(t,n,r){var i,o,s,u,c,l,f,d,p,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},_x),n),e.prev=2,o=new Dx(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Px(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=h(l,2),d=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Px(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Px(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Px(t,"user-disabled",u);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw sx(t,v,p);case 34:ax(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof dr)){e.next=41;break}throw e.t0;case 41:ax(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Cx.apply(this,arguments)}function Nx(e,t,n,r){return Ax.apply(this,arguments)}function Ax(){return Ax=s(a().mark((function e(t,n,r,i){var o,s,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ix(t,n,r,i,o);case 3:return"mfaPendingCredential"in(s=e.sent)&&ax(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Ox(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Dx=function(){function e(t){var n=this;Bn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ox(n.auth,"network-request-failed"))}),xx.get())}))}return qn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Px(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ox(e,t,r);return i.customData._tokenResponse=n,i}function Rx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Mx(e,t){return Fx.apply(this,arguments)}function Fx(){return Fx=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function jx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(eD){}}function Bx(){return Bx=s(a().mark((function e(t){var n,r,i,o,s,u,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Sr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,lx((o=qx(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),s="object"===typeof o.firebase?o.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:Vx(zx(o.auth_time)),issuedAtTime:Vx(zx(o.iat)),expirationTime:Vx(zx(o.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function zx(e){return 1e3*Number(e)}function qx(e){var t=h(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ix("JWT malformed, contained fewer than 3 sections"),null;try{var a=tr(r);return a?JSON.parse(a):(ix("Failed to decode base64 JWT payload"),null)}catch(eD){return ix("Caught error parsing JWT payload as JSON",eD),null}}function Hx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=s(a().mark((function e(t,n){var r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof dr&&Wx(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Kx.apply(this,arguments)}function Wx(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Gx=function(){function e(t){Bn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return qn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qx=function(){function e(t,n){Bn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return qn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Vx(this.lastLoginAt),this.creationTime=Vx(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function $x(e){return Xx.apply(this,arguments)}function Xx(){return Xx=s(a().mark((function e(t){var n,r,i,o,s,u,c,l,f,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Hx(t,jx(r,{idToken:i}));case 6:lx(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),s=o.users[0],t._notifyReloadListener(s),u=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?Zx(s.providerUserInfo):[],c=Jx(t.providerData,u),l=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Qx(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Yx(){return(Yx=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sr(t),e.next=3,$x(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jx(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Un(n),Un(t))}function Zx(e){return e.map((function(e){var t=e.providerId,n=V_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tx(t,{},s(a().mark((function e(){var r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=br({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,o=i.tokenApiHost,s=i.apiKey,u=Ox(t,o,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",wx.fetch()(u,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}var nE=function(){function e(){Bn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return qn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){lx(e.idToken,"internal-error"),lx("undefined"!==typeof e.idToken,"internal-error"),lx("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=qx(e);return lx(t,"internal-error"),lx("undefined"!==typeof t.exp,"internal-error"),lx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=s(a().mark((function e(t){var n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],lx(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE(t,n);case 2:r=e.sent,i=r.accessToken,o=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(i,o,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return fx("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(lx("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(lx("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(lx("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function rE(e,t){lx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var iE=function(){function e(t){Bn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=V_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Un(a.providerData):[],this.metadata=new Qx(a.createdAt||void 0,a.lastLoginAt||void 0)}return qn(e,[{key:"getIdToken",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hx(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(lx(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Bx.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Yx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(lx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){lx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=s(a().mark((function e(t){var n,r,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,$x(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Hx(this,Rx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;lx(k&&x,t,"internal-error");var E=nE.fromJSON(this.name,x);lx("string"===typeof k,t,"internal-error"),rE(f,t.name),rE(h,t.name),lx("boolean"===typeof b,t,"internal-error"),lx("boolean"===typeof w,t,"internal-error"),rE(d,t.name),rE(p,t.name),rE(v,t.name),rE(m,t.name),rE(y,t.name),rE(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=s(a().mark((function t(n,r){var i,o,s,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(o=new nE).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,$x(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),aE=function(){function e(){Bn(this,e),this.type="NONE",this.storage={}}return qn(e,[{key:"_isAvailable",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();aE.type="NONE";var oE=aE;function sE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var uE=function(){function e(t,n,r){Bn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=sE(this.userKey,a.apiKey,o),this.fullPersistenceKey=sE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return qn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?iE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=s(a().mark((function t(n,r){var i,o,u,c,l,f,h,d,p,v,m,y=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(px(oE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),u=o[0]||px(oE),c=sE(i,n.config.apiKey,n.name),l=null,f=Vn(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(c);case 17:if(!(p=t.sent)){t.next=23;break}return v=iE._fromJSON(n,p),d!==u&&(l=v),u=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=o.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(u,n,i));case 40:if(u=m[0],!l){t.next=44;break}return t.next=44,u._set(c,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function cE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vE(t))return"Blackberry";if(mE(t))return"Webos";if(fE(t))return"Safari";if((t.includes("chrome/")||hE(t))&&!t.includes("edge/"))return"Chrome";if(pE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function lE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/firefox\//i.test(e)}function fE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/crios\//i.test(e)}function dE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/iemobile/i.test(e)}function pE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/android/i.test(e)}function vE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/blackberry/i.test(e)}function mE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/webos/i.test(e)}function yE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/iphone|ipad|ipod/i.test(e)}function gE(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return yE(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function kE(){return fr()&&10===document.documentMode}function bE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return yE(e)||pE(e)||mE(e)||vE(e)||/windows phone/i.test(e)||dE(e)}function wE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cE(or());break;case"Worker":t="".concat(cE(or()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bi,"/").concat(r)}var _E=function(){function e(t){Bn(this,e),this.auth=t,this.queue=[]}return qn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(eD){r(eD)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=s(a().mark((function e(t){var n,r,i,o,s,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Vn(this.queue),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=14;break}return s=o.value,e.next=11,s(t);case 11:s.onAbort&&r.push(s.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Vn(r);try{for(u.s();!(c=u.n()).done;){l=c.value;try{l()}catch(a){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),xE=function(){function e(t,n,r){Bn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new _E(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return qn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=px(t)),this._initializationPromise=this.queue(s(a().mark((function r(){var i,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,uE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=s(a().mark((function e(t){var n,r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(i=c.user,o=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return lx(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$x(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Sr(t):null)&&lx(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=s(a().mark((function e(t){var n,r=this,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&lx(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(px(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new pr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return lx(n=t&&px(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,uE.create(this,[px(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=s(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return lx(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return lx(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=s(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ve({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function EE(e){return Sr(e)}var IE=function(){function e(t){var n=this;Bn(this,e),this.auth=t,this.observer=null,this.addObserver=xr((function(e){return n.observer=e}))}return qn(e,[{key:"next",get:function(){return lx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function SE(e,t,n){var r=EE(e);lx(r._canInitEmulator,r,"emulator-config-failed"),lx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=TE(t),o=function(e){var t=TE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:CE(r.substr(a.length+1))}}var o=h(r.split(":"),2);return{host:o[0],port:CE(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function TE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function CE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var NE=function(){function e(t,n){Bn(this,e),this.providerId=t,this.signInMethod=n}return qn(e,[{key:"toJSON",value:function(){return fx("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return fx("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return fx("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return fx("not implemented")}}]),e}();function AE(e,t){return OE.apply(this,arguments)}function OE(){return OE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:resetPassword",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function DE(e,t){return PE.apply(this,arguments)}function PE(){return PE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function RE(e,t){return LE.apply(this,arguments)}function LE(){return LE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:update",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){return FE.apply(this,arguments)}function FE(){return FE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t,"POST","/v1/accounts:signInWithPassword",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function jE(e,t){return UE.apply(this,arguments)}function UE(){return UE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:sendOobCode",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t){return BE.apply(this,arguments)}function BE(){return BE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jE(t,n));case 1:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function zE(e,t){return qE.apply(this,arguments)}function qE(){return qE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jE(t,n));case 1:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function HE(e,t){return KE.apply(this,arguments)}function KE(){return KE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jE(t,n));case 1:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function WE(e,t){return GE.apply(this,arguments)}function GE(){return GE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jE(t,n));case 1:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e,t){return $E.apply(this,arguments)}function $E(){return $E=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t,"POST","/v1/accounts:signInWithEmailLink",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function XE(e,t){return YE.apply(this,arguments)}function YE(){return YE=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t,"POST","/v1/accounts:signInWithEmailLink",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}var JE=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Bn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return qn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ME(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",QE(t,{email:this._email,oobCode:this._password}));case 5:ax(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",DE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",XE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ax(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(NE);function ZE(e,t){return eI.apply(this,arguments)}function eI(){return eI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t,"POST","/v1/accounts:signInWithIdp",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}var tI=function(e){Kn(n,e);var t=$n(n);function n(){var e;return Bn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return qn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ZE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ZE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ZE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=br(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ax("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=V_(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(NE);function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:sendVerificationCode",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(){return iI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t,"POST","/v1/accounts:signInWithPhoneNumber",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(){return aI=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nx(t,"POST","/v1/accounts:signInWithPhoneNumber",Ex(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Px(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}var oI=ve({},"USER_NOT_FOUND","user-not-found");function sI(){return sI=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Nx(t,"POST","/v1/accounts:signInWithPhoneNumber",Ex(t,r),oI));case 2:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}var uI=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return qn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return iI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return aI.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return sI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(NE);var cI=function(){function e(t){var n,r,i,a,o,s;Bn(this,e);var u=wr(_r(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);lx(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return qn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=wr(_r(e)).link,n=t?wr(_r(t)).deep_link_id:null,r=wr(_r(e)).deep_link_id;return(r?wr(_r(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(hk){return null}}}]),e}();var lI=function(){function e(){Bn(this,e),this.providerId=e.PROVIDER_ID}return qn(e,null,[{key:"credential",value:function(e,t){return JE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=cI.parseLink(t);return lx(n,"argument-error"),JE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();lI.PROVIDER_ID="password",lI.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var fI=function(){function e(t){Bn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return qn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),hI=function(e){Kn(n,e);var t=$n(n);function n(){var e;return Bn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return qn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Un(this.scopes)}}]),n}(fI),dI=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return lx(e.idToken||e.accessToken,"argument-error"),tI._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return lx("providerId"in t&&"signInMethod"in t,"argument-error"),tI._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(eD){return null}}}]),n}(hI),pI=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.call(this,"facebook.com")}return qn(n,null,[{key:"credential",value:function(e){return tI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(hk){return null}}}]),n}(hI);pI.FACEBOOK_SIGN_IN_METHOD="facebook.com",pI.PROVIDER_ID="facebook.com";var vI=function(e){Kn(n,e);var t=$n(n);function n(){var e;return Bn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return qn(n,null,[{key:"credential",value:function(e,t){return tI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(hk){return null}}}]),n}(hI);vI.GOOGLE_SIGN_IN_METHOD="google.com",vI.PROVIDER_ID="google.com";var mI=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.call(this,"github.com")}return qn(n,null,[{key:"credential",value:function(e){return tI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(hk){return null}}}]),n}(hI);mI.GITHUB_SIGN_IN_METHOD="github.com",mI.PROVIDER_ID="github.com";var yI=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return qn(n,[{key:"_getIdTokenResponse",value:function(e){return ZE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ZE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ZE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(NE),gI=function(e){Kn(n,e);var t=$n(n);function n(e){return Bn(this,n),lx(e.startsWith("saml."),"argument-error"),t.call(this,e)}return qn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=yI.fromJSON(e);return lx(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return yI._create(r,n)}catch(eD){return null}}}]),n}(fI),kI=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.call(this,"twitter.com")}return qn(n,null,[{key:"credential",value:function(e,t){return tI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(hk){return null}}}]),n}(hI);function bI(e,t){return wI.apply(this,arguments)}function wI(){return wI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t,"POST","/v1/accounts:signUp",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}kI.TWITTER_SIGN_IN_METHOD="twitter.com",kI.PROVIDER_ID="twitter.com";var _I=function(){function e(t){Bn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return qn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=s(a().mark((function t(n,r,i){var o,s,u,c,l=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,iE._fromIdTokenResponse(n,i,o);case 3:return s=t.sent,u=xI(i),c=new e({user:s,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=s(a().mark((function t(n,r,i){var o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=xI(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function xI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function EI(){return EI=s(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new _I({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,bI(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,_I._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}var II=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a){var o,s;return Bn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Hn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return qn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(dr);function SI(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw II._fromErrorAndOperation(e,n,t,r);throw n}))}function TI(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function CI(e,t){return NI.apply(this,arguments)}function NI(){return NI=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sr(t),e.next=3,DI(!0,r,n);case 3:return e.t0=Mx,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,s=TI(o||[]),r.providerData=r.providerData.filter((function(e){return s.has(e.providerId)})),s.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function AI(e,t){return OI.apply(this,arguments)}function OI(){return OI=s(a().mark((function e(t,n){var r,i,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=Hx,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",_I._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function DI(e,t,n){return PI.apply(this,arguments)}function PI(){return(PI=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$x(n);case 2:i=TI(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",lx(i.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RI(e,t){return LI.apply(this,arguments)}function LI(){return LI=s(a().mark((function e(t,n){var r,i,o,s,u,c,l=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,o="reauthenticate",e.prev=3,e.next=6,Hx(t,SI(i,o,n,t),r);case 6:return lx((s=e.sent).idToken,i,"internal-error"),lx(u=qx(s.idToken),i,"internal-error"),c=u.sub,lx(t.uid===c,i,"user-mismatch"),e.abrupt("return",_I._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ax(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),LI.apply(this,arguments)}function MI(e,t){return FI.apply(this,arguments)}function FI(){return FI=s(a().mark((function e(t,n){var r,i,o,s,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,SI(t,i,n);case 4:return o=e.sent,e.next=7,_I._fromIdTokenResponse(t,i,o);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e,t){return UI.apply(this,arguments)}function UI(){return UI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",MI(EE(t),n));case 1:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function VI(e,t){return BI.apply(this,arguments)}function BI(){return(BI=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sr(t),e.next=3,DI(!1,r,n.providerId);case 3:return e.abrupt("return",AI(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t){return qI.apply(this,arguments)}function qI(){return(qI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RI(Sr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HI(e,t){return KI.apply(this,arguments)}function KI(){return KI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t,"POST","/v1/accounts:signInWithCustomToken",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function WI(){return WI=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EE(t),e.next=3,HI(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,_I._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}var GI=function(){function e(t,n){Bn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return qn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?QI._fromServerResponse(e,t):ax(e,"internal-error")}}]),e}(),QI=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return qn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(GI);function $I(e,t,n){var r;lx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),lx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(lx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(lx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function XI(){return XI=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sr(t),o={requestType:"PASSWORD_RESET",email:n},r&&$I(i,o,r),e.next=5,zE(i,o);case 5:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function YI(){return YI=s(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AE(Sr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function JI(){return JI=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RE(Sr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function ZI(e,t){return eS.apply(this,arguments)}function eS(){return eS=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sr(t),e.next=3,AE(r,{oobCode:n});case 3:i=e.sent,lx(o=i.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return lx(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:lx(i.mfaInfo,r,"internal-error");case 13:lx(i.email,r,"internal-error");case 14:return s=null,i.mfaInfo&&(s=GI._fromServerResponse(EE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:o});case 17:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(){return tS=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZI(Sr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t,n){return rS.apply(this,arguments)}function rS(){return rS=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EE(t),e.next=3,bI(i,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,_I._fromIdTokenResponse(i,"signIn",o);case 6:return s=e.sent,e.next=9,i._updateCurrentUser(s.user);case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t,n){return jI(Sr(e),lI.credential(t,n))}function aS(){return aS=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sr(t),o={requestType:"EMAIL_SIGNIN",email:n},lx(r.handleCodeInApp,i,"argument-error"),r&&$I(i,o,r),e.next=6,HE(i,o);case 6:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(){return oS=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sr(t),lx((o=lI.credentialWithLink(n,r||mx()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",jI(i,o));case 4:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e,t){return uS.apply(this,arguments)}function uS(){return uS=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:createAuthUri",Ex(t,n)));case 1:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function cS(){return cS=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yx()?mx():"http://localhost",i={identifier:n,continueUri:r},e.next=4,sS(Sr(t),i);case 4:return o=e.sent,s=o.signinMethods,e.abrupt("return",s||[]);case 7:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(){return(lS=s(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_EMAIL",idToken:i},n&&$I(r.auth,o,n),e.next=8,VE(r.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fS(){return(fS=s(a().mark((function e(t,n,r){var i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sr(t),e.next=3,t.getIdToken();case 3:return o=e.sent,s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&$I(i.auth,s,r),e.next=8,WE(i.auth,s);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hS(e,t){return dS.apply(this,arguments)}function dS(){return dS=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ix(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(){return(pS=s(a().mark((function e(t,n){var r,i,o,s,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=Sr(t),e.next=6,o.getIdToken();case 6:return s=e.sent,u={idToken:s,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Hx(o,hS(o.auth,u));case 10:return c=e.sent,o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null,(l=o.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=o.displayName,l.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vS(e,t,n){return mS.apply(this,arguments)}function mS(){return mS=s(a().mark((function e(t,n,r){var i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,s={idToken:o,returnSecureToken:!0},n&&(s.email=n),r&&(s.password=r),e.next=9,Hx(t,DE(i,s));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}var yS=qn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Bn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),gS=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a){var o;return Bn(this,n),(o=t.call(this,e,r,i)).username=a,o}return qn(n)}(yS),kS=function(e){Kn(n,e);var t=$n(n);function n(e,r){return Bn(this,n),t.call(this,e,"facebook.com",r)}return qn(n)}(yS),bS=function(e){Kn(n,e);var t=$n(n);function n(e,r){return Bn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return qn(n)}(gS),wS=function(e){Kn(n,e);var t=$n(n);function n(e,r){return Bn(this,n),t.call(this,e,"google.com",r)}return qn(n)}(yS),_S=function(e){Kn(n,e);var t=$n(n);function n(e,r,i){return Bn(this,n),t.call(this,e,"twitter.com",r,i)}return qn(n)}(gS);function xS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=qx(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new yS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new kS(a,i);case"github.com":return new bS(a,i);case"google.com":return new wS(a,i);case"twitter.com":return new _S(a,i,e.screenName||null);case"custom":case"anonymous":return new yS(a,null);default:return new yS(a,r,i)}}(n)}var ES=function(){function e(t,n){Bn(this,e),this.type=t,this.credential=n}return qn(e,[{key:"toJSON",value:function(){return{multiFactorSession:ve({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),IS=function(){function e(t,n,r){Bn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return qn(e,[{key:"resolveSignIn",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=EE(t),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map((function(e){return GI._fromServerResponse(r,e)}));lx(i.mfaPendingCredential,r,"internal-error");var u=ES._fromMfaPendingCredential(i.mfaPendingCredential);return new e(u,o,function(){var e=s(a().mark((function e(t){var o,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,u);case 2:o=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,_I._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return lx(n.user,r,"internal-error"),e.abrupt("return",_I._forOperation(n.user,n.operationType,s));case 17:ax(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function SS(e,t){return Ix(e,"POST","/v2/accounts/mfaEnrollment:start",Ex(e,t))}function TS(e,t){return Ix(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ex(e,t))}var CS=function(){function e(t){var n=this;Bn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return GI._fromServerResponse(t.auth,e)})))}))}return qn(e,[{key:"getSession",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ES,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Hx(this.user,r._process(this.user.auth,i,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=s(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Hx(this.user,TS(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),NS=new WeakMap;var AS="__sak",OS=function(){function e(t,n){Bn(this,e),this.storageRetriever=t,this.type=n}return qn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(AS,"1"),this.storage.removeItem(AS),Promise.resolve(!0)):Promise.resolve(!1)}catch(hk){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var DS=function(e){Kn(n,e);var t=$n(n);function n(){var e;return Bn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=or();return fE(e)||yE(e)}()&&function(){try{return!(!window||window===window.top)}catch(eD){return!1}}(),e.fallbackToPolling=bE(),e._shouldAllowMigration=!0,e}return qn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);kE()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=s(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Wn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Wn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Wn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(OS);DS.type="LOCAL";var PS=DS,RS=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return qn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(OS);RS.type="SESSION";var LS=RS;function MS(e){return Promise.all(e.map(function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var FS=function(){function e(t){Bn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return qn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=s(a().mark((function e(t){var n,r,i,o,u,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,o=r.eventType,u=r.data,null===(c=this.handlersMap[o])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:o}),l=Array.from(c).map(function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,MS(l);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function jS(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}FS.receivers=[];var US=function(){function e(t){Bn(this,e),this.target=t,this.handlers=new Set}return qn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=s(a().mark((function e(t,n){var r,i,o,s,u=this,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,a){var c=jS("",20);i.port1.start();var l=setTimeout((function(){a(new Error("unsupported_event"))}),r);s={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),a(new Error("invalid_response"))}}},u.handlers.add(s),i.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function VS(){return window}function BS(){return"undefined"!==typeof VS().WorkerGlobalScope&&"function"===typeof VS().importScripts}function zS(){return qS.apply(this,arguments)}function qS(){return(qS=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function HS(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var KS="firebaseLocalStorageDb",WS="firebaseLocalStorage",GS="fbase_key",QS=function(){function e(t){Bn(this,e),this.request=t}return qn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $S(e,t){return e.transaction([WS],t?"readwrite":"readonly").objectStore(WS)}function XS(){var e=indexedDB.deleteDatabase(KS);return new QS(e).toPromise()}function YS(){var e=indexedDB.open(KS,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(WS,{keyPath:GS})}catch(eD){n(eD)}})),e.addEventListener("success",s(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(WS)){n.next=12;break}return r.close(),n.next=5,XS();case 5:return n.t0=t,n.next=8,YS();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function JS(e,t,n){return ZS.apply(this,arguments)}function ZS(){return ZS=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=$S(t,!0).put((ve(i={},GS,n),ve(i,"value",r),i)),e.abrupt("return",new QS(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=s(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$S(t,!1).get(n),e.next=3,new QS(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){var n=$S(e,!0).delete(t);return new QS(n).toPromise()}var rT=function(){function e(){Bn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return qn(e,[{key:"_openDb",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,YS();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BS()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=s(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=FS._getInstance(BS()?self:null),this.receiver._subscribe("keyChanged",function(){var e=s(a().mark((function e(n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=s(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zS();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new US(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&HS()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,YS();case 5:return t=e.sent,e.next=8,JS(t,AS,"1");case 8:return e.next=10,nT(t,AS);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=s(a().mark((function e(t,n){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return JS(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return eT(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=s(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return nT(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=s(a().mark((function e(){var t,n,r,i,o,s,u,c,l,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$S(e,!1).getAll();return new QS(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Vn(t);try{for(i.s();!(o=i.n()).done;)s=o.value,u=s.fbase_key,c=s.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(a){i.e(a)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();rT.type="LOCAL";var iT=rT;function aT(e,t){return Ix(e,"POST","/v2/accounts/mfaSignIn:start",Ex(e,t))}function oT(e){return sT.apply(this,arguments)}function sT(){return sT=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ix(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}function uT(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ox("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function cT(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var lT=1e12,fT=function(){function e(t){Bn(this,e),this.auth=t,this.counter=lT,this._widgets=new Map}return qn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new hT(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||lT;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||lT;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||lT,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hT=function(){function e(t,n,r){var i=this;Bn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;lx(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return qn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(eD){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(eD){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var dT=cT("rcb"),pT=new kx(3e4,6e4),vT="https://www.google.com/recaptcha/api.js?",mT=function(){function e(){Bn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!VS().grecaptcha}return qn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return lx(yT(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(VS().grecaptcha):new Promise((function(r,i){var a=VS().setTimeout((function(){i(ox(e,"network-request-failed"))}),pT.get());VS()[dT]=function(){VS().clearTimeout(a),delete VS()[dT];var o=VS().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ox(e,"internal-error"))},uT("".concat(vT,"?").concat(br({onload:dT,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ox(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!VS().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function yT(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var gT=function(){function e(){Bn(this,e)}return qn(e,[{key:"load",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new fT(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),kT="recaptcha",bT={theme:"light",type:"image"},wT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},bT),r=arguments.length>2?arguments[2]:void 0;Bn(this,e),this.parameters=n,this.type=kT,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=EE(r),this.isInvisible="invisible"===this.parameters.size,lx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;lx(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gT:new mT,this.validateStartingState()}return qn(e,[{key:"verify",value:function(){var e=s(a().mark((function e(){var t,n,r,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(eD){return Promise.reject(eD)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){lx(!this.parameters.sitekey,this.auth,"argument-error"),lx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),lx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=VS()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){lx(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=s(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lx(yx()&&!BS(),this.auth,"internal-error"),e.next=3,_T();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,oT(this.auth);case 8:lx(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return lx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function _T(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var xT=function(){function e(t,n){Bn(this,e),this.verificationId=t,this.onConfirmation=n}return qn(e,[{key:"confirm",value:function(e){var t=uI._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ET(){return ET=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EE(t),e.next=3,CT(i,n,Sr(r));case 3:return o=e.sent,e.abrupt("return",new xT(o,(function(e){return jI(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function IT(e,t,n){return ST.apply(this,arguments)}function ST(){return(ST=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sr(t),e.next=3,DI(!1,i,"phone");case 3:return e.next=5,CT(i.auth,n,Sr(r));case 5:return o=e.sent,e.abrupt("return",new xT(o,(function(e){return VI(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TT(){return(TT=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sr(t),e.next=3,CT(i.auth,n,Sr(r));case 3:return o=e.sent,e.abrupt("return",new xT(o,(function(e){return zI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CT(e,t,n){return NT.apply(this,arguments)}function NT(){return NT=s(a().mark((function e(t,n,r){var i,o,s,u,c,l,f,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,lx("string"===typeof o,t,"argument-error"),lx(r.type===kT,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return lx("enroll"===u.type,t,"internal-error"),e.next=13,SS(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return lx("signin"===u.type,t,"internal-error"),lx(l=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,aT(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,nI(t,{phoneNumber:s.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),NT.apply(this,arguments)}function AT(){return(AT=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AI(Sr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OT=function(){function e(t){Bn(this,e),this.providerId=e.PROVIDER_ID,this.auth=EE(t)}return qn(e,[{key:"verifyPhoneNumber",value:function(e,t){return CT(this.auth,e,Sr(t))}}],[{key:"credential",value:function(e,t){return uI._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?uI._fromTokenResponse(n,r):null}}]),e}();function DT(e,t){return t?px(t):(lx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}OT.PROVIDER_ID="phone",OT.PHONE_SIGN_IN_METHOD="phone";var PT=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return qn(n,[{key:"_getIdTokenResponse",value:function(e){return ZE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ZE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ZE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(NE);function RT(e){return MI(e.auth,new PT(e),e.bypassAuthState)}function LT(e){var t=e.auth,n=e.user;return lx(n,t,"internal-error"),RI(n,new PT(e),e.bypassAuthState)}function MT(e){return FT.apply(this,arguments)}function FT(){return FT=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,lx(r=t.user,n,"internal-error"),e.abrupt("return",AI(r,new PT(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),FT.apply(this,arguments)}var jT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Bn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return qn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=s(a().mark((function t(n,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=s(a().mark((function e(t){var n,r,i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,s=t.error,u=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RT;case"linkViaPopup":case"linkViaRedirect":return MT;case"reauthViaPopup":case"reauthViaRedirect":return LT;default:ax(this.auth,"internal-error")}}},{key:"resolve",value:function(e){hx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){hx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),UT=new kx(2e3,1e4);function VT(e,t,n){return BT.apply(this,arguments)}function BT(){return BT=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EE(t),ux(t,n,fI),o=DT(i,r),s=new KT(i,"signInViaPopup",n,o),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}function zT(){return(zT=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ux((i=Sr(t)).auth,n,fI),o=DT(i.auth,r),s=new KT(i.auth,"reauthViaPopup",n,o,i),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qT(e,t,n){return HT.apply(this,arguments)}function HT(){return(HT=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ux((i=Sr(t)).auth,n,fI),o=DT(i.auth,r),s=new KT(i.auth,"linkViaPopup",n,o,i),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KT=function(e){Kn(n,e);var t=$n(n);function n(e,r,i,a,o){var s;return Bn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Hn(s),s}return qn(n,[{key:"executeNotNull",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return lx(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=s(a().mark((function e(){var t,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hx(1===this.filter.length,"Popup operations only handle one event"),t=jS(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ox(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ox(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ox(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,UT.get())}()}}]),n}(jT);KT.currentPopupAction=null;var WT=new Map,GT=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Bn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return qn(n,[{key:"execute",value:function(){var e=s(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=WT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,QT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Hi(Wn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:WT.set(this.auth._key(),t);case 21:return this.bypassAuthState||WT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=s(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Hi(Wn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Hi(Wn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(jT);function QT(e,t){return $T.apply(this,arguments)}function $T(){return $T=s(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eC(n),i=ZT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function XT(e,t){return YT.apply(this,arguments)}function YT(){return YT=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZT(t)._set(eC(n),"true"));case 1:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function JT(e,t){WT.set(e._key(),t)}function ZT(e){return px(e._redirectPersistence)}function eC(e){return sE("pendingRedirect",e.config.apiKey,e.name)}function tC(e,t,n){return function(e,t,n){return nC.apply(this,arguments)}(e,t,n)}function nC(){return nC=s(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EE(t),ux(t,n,fI),o=DT(i,r),e.next=5,XT(o,i);case 5:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t,n){return function(e,t,n){return iC.apply(this,arguments)}(e,t,n)}function iC(){return(iC=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ux((i=Sr(t)).auth,n,fI),o=DT(i.auth,r),e.next=5,XT(o,i.auth);case 5:return e.next=7,fC(i);case 7:return s=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",s));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aC(e,t,n){return function(e,t,n){return oC.apply(this,arguments)}(e,t,n)}function oC(){return(oC=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ux((i=Sr(t)).auth,n,fI),o=DT(i.auth,r),e.next=5,DI(!1,i,n.providerId);case 5:return e.next=7,XT(o,i.auth);case 7:return e.next=9,fC(i);case 9:return s=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",s));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sC(e,t){return uC.apply(this,arguments)}function uC(){return uC=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EE(t)._initializationPromise;case 2:return e.abrupt("return",cC(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=s(a().mark((function e(t,n){var r,i,o,s,u,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=EE(t),o=DT(i,n),s=new GT(i,o,r),e.next=6,s.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e){return hC.apply(this,arguments)}function hC(){return(hC=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jS("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dC=function(){function e(t){Bn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return qn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!vC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ox(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pC(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(pC(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function pC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function vC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function mC(e){return yC.apply(this,arguments)}function yC(){return yC=s(a().mark((function e(t){var n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ix(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}var gC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kC=/^https?/;function bC(){return bC=s(a().mark((function e(t){var n,r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mC(t);case 4:n=e.sent,r=n.authorizedDomains,i=Vn(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(s=o.value,e.prev=11,!wC(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ax(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),bC.apply(this,arguments)}function wC(e){var t=mx(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!kC.test(r))return!1;if(gC.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var _C=new kx(3e4,6e4);function xC(){var e=VS().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Un(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var EC=null;function IC(e){return EC=EC||function(e){return new Promise((function(t,n){var r,i,a;function o(){xC(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){xC(),n(ox(e,"network-request-failed"))},timeout:_C.get()})}if(null===(i=null===(r=VS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=VS().gapi)||void 0===a?void 0:a.load)){var s=cT("iframefcb");return VS()[s]=function(){gapi.load?o():n(ox(e,"network-request-failed"))},uT("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw EC=null,e}))}(e),EC}var SC=new kx(5e3,15e3),TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(e){var t=e.config;lx(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:bi},i=CC.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(br(r).slice(1))}function AC(e){return OC.apply(this,arguments)}function OC(){return OC=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IC(t);case 2:return n=e.sent,lx(r=VS().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:NC(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},(function(e){return new Promise(function(){var n=s(a().mark((function n(r,i){var o,s,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){VS().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=ox(t,"network-request-failed"),s=VS().setTimeout((function(){i(o)}),SC.get()),e.ping(u).then(u,(function(){i(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}var DC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC="_blank",RC="http://localhost",LC=function(){function e(t){Bn(this,e),this.window=t,this.associatedEvent=null}return qn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(eD){}}}]),e}();function MC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},DC),{width:r.toString(),height:i.toString(),top:a,left:o}),c=or().toLowerCase();n&&(s=hE(c)?PC:n),lE(c)&&(t=t||RC,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(gE(c)&&"_self"!==s)return FC(t||"",s),new LC(null);var f=window.open(t||"",s,l);lx(f,e,"popup-blocked");try{f.focus()}catch(eD){}return new LC(f)}function FC(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jC="__/auth/handler",UC="emulator/auth/handler";function VC(e,t,n,r,i,a){lx(e.config.authDomain,e,"auth-domain-config-required"),lx(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bi,eventId:i};if(t instanceof fI){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=h(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof hI){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(jC);return bx(t,UC)}(e),"?").concat(br(p).slice(1))}var BC="webStorageSupport",zC=function(){function e(){Bn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=cC,this._overrideRedirectResult=JT}return qn(e,[{key:"_openPopup",value:function(){var e=s(a().mark((function e(t,n,r,i){var o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hx(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),s=VC(t,n,r,mx(),i),e.abrupt("return",MC(t,s,jS()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=s(a().mark((function e(t,n,r,i){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=VC(t,n,r,mx(),i),VS().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(hx(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AC(t);case 2:return n=e.sent,r=new dC(t),n.register("authEvent",(function(e){return lx(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(BC,{type:BC},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ax(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return bE()||fE()||yE()}}]),e}(),qC=zC,HC=function(){function e(t){Bn(this,e),this.factorId=t}return qn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return fx("unexpected MultiFactorSessionType")}}}]),e}(),KC=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this,"phone")).credential=e,r}return qn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ix(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ex(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ix(e,"POST","/v2/accounts/mfaSignIn:finalize",Ex(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(HC),WC=function(){function e(){Bn(this,e)}return qn(e,null,[{key:"assertion",value:function(e){return KC._fromCredential(e)}}]),e}();WC.FACTOR_ID="phone";var GC,QC="@firebase/auth",$C="0.20.3",XC=function(){function e(t){Bn(this,e),this.auth=t,this.internalListeners=new Map}return qn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){lx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();GC="Browser",di(new Tr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){lx(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),lx(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:GC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(GC)},i=new xE(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(px);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),di(new Tr("auth-internal",(function(e){return function(e){return new XC(e)}(EE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Si(QC,$C,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(GC)),Si(QC,$C,"esm2017");var YC,JC=wi({apiKey:"AIzaSyC_b3m9Xeify9CAhuNmM0SVXVLfKWzjxEk",authDomain:"assisalesboxai.firebaseapp.com",projectId:"assisalesboxai",storageBucket:"assisalesboxai.appspot.com",messagingSenderId:"156817388685",appId:"1:156817388685:web:ddb90ef5021fcf9c8c9ec4",measurementId:"G-9HTXPN4CKJ"}),ZC=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i(),t=arguments.length>1?arguments[1]:void 0,n=pi(e=Sr(e),P_),r=n.getImmediate({identifier:t})}(JC),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();pi(e,"firestore").getImmediate()}(JC),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i(),t=pi(e,"auth");return t.isInitialized()?t.getImmediate():vx(e,{popupRedirectResolver:qC,persistence:[iT,PS,LS]})}(JC)),eN=function(){function e(t,n){var r=this;Bn(this,e),this._delegate=t,this.firebase=n,fi(t,new Tr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return qn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ei(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){fi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){hi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),tN=(ve(YC={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ve(YC,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),YC),nN=new pr("app-compat","Firebase",tN);var rN=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(yr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Si,setLogLevel:Ci,onLog:Ti,apps:null,SDK_VERSION:bi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(di(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw nN.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&nr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!yr(n,e=e||si))throw nN.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(eN);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){nr(n,e)},createSubscribe:xr,ErrorFactory:pr,deepExtend:nr}),n}(),iN=new jr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){iN.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var aN=self.firebase.SDK_VERSION;aN&&aN.indexOf("LITE")>=0&&iN.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var oN=rN;!function(e){Si("@firebase/app-compat","0.1.27",e)}();function sN(){return window}oN.registerVersion("firebase","9.8.3","app-compat");function uN(e,t,n){return cN.apply(this,arguments)}function cN(){return cN=s(a().mark((function e(t,n,r){var i,o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=sN(),s=o.BuildInfo,hx(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,vN(n.sessionId);case 4:return u=e.sent,c={},yE()?c.ibi=s.packageName:pE()?c.apn=s.packageName:ax(t,"operation-not-supported-in-this-environment"),s.displayName&&(c.appDisplayName=s.displayName),c.sessionId=u,e.abrupt("return",VC(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)}))),cN.apply(this,arguments)}function lN(){return lN=s(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sN(),r=n.BuildInfo,i={},yE()?i.iosBundleId=r.packageName:pE()?i.androidPackageName=r.packageName:ax(t,"operation-not-supported-in-this-environment"),e.next=5,mC(t,i);case 5:case"end":return e.stop()}}),e)}))),lN.apply(this,arguments)}function fN(e){var t=sN().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function hN(e,t,n){return dN.apply(this,arguments)}function dN(){return dN=s(a().mark((function e(t,n,r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sN(),o=i.cordova,s=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var a=null;function u(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){a||(a=window.setTimeout((function(){i(ox(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),pE()&&document.addEventListener("visibilitychange",l,!1),s=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}));case 5:return e.prev=5,s(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),dN.apply(this,arguments)}function pN(e){var t,n,r,i,a,o,s,u,c,l,f=sN();lx("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),lx("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),lx("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),lx("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),lx("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function vN(e){return mN.apply(this,arguments)}function mN(){return(mN=s(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yN(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yN(e){if(hx(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var gN=function(e){Kn(n,e);var t=$n(n);function n(){var e;return Bn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return qn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Hi(Wn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(dC);function kN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:EN(),postBody:null,tenantId:e.tenantId,error:ox(e,"no-auth-event")}}function bN(e,t){return IN()._set(SN(e),t)}function wN(e){return _N.apply(this,arguments)}function _N(){return _N=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IN()._get(SN(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,IN()._remove(SN(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),_N.apply(this,arguments)}function xN(e,t){var n,r,i=function(e){var t=TN(e),n=t.link?decodeURIComponent(t.link):void 0,r=TN(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return TN(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=TN(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(eD){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ox(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function EN(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function IN(){return px(PS)}function SN(e){return sE("authEvent",e.config.apiKey,e.name)}function TN(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=u(t=n)||jn(t)||l(t)||f();r[0];return wr(r.slice(1).join("?"))}var CN=function(){function e(){Bn(this,e),this._redirectPersistence=LS,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cC,this._overrideRedirectResult=JT}return qn(e,[{key:"_initialize",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new gN(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ax(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=s(a().mark((function e(t,n,r,i){var o,s,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pN(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),WT.clear(),e.next=10,this._originValidation(t);case 10:return s=kN(t,r,i),e.next=13,bN(t,s);case 13:return e.next=15,uN(t,s,n);case 15:return u=e.sent,e.next=18,fN(u);case 18:return c=e.sent,e.abrupt("return",hN(t,o,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return lN.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=sN(),r=n.universalLinks,i=n.handleOpenURL,o=n.BuildInfo,u=setTimeout(s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wN(e);case 2:t.onEvent(AN());case 3:case"end":return n.stop()}}),n)}))),500),c=function(){var n=s(a().mark((function n(r){var i,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,wN(e);case 3:i=n.sent,o=null,i&&(null===r||void 0===r?void 0:r.url)&&(o=xN(i,r.url)),t.onEvent(o||AN());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,c);var l=i,f="".concat(o.packageName.toLowerCase(),"://");sN().handleOpenURL=function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(eD){console.error(eD)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),NN=CN;function AN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ox("no-auth-event")}}function ON(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function DN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return!("file:"!==ON()&&"ionic:"!==ON()&&"capacitor:"!==ON()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function PN(){return fr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function RN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return/Edge\/\d+/.test(e)}function LN(){try{var e=self.localStorage,t=jS();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or();return PN()||RN(e)}()||hr()}catch(eD){return MN()&&hr()}return!1}function MN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function FN(){return("http:"===ON()||"https:"===ON()||cr()||DN())&&!(lr()||ur())&&LN()&&!MN()}function jN(){return DN()&&"undefined"!==typeof document}function UN(){return VN.apply(this,arguments)}function VN(){return(VN=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jN()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var BN={LOCAL:"local",NONE:"none",SESSION:"session"},zN=lx,qN="persistence";function HN(e,t){zN(Object.values(BN).includes(t),e,"invalid-persistence-type"),lr()?zN(t!==BN.SESSION,e,"unsupported-persistence-type"):ur()?zN(t===BN.NONE,e,"unsupported-persistence-type"):MN()?zN(t===BN.NONE||t===BN.LOCAL&&hr(),e,"unsupported-persistence-type"):zN(t===BN.NONE||LN(),e,"unsupported-persistence-type")}function KN(e){return WN.apply(this,arguments)}function WN(){return WN=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=GN(),r=sE(qN,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),WN.apply(this,arguments)}function GN(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(eD){return null}}var QN=lx,$N=function(){function e(){Bn(this,e),this.browserResolver=px(qC),this.cordovaResolver=px(NN),this.underlyingResolver=null,this._redirectPersistence=LS,this._completeRedirectFn=cC,this._overrideRedirectResult=JT}return qn(e,[{key:"_initialize",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=s(a().mark((function e(t,n,r,i){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=s(a().mark((function e(t,n,r,i){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return jN()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return QN(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,UN();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function XN(e){return e.unwrap()}function YN(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new nA(e,function(e,t){var n,r=Sr(e),i=t;return lx(t.customData.operationType,r,"argument-error"),lx(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),IS._fromError(r,i)}(e,t));else if(r){var i=JN(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function JN(e){var t=(e instanceof dr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof dr)&&"temporaryProof"in t&&"phoneNumber"in t)return OT.credentialFromResult(e);var n,r=t.providerId;if(!r||r===K_)return null;switch(r){case H_:n=vI;break;case z_:n=pI;break;case q_:n=mI;break;case W_:n=kI;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?yI._create(r,s):tI._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new dI(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof dr?n.credentialFromError(e):n.credentialFromResult(e)}function ZN(e,t){return t.catch((function(t){throw t instanceof dr&&YN(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,JN(t)),additionalUserInfo:xS(e),user:rA.getOrCreate(r)}}))}function eA(e,t){return tA.apply(this,arguments)}function tA(){return tA=s(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ZN(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}var nA=function(){function e(t,n){Bn(this,e),this.resolver=n,this.auth=t.wrapped()}return qn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ZN(XN(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),rA=function(){function e(t){Bn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Sr(e);return NS.has(t)||NS.set(t,CS._fromUser(t)),NS.get(t)}(t)}return qn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZN(this.auth,VI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eA(this.auth,IT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZN(this.auth,qT(this._delegate,t,$N)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KN(EE(this.auth));case 2:return e.abrupt("return",aC(this._delegate,t,$N));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZN(this.auth,zI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return eA(this.auth,function(e,t,n){return TT.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ZN(this.auth,function(e,t,n){return zT.apply(this,arguments)}(this._delegate,e,$N))}},{key:"reauthenticateWithRedirect",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KN(EE(this.auth));case 2:return e.abrupt("return",rC(this._delegate,t,$N));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return lS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CI(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return vS(Sr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return vS(Sr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return AT.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return pS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return fS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();rA.USER_MAP=new WeakMap;var iA=lx,aA=function(){function e(t,n){if(Bn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;iA(r,"invalid-api-key",{appName:t.name}),iA(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?$N:void 0;this._delegate=n.initialize({options:{persistence:sA(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ex),this.linkUnderlyingAuth()}return qn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?rA.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){SE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return JI.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ZI(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return YI.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=s(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZN(this._delegate,nS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return cS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=cI.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=s(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iA(FN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sC(this._delegate,$N);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ZN(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){EE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=oA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=oA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return aS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return XI.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=s(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HN(this._delegate,t),e.t0=t,e.next=e.t0===BN.SESSION?4:e.t0===BN.LOCAL?6:e.t0===BN.NONE?11:13;break;case 4:return n=LS,e.abrupt("break",14);case 6:return e.next=8,px(iT)._isAvailable();case 8:return r=e.sent,n=r?iT:PS,e.abrupt("break",14);case 11:return n=oE,e.abrupt("break",14);case 13:return e.abrupt("return",ax("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ZN(this._delegate,function(e){return EI.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ZN(this._delegate,jI(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ZN(this._delegate,function(e,t){return WI.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ZN(this._delegate,iS(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ZN(this._delegate,function(e,t,n){return oS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return eA(this._delegate,function(e,t,n){return ET.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iA(FN(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ZN(this._delegate,VT(this._delegate,t,$N)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iA(FN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,KN(this._delegate);case 3:return e.abrupt("return",tC(this._delegate,t,$N));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return tS.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function oA(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&rA.getOrCreate(e))},error:t,complete:n}}function sA(e,t){var n=function(e,t){var n=GN();if(!n)return[];var r=sE(qN,e,t);switch(n.getItem(r)){case BN.NONE:return[oE];case BN.LOCAL:return[iT,LS];case BN.SESSION:return[LS];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(iT)||n.push(iT),"undefined"!==typeof window)for(var r=0,i=[PS,LS];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(oE)||n.push(oE),n}aA.Persistence=BN;var uA=function(){function e(){Bn(this,e),this.providerId="phone",this._delegate=new OT(XN(oN.auth()))}return qn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return OT.credential(e,t)}}]),e}();uA.PHONE_SIGN_IN_METHOD=OT.PHONE_SIGN_IN_METHOD,uA.PROVIDER_ID=OT.PROVIDER_ID;var cA,lA=lx,fA=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oN.app();Bn(this,e),lA(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new wT(t,n,i.auth()),this.type=this._delegate.type}return qn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(cA=oN).INTERNAL.registerComponent(new Tr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new aA(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G_,PASSWORD_RESET:Q_,RECOVER_EMAIL:$_,REVERT_SECOND_FACTOR_ADDITION:X_,VERIFY_AND_CHANGE_EMAIL:Y_,VERIFY_EMAIL:J_}},EmailAuthProvider:lI,FacebookAuthProvider:pI,GithubAuthProvider:mI,GoogleAuthProvider:vI,OAuthProvider:dI,SAMLAuthProvider:gI,PhoneAuthProvider:uA,PhoneMultiFactorGenerator:WC,RecaptchaVerifier:fA,TwitterAuthProvider:kI,Auth:aA,AuthCredential:NE,Error:dr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),cA.registerVersion("@firebase/auth-compat","0.2.16");function hA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function dA(){if("undefined"===typeof Uint8Array)throw new gc("unimplemented","Uint8Arrays are not available in this environment.")}function pA(){if("undefined"==typeof atob)throw new gc("unimplemented","Blobs are unavailable in Firestore in this environment.")}var vA=function(){function e(t){Bn(this,e),this._delegate=t}return qn(e,[{key:"toBase64",value:function(){return pA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return dA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return pA(),new e(qk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return dA(),new e(qk.fromUint8Array(t))}}]),e}();function mA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Vn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var yA=function(){function e(){Bn(this,e)}return qn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Bk(e=gk(e,Pk));var n=Rk(e),r=e._freezeSettings(),i=new qg;return Mk(n,i,new Bg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Bk(e=gk(e,Pk));var t=Rk(e),n=e._freezeSettings(),r=new qg;return Mk(t,r,new zg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new gc(yc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new kc;return e._queue.enqueueAndForgetEvenWhileRestricted(s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=s(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tl.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,tl.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(jv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),gA=function(){function e(t,n,r){var i=this;Bn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ol||(this._appCompat=t)}return qn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_k(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Fk(this._delegate)}},{key:"disableNetwork",value:function(){return jk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&pk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new kc;return e.asyncQueue.enqueueAndForget(s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=sg,n.next=3,sk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Rk(e=gk(e,Pk)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return tw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new gc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new DA(this,Sk(this._delegate,e))}catch(eD){throw EA(eD,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new xA(this,Tk(this._delegate,e))}catch(eD){throw EA(eD,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new NA(this,function(e,t){if(e=gk(e,wk),dk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gc(yc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ek(e,null,function(e){return new Cf(Mc.emptyPath(),e)}(t))}(this._delegate,e))}catch(eD){throw EA(eD,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return aw(this._delegate,(function(n){return e(new bA(t,n))}))}},{key:"batch",value:function(){var e=this;return Rk(this._delegate),new wA(new Gb(this._delegate,(function(t){return nw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Uk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Vk(this._delegate,e).then((function(e){return e?new NA(t,e):null}))}}]),e}(),kA=function(e){Kn(n,e);var t=$n(n);function n(e){var r;return Bn(this,n),(r=t.call(this)).firestore=e,r}return qn(n,[{key:"convertBytes",value:function(e){return new vA(new qk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xA.forKey(t,this.firestore,null)}}]),n}(Hb);var bA=function(){function e(t,n){Bn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new kA(t)}return qn(e,[{key:"get",value:function(e){var t=this,n=PA(e);return this._delegate.get(n).then((function(e){return new TA(t._firestore,new _b(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=PA(e);return n?(hA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=PA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PA(e);return this._delegate.delete(t),this}}]),e}(),wA=function(){function e(t){Bn(this,e),this._delegate=t}return qn(e,[{key:"set",value:function(e,t,n){var r=PA(e);return n?(hA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=PA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),_A=function(){function e(t,n,r){Bn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return qn(e,[{key:"fromFirestore",value:function(e,t){var n=new xb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new kA(t),n),i.set(n,a)),a}}]),e}();_A.INSTANCES=new WeakMap;var xA=function(){function e(t,n){Bn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new kA(t)}return qn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new DA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new DA(this.firestore,Sk(this._delegate,e))}catch(eD){throw EA(eD,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Sr(e))instanceof xk&&Ck(this._delegate,e)}},{key:"set",value:function(e,t){t=hA("DocumentReference.set",t);try{return t?Jb(this._delegate,e,t):Jb(this._delegate,e)}catch(eD){throw EA(eD,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Zb(this._delegate,e):Zb.apply(void 0,[this._delegate,e,t].concat(r))}catch(eD){throw EA(eD,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return nw(gk(e.firestore,Pk),[new _h(e._key,sh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=IA(n),a=SA(n,(function(t){return new TA(e.firestore,new _b(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ew(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Xb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=gk(e,xk);var t=gk(e.firestore,Pk);return lk(Rk(t),e._key,{source:"server"}).then((function(n){return rw(t,e,n)}))}(this._delegate):function(e){e=gk(e,xk);var t=gk(e.firestore,Pk);return lk(Rk(t),e._key).then((function(n){return rw(t,e,n)}))}(this._delegate),t.then((function(e){return new TA(n.firestore,new _b(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_A.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new gc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new xk(n._delegate,r,new Uc(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new xk(n._delegate,r,t))}}]),e}();function EA(e,t,n){return e.message=e.message.replace(t,n),e}function IA(e){var t,n=Vn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!mA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function SA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=mA(e[0])?e[0]:mA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var TA=function(){function e(t,n){Bn(this,e),this._firestore=t,this._delegate=n}return qn(e,[{key:"ref",get:function(){return new xA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Sb(this._delegate,e._delegate)}}]),e}(),CA=function(e){Kn(n,e);var t=$n(n);function n(){return Bn(this,n),t.apply(this,arguments)}return qn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||pc()}(void 0!==t),t}}]),n}(TA),NA=function(){function e(t,n){Bn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new kA(t)}return qn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Nb(this._delegate,function(e,t,n){var r=t,i=bb("where",e);return new Ab(i,r,n)}(t,n,r)))}catch(eD){throw EA(eD,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Nb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bb("orderBy",e);return new Ob(n,t)}(t,n)))}catch(eD){throw EA(eD,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Nb(this._delegate,function(e){return kk("limit",e),new Db("limit",e,"F")}(t)))}catch(eD){throw EA(eD,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Nb(this._delegate,function(e){return kk("limitToLast",e),new Db("limitToLast",e,"L")}(t)))}catch(eD){throw EA(eD,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Nb(this._delegate,Rb.apply(void 0,arguments)))}catch(eD){throw EA(eD,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Nb(this._delegate,Lb.apply(void 0,arguments)))}catch(eD){throw EA(eD,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Nb(this._delegate,Fb.apply(void 0,arguments)))}catch(eD){throw EA(eD,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Nb(this._delegate,jb.apply(void 0,arguments)))}catch(eD){throw EA(eD,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Nk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Yb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=gk(e,Ek);var t=gk(e.firestore,Pk),n=Rk(t),r=new $b(t);return fk(n,e._query,{source:"server"}).then((function(n){return new Eb(t,r,e,n)}))}(this._delegate):function(e){e=gk(e,Ek);var t=gk(e.firestore,Pk),n=Rk(t),r=new $b(t);return Tb(e._query),fk(n,e._query).then((function(n){return new Eb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new OA(n.firestore,new Eb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=IA(n),a=SA(n,(function(t){return new OA(e.firestore,new Eb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ew(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_A.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),AA=function(){function e(t,n){Bn(this,e),this._firestore=t,this._delegate=n}return qn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new CA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),OA=function(){function e(t,n){Bn(this,e),this._firestore=t,this._delegate=n}return qn(e,[{key:"query",get:function(){return new NA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new CA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new AA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new CA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Sb(this._delegate,e._delegate)}}]),e}(),DA=function(e){Kn(n,e);var t=$n(n);function n(e,r){var i;return Bn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return qn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new xA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new xA(this.firestore,void 0===e?Tk(this._delegate):Tk(this._delegate,e))}catch(eD){throw EA(eD,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=gk(e.firestore,Pk),r=Tk(e),i=Kb(e.converter,t);return nw(n,[Zk(Jk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Ck(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(_A.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(NA);function PA(e){return gk(e,xk)}var RA=function(){function e(){Bn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Xn(zk,n)}return qn(e,[{key:"isEqual",value:function(e){return(e=Sr(e))instanceof zk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(jc.keyField().canonicalString())}}]),e}(),LA=function(){function e(t){Bn(this,e),this._delegate=t}return qn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new nb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new eb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=ow.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=sw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ab("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),MA={Firestore:gA,GeoPoint:Kk,Timestamp:Pc,Blob:vA,Transaction:bA,WriteBatch:wA,DocumentReference:xA,DocumentSnapshot:TA,Query:NA,QueryDocumentSnapshot:CA,QuerySnapshot:OA,CollectionReference:DA,FieldPath:RA,FieldValue:LA,setLogLevel:function(e){!function(e){uc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Tr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},MA)))}(e,(function(e,t){return new gA(e,t,new yA)})),e.registerVersion("@firebase/firestore-compat","0.1.19")}(oN);var FA=function(){function e(t,n,r){Bn(this,e),this._delegate=t,this.task=n,this.ref=r}return qn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),jA=function(){function e(t,n){Bn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return qn(e,[{key:"snapshot",get:function(){return new FA(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new FA(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new FA(e,i,i._ref))}:{next:t.next?function(e){return t.next(new FA(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),UA=function(){function e(t,n){Bn(this,e),this._delegate=t,this._service=n}return qn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new VA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new VA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),VA=function(){function e(t,n){Bn(this,e),this._delegate=t,this.storage=n}return qn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return I_(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new jA(R_(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dw.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Rw(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new jA(new y_(this._delegate,new jw(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return M_(this._delegate).then((function(t){return new UA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return w_(e=Sr(e),t)}(this._delegate,e||void 0).then((function(e){return new UA(e,t.storage)}))}},{key:"getMetadata",value:function(){return L_(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return __(e=Sr(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return x_(Sr(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),E_(Sr(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw mw(e)}}]),e}(),BA=function(){function e(t,n){Bn(this,e),this.app=t,this._delegate=n}return qn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(zA(e))throw pw("ref() expected a child path but got a URL, use refFromURL instead.");return new VA(F_(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!zA(e))throw pw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bw.makeFromUrl(e,this._delegate.host)}catch(eD){throw pw("refFromUrl() expected a valid full URL but got an invalid one.")}return new VA(F_(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};j_(this._delegate,e,t,n)}}]),e}();function zA(e){return/^[A-Za-z]+:\/\//.test(e)}function qA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new BA(r,i)}!function(e){var t={TaskState:l_,TaskEvent:c_,StringFormat:Dw,Storage:BA,Reference:VA};e.INTERNAL.registerComponent(new Tr("storage-compat",qA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.15")}(oN);var HA=oN.initializeApp({apiKey:"AIzaSyC_b3m9Xeify9CAhuNmM0SVXVLfKWzjxEk",authDomain:"assisalesboxai.firebaseapp.com",projectId:"assisalesboxai",storageBucket:"assisalesboxai.appspot.com",messagingSenderId:"156817388685",appId:"1:156817388685:web:ddb90ef5021fcf9c8c9ec4",measurementId:"G-9HTXPN4CKJ"}),KA=HA.firestore();oN.storage();var WA=function(){var e=pe(),n=h((0,t.useState)(""),2),r=n[0],i=n[1],o=h((0,t.useState)(""),2),u=o[0],c=o[1],l=h((0,t.useState)(""),2),f=l[0],d=l[1],p=h((0,t.useState)(""),2),v=p[0],m=p[1],y=h((0,t.useState)(""),2),g=y[0],k=y[1],b=function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nS(ZC,u,v).then((function(){KA.collection("user").add({name:r,number:f})})).then((function(){alert("User created successfully"),w()})).then((function(){i(""),c(""),d(""),m("")})).then((function(){setTimeout((function(){window.location.reload(1)}),3e3)}));case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),k(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),w=function(){e.push("/login")};return(0,we.jsx)("div",{className:"signup",children:(0,we.jsxs)("div",{className:"row",children:[(0,we.jsx)("div",{className:"col-md",children:(0,we.jsxs)(Fn,{className:"form-signin",onSubmit:function(e){e.preventDefault(),console.log(r,u,f,v)},children:[(0,we.jsx)("div",{id:"img-signin",className:"signin-img",children:(0,we.jsx)("img",{src:"https://th.bing.com/th/id/OIP.iR-L3h8p33r7B8Dn80Lh3AHaHa?pid=ImgDet&rs=1",alt:"login-img"})}),(0,we.jsx)(we.Fragment,{children:g&&["danger"].map((function(e){return(0,we.jsxs)(qt,{variant:e,children:[g," ",e]},e)}))}),(0,we.jsxs)(Fn.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,we.jsx)(Fn.Label,{children:"Name"}),(0,we.jsx)(Fn.Control,{type:"name",placeholder:"Enter Name",required:!0,onChange:function(e){return i(e.target.value)},value:r})]}),(0,we.jsxs)(Fn.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,we.jsx)(Fn.Label,{children:"Email address"}),(0,we.jsx)(Fn.Control,{type:"email",placeholder:"Enter email",required:!0,onChange:function(e){return c(e.target.value)},value:u})]}),(0,we.jsxs)(Fn.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,we.jsx)(Fn.Label,{children:"Mobile Number"}),(0,we.jsx)(Fn.Control,{type:"number",placeholder:"Enter Your Number",required:!0,onChange:function(e){return d(e.target.value)},value:f})]}),(0,we.jsxs)(Fn.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,we.jsx)(Fn.Label,{children:"Password"}),(0,we.jsx)(Fn.Control,{type:"password",placeholder:"Password",required:!0,onChange:function(e){return m(e.target.value)},value:v})]}),(0,we.jsx)(Fn.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:(0,we.jsx)(Fn.Check,{type:"checkbox",label:"Check me out"})}),(0,we.jsx)(Oe,{variant:"primary",type:"submit",onClick:b,children:"Submit"}),(0,we.jsx)("a",{id:"logbtn",class:"btn btn-success",href:"/login",children:"Login"}),(0,we.jsx)("p",{id:"error",children:g})]})}),(0,we.jsxs)("div",{class:"col-md",children:[(0,we.jsx)("h1",{className:"meta",children:"metaverse"}),(0,we.jsx)("p",{className:"meta-desc",children:'In futurism and science fiction, the metaverse is a hypothetical iteration of the Internet as a single, universal and immersive virtual world that is facilitated by the use of virtual reality (VR) and augmented reality (AR) headsets.[1][2] In colloquial use, a metaverse is a network of 3D virtual worlds focused on social connection.[2][3][4] The term "metaverse" originated in the 1992 science fiction novel Snow Crash as a portmanteau of "meta" and "universe." Metaverse development is often linked to advancing virtual reality technology due to increasing demands for immersion.[5][6][7] Recent interest in metaverse development is influenced by Web3,[8][9] a concept for a decentralized iteration of the internet. Web3 and The Metaverse have been used as buzzwords[1][10] to exaggerate development progress of various related technologies and projects for public relations purposes.[11] Information privacy, user addiction, and user safety are concerns within the metaverse, stemming from challenges facing the social media and video game industries as a whole.'})]})]})})},GA=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=P(t.props),t}return p(n,e),n.prototype.render=function(){return t.createElement(ne,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var QA=function(e,t){return"function"===typeof e?e(t):e},$A=function(e,t){return"string"===typeof e?S(e,null,null,t):e},XA=function(e){return e},YA=t.forwardRef;"undefined"===typeof YA&&(YA=XA);var JA=YA((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=Y(e,["innerRef","navigate","onClick"]),s=o.target,u=v({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=XA!==YA&&n||r,t.createElement("a",u)}));var ZA=YA((function(e,n){var r=e.component,i=void 0===r?JA:r,a=e.replace,o=e.to,s=e.innerRef,u=Y(e,["component","replace","to","innerRef"]);return t.createElement(te.Consumer,null,(function(e){e||b(!1);var r=e.history,c=$A(QA(o,e.location),e.location),l=c?r.createHref(c):"",f=v({},u,{href:l,navigate:function(){var t=QA(o,e.location);(a?r.replace:r.push)(t)}});return XA!==YA?f.ref=n||s:f.innerRef=s,t.createElement(i,f)}))})),eO=function(e){return e},tO=t.forwardRef;"undefined"===typeof tO&&(tO=eO);tO((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,m=e.to,y=e.innerRef,g=Y(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(te.Consumer,null,(function(e){e||b(!1);var r=f||e.location,a=$A(QA(m,r),r),k=a.pathname,w=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?ae(r.pathname,{path:w,exact:c,sensitive:h,strict:d}):null,x=!!(l?l(_,r):_),E=x?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,o):u,I=x?v({},p,{},s):p,S=v({"aria-current":x&&i||null,className:E,style:I,to:a},g);return eO!==tO?S.ref=n||y:S.innerRef=y,t.createElement(ZA,S)}))}));var nO=["bsPrefix","className","variant","as"],rO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=ge(e,nO),u=Ce(n,"card-img");return(0,we.jsx)(o,ye({ref:t,className:be()(i?"".concat(u,"-").concat(i):u,r)},s))}));rO.displayName="CardImg";var iO=rO,aO=t.createContext(null);aO.displayName="CardHeaderContext";var oO=aO,sO=["bsPrefix","className","as"],uO=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=ge(e,sO),u=Ce(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,we.jsx)(oO.Provider,{value:c,children:(0,we.jsx)(o,ye(ye({ref:n},s),{},{className:be()(i,u)}))})}));uO.displayName="CardHeader";var cO=uO,lO=["bsPrefix","className","bg","text","border","body","children","as"],fO=Dt("h5"),hO=Dt("h6"),dO=Mt("card-body"),pO=Mt("card-title",{Component:fO}),vO=Mt("card-subtitle",{Component:hO}),mO=Mt("card-link",{Component:"a"}),yO=Mt("card-text",{Component:"p"}),gO=Mt("card-footer"),kO=Mt("card-img-overlay"),bO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=e.children,c=e.as,l=void 0===c?"div":c,f=ge(e,lO),h=Ce(n,"card");return(0,we.jsx)(l,ye(ye({ref:t},f),{},{className:be()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,we.jsx)(dO,{children:u}):u}))}));bO.displayName="Card",bO.defaultProps={body:!1};var wO=Object.assign(bO,{Img:iO,Title:pO,Subtitle:vO,Body:dO,Link:mO,Text:yO,Header:cO,Footer:gO,ImgOverlay:kO});var _O=function(){var e=h((0,t.useState)(""),2),n=e[0],r=e[1],i=pe(),a=h((0,t.useState)(""),2),o=a[0],s=a[1],u=h((0,t.useState)(""),2),c=u[0],l=u[1],f=h((0,t.useState)("Firebase: Error (auth/wrong-password)"),2),d=f[0],p=f[1],v="Wrong Email or Password";return v===d&&p(v),setTimeout((function(){}),5e3),(0,we.jsx)("div",{className:"login",children:(0,we.jsxs)("div",{className:"row",children:[(0,we.jsx)("div",{className:"col-md",children:(0,we.jsx)("div",{className:"",children:(0,we.jsx)("section",{children:(0,we.jsx)(wO,{className:"card-login",style:{width:"20rem"},children:(0,we.jsxs)(Fn,{className:"form-login",onSubmit:function(e){e.preventDefault(),iS(ZC,n,o).then((function(e){var t=e.user;console.log(t)})).then((function(){i.push("/main"),window.location.reload()})).catch((function(e){var t=e.message;l(t),console.log(t)}))},children:[(0,we.jsx)(we.Fragment,{children:c&&["danger"].map((function(e){return(0,we.jsx)(qt,{variant:e,children:v},e)}))}),(0,we.jsx)("h2",{className:"login-header",children:"Login"}),(0,we.jsx)("div",{id:"img-login",className:"login-img",children:(0,we.jsx)("img",{src:"https://th.bing.com/th/id/OIP.iR-L3h8p33r7B8Dn80Lh3AHaHa?pid=ImgDet&rs=1",alt:"login-img"})}),(0,we.jsxs)(Fn.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,we.jsx)(Fn.Label,{children:"Email address"}),(0,we.jsx)(Fn.Control,{type:"email",placeholder:"Enter email",required:!0,onChange:function(e){return r(e.target.value)},value:n}),(0,we.jsx)(Fn.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),(0,we.jsxs)(Fn.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,we.jsx)(Fn.Label,{children:"Password"}),(0,we.jsx)(Fn.Control,{type:"password",placeholder:"Password",required:!0,onChange:function(e){return s(e.target.value)},value:o})]}),(0,we.jsx)(Fn.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:(0,we.jsx)(Fn.Check,{className:"labelCheck",type:"checkbox",label:"Check me out"})}),(0,we.jsx)(Oe,{variant:"primary",type:"submit",children:"Login"}),(0,we.jsx)("a",{id:"sin-btn",className:"btn btn-success",href:"/signin",children:" Sign UP"})]})})})})}),(0,we.jsxs)("div",{class:"col-md",children:[(0,we.jsx)("h1",{className:"nft",children:"Non-fungible tokens (NFTs)"}),(0,we.jsxs)("p",{className:"nft-desc",children:["An NFT is a digital asset that represents real-world objects like art, music, in-game items and videos. They are bought and sold online, frequently with cryptocurrency, and they are generally encoded with the same underlying software as many cryptos.",(0,we.jsx)("br",{}),(0,we.jsx)("br",{}),"Although they\u2019ve been around since 2014, NFTs are gaining notoriety now because they are becoming an increasingly popular way to buy and sell digital artwork. The market for NFTs was worth a staggering $41 billion in 2021 alone, an amount that is approaching the total value of the entire global fine art market."]})]})]})})},xO=n.p+"static/media/starMeta.b86b0cae97ff078f066b.mp4";var EO=function(){return(0,we.jsxs)("div",{className:"main",children:[(0,we.jsx)("div",{className:""}),(0,we.jsx)("video",{src:xO,autoPlay:!0,loop:!0,muted:!0}),(0,we.jsxs)("div",{className:"content",children:[(0,we.jsx)("h1",{children:"Welcome"}),(0,we.jsxs)("p",{children:["To Metaverse",(0,we.jsx)("br",{}),(0,we.jsx)("span",{children:"Metaverse is a decentralized network of virtual worlds"})]})]}),(0,we.jsxs)("div",{className:"goto",children:[(0,we.jsx)("div",{className:"in",children:(0,we.jsx)("a",{className:"btn btn-light",href:"/login",children:"Login"})}),(0,we.jsx)("div",{className:"out",children:(0,we.jsx)("a",{className:"btn btn-light",href:"/signin",children:"Sign up"})})]})]})},IO=(n(3573),Function.prototype.bind.call(Function.prototype.call,[].slice));var SO=t.createContext(null);SO.displayName="NavContext";var TO=SO,CO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},NO=t.createContext(null),AO=t.createContext(null);function OO(e){return"".concat("data-rr-ui-").concat(e)}var DO=["as","active","eventKey"];function PO(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(NO),c=(0,t.useContext)(TO),l=(0,t.useContext)(AO),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);h[OO("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(s&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=Ue((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[h,{isActive:f}]}var RO=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?Ie:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,DO),s=h(PO(Object.assign({key:CO(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[OO("active")]=c.isActive,(0,we.jsx)(r,Object.assign({},o,u,{ref:t}))}));RO.displayName="NavItem";var LO=RO,MO=["as","onSelect","activeKey","role","onKeyDown"];var FO=function(){},jO=OO("event-key"),UO=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,MO),h=(0,t.useReducer)((function(e){return!e}),!1)[1],d=(0,t.useRef)(!1),p=(0,t.useContext)(NO),v=(0,t.useContext)(AO);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n,r,i=(n=t,r="[".concat(jO,"]:not([aria-disabled=true])"),IO(n.querySelectorAll(r))),a=t.querySelector("[aria-selected=true]");if(!a||a!==document.activeElement)return null;var o=i.indexOf(a);if(-1===o)return null;var s=o+e;return s>=i.length&&(s=0),s<0&&(s=i.length-1),i[s]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(jO,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=kt(n,m);return(0,we.jsx)(NO.Provider,{value:g,children:(0,we.jsx)(TO.Provider,{value:{role:c,activeKey:CO(u),getControlledId:r||FO,getControllerId:i||FO},children:(0,we.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));UO.displayName="Nav";var VO=Object.assign(UO,{Item:LO}),BO=t.createContext(null);BO.displayName="NavbarContext";var zO=BO,qO=Mt("nav-item"),HO=["bsPrefix","className","as","active","eventKey"],KO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?qe:i,o=e.active,s=e.eventKey,u=ge(e,HO);n=Ce(n,"nav-link");var c=h(PO(ye({key:CO(s,u.href),active:o},u)),2),l=c[0],f=c[1];return(0,we.jsx)(a,ye(ye(ye({},u),l),{},{ref:t,className:be()(r,n,u.disabled&&"disabled",f.isActive&&"active")}))}));KO.displayName="NavLink",KO.defaultProps={disabled:!1};var WO=KO,GO=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],QO=t.forwardRef((function(e,n){var r,i,a,o=Re(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=ge(o,GO),g=Ce(c,"nav"),k=!1,b=(0,t.useContext)(zO),w=(0,t.useContext)(oO);return b?(i=b.bsPrefix,k=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,we.jsx)(VO,ye({as:u,ref:n,activeKey:m,className:be()(v,(r={},ve(r,g,!k),ve(r,"".concat(i,"-nav"),k),ve(r,"".concat(i,"-nav-scroll"),k&&p),ve(r,"".concat(a,"-").concat(l),!!a),ve(r,"".concat(g,"-").concat(l),!!l),ve(r,"".concat(g,"-fill"),f),ve(r,"".concat(g,"-justified"),h),r))},y))}));QO.displayName="Nav",QO.defaultProps={justify:!1,fill:!1};var $O=Object.assign(QO,{Item:qO,Link:WO}),XO=(0,t.createContext)(null);var YO=function(){var e=(0,t.useContext)(XO).user;return console.log(e),(0,we.jsxs)("div",{className:"main",children:[(0,we.jsxs)($O,{className:"navbar navbar-expand-lg navbar-light bg-light",id:"navbar",activeKey:"/",onSelect:function(e){return alert("home".concat(e))},children:[(0,we.jsx)($O.Item,{children:(0,we.jsx)($O.Link,{href:"/",children:"Home"})}),(0,we.jsx)($O.Item,{className:"nav-login",children:e?e.name:"login"}),(0,we.jsx)($O.Item,{className:"nav-logout",children:"Sign up"}),(0,we.jsx)($O.Item,{className:"nav-logimg",children:(0,we.jsx)("img",{className:"",src:"https://th.bing.com/th/id/OIP.iR-L3h8p33r7B8Dn80Lh3AHaHa?pid=ImgDet&rs=1",alt:""})})]}),(0,we.jsxs)("div",{className:"content",children:[(0,we.jsx)("h1",{children:"Welcome"}),(0,we.jsxs)("p",{children:["To Metaverse",(0,we.jsx)("br",{}),(0,we.jsx)("span",{children:"Metaverse is a decentralized network of virtual worlds"})]})]})]})};var JO=function(){return(0,we.jsx)(GA,{children:(0,we.jsxs)("div",{className:"App",children:[(0,we.jsx)(he,{children:(0,we.jsx)(oe,{exact:!0,path:"/",children:(0,we.jsx)(EO,{})})}),(0,we.jsx)(he,{children:(0,we.jsx)(oe,{exact:!0,path:"/main",children:(0,we.jsx)(YO,{})})}),(0,we.jsx)(he,{children:(0,we.jsx)(oe,{exact:!0,path:"/login",children:(0,we.jsx)(_O,{})})}),(0,we.jsx)(he,{children:(0,we.jsx)(oe,{exact:!0,path:"/signin",children:(0,we.jsx)(WA,{})})})]})})},ZO=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,we.jsx)(t.StrictMode,{children:(0,we.jsx)(XO.Provider,{value:{firebaseApp:HA},children:(0,we.jsx)(JO,{})})})),ZO()}()}();
//# sourceMappingURL=main.771a65ef.js.map